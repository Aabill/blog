var Pg=Object.defineProperty;var Ou=Object.getOwnPropertySymbols;var Mg=Object.prototype.hasOwnProperty,Lg=Object.prototype.propertyIsEnumerable;var Cu=(r,t,n)=>t in r?Pg(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,Iu=(r,t)=>{for(var n in t||(t={}))Mg.call(t,n)&&Cu(r,n,t[n]);if(Ou)for(var n of Ou(t))Lg.call(t,n)&&Cu(r,n,t[n]);return r};function Es(r,t){const n=Object.create(null),i=r.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const Bg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dg=Es(Bg);function Au(r){return!!r||r===""}function xs(r){if(_e(r)){const t={};for(let n=0;n<r.length;n++){const i=r[n],e=Ye(i)?Ug(i):xs(i);if(e)for(const o in e)t[o]=e[o]}return t}else{if(Ye(r))return r;if(He(r))return r}}const Fg=/;(?![^(]*\))/g,jg=/:(.+)/;function Ug(r){const t={};return r.split(Fg).forEach(n=>{if(n){const i=n.split(jg);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ss(r){let t="";if(Ye(r))t=r;else if(_e(r))for(let n=0;n<r.length;n++){const i=Ss(r[n]);i&&(t+=i+" ")}else if(He(r))for(const n in r)r[n]&&(t+=n+" ");return t.trim()}const wx=r=>r==null?"":_e(r)||He(r)&&(r.toString===Lu||!ke(r.toString))?JSON.stringify(r,Ru,2):String(r),Ru=(r,t)=>t&&t.__v_isRef?Ru(r,t.value):nr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,e])=>(n[`${i} =>`]=e,n),{})}:Pu(t)?{[`Set(${t.size})`]:[...t.values()]}:He(t)&&!_e(t)&&!Bu(t)?String(t):t,Re={},tr=[],_t=()=>{},qg=()=>!1,Hg=/^on[^a-z]/,Vi=r=>Hg.test(r),Ts=r=>r.startsWith("onUpdate:"),rt=Object.assign,Nu=(r,t)=>{const n=r.indexOf(t);n>-1&&r.splice(n,1)},zg=Object.prototype.hasOwnProperty,Te=(r,t)=>zg.call(r,t),_e=Array.isArray,nr=r=>Ki(r)==="[object Map]",Pu=r=>Ki(r)==="[object Set]",ke=r=>typeof r=="function",Ye=r=>typeof r=="string",Os=r=>typeof r=="symbol",He=r=>r!==null&&typeof r=="object",Mu=r=>He(r)&&ke(r.then)&&ke(r.catch),Lu=Object.prototype.toString,Ki=r=>Lu.call(r),Wg=r=>Ki(r).slice(8,-1),Bu=r=>Ki(r)==="[object Object]",Cs=r=>Ye(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Gi=Es(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yi=r=>{const t=Object.create(null);return n=>t[n]||(t[n]=r(n))},$g=/-(\w)/g,Ot=Yi(r=>r.replace($g,(t,n)=>n?n.toUpperCase():"")),Vg=/\B([A-Z])/g,rr=Yi(r=>r.replace(Vg,"-$1").toLowerCase()),Xi=Yi(r=>r.charAt(0).toUpperCase()+r.slice(1)),Is=Yi(r=>r?`on${Xi(r)}`:""),Hr=(r,t)=>!Object.is(r,t),As=(r,t)=>{for(let n=0;n<r.length;n++)r[n](t)},Zi=(r,t,n)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:n})},Kg=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let Du;const Gg=()=>Du||(Du=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let En;const Ji=[];class Yg{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&En&&(this.parent=En,this.index=(En.scopes||(En.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(Ji.push(this),En=this)}off(){this.active&&(Ji.pop(),En=Ji[Ji.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function Xg(r,t){t=t||En,t&&t.active&&t.effects.push(r)}const Rs=r=>{const t=new Set(r);return t.w=0,t.n=0,t},Fu=r=>(r.w&en)>0,ju=r=>(r.n&en)>0,Zg=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=en},Jg=r=>{const{deps:t}=r;if(t.length){let n=0;for(let i=0;i<t.length;i++){const e=t[i];Fu(e)&&!ju(e)?e.delete(r):t[n++]=e,e.w&=~en,e.n&=~en}t.length=n}},Ns=new WeakMap;let zr=0,en=1;const Ps=30,Wr=[];let xn;const Sn=Symbol(""),Ms=Symbol("");class Ls{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],Xg(this,i)}run(){if(!this.active)return this.fn();if(!Wr.includes(this))try{return Wr.push(xn=this),Qg(),en=1<<++zr,zr<=Ps?Zg(this):Uu(this),this.fn()}finally{zr<=Ps&&Jg(this),en=1<<--zr,Tn(),Wr.pop();const t=Wr.length;xn=t>0?Wr[t-1]:void 0}}stop(){this.active&&(Uu(this),this.onStop&&this.onStop(),this.active=!1)}}function Uu(r){const{deps:t}=r;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(r);t.length=0}}let ir=!0;const Bs=[];function or(){Bs.push(ir),ir=!1}function Qg(){Bs.push(ir),ir=!0}function Tn(){const r=Bs.pop();ir=r===void 0?!0:r}function ht(r,t,n){if(!qu())return;let i=Ns.get(r);i||Ns.set(r,i=new Map);let e=i.get(n);e||i.set(n,e=Rs()),Hu(e)}function qu(){return ir&&xn!==void 0}function Hu(r,t){let n=!1;zr<=Ps?ju(r)||(r.n|=en,n=!Fu(r)):n=!r.has(xn),n&&(r.add(xn),xn.deps.push(r))}function qt(r,t,n,i,e,o){const s=Ns.get(r);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&_e(r))s.forEach((a,u)=>{(u==="length"||u>=i)&&l.push(a)});else switch(n!==void 0&&l.push(s.get(n)),t){case"add":_e(r)?Cs(n)&&l.push(s.get("length")):(l.push(s.get(Sn)),nr(r)&&l.push(s.get(Ms)));break;case"delete":_e(r)||(l.push(s.get(Sn)),nr(r)&&l.push(s.get(Ms)));break;case"set":nr(r)&&l.push(s.get(Sn));break}if(l.length===1)l[0]&&Ds(l[0]);else{const a=[];for(const u of l)u&&a.push(...u);Ds(Rs(a))}}function Ds(r,t){for(const n of _e(r)?r:[...r])(n!==xn||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const ev=Es("__proto__,__v_isRef,__isVue"),zu=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(Os)),tv=Fs(),nv=Fs(!1,!0),rv=Fs(!0),Wu=iv();function iv(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...n){const i=Ie(this);for(let o=0,s=this.length;o<s;o++)ht(i,"get",o+"");const e=i[t](...n);return e===-1||e===!1?i[t](...n.map(Ie)):e}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...n){or();const i=Ie(this)[t].apply(this,n);return Tn(),i}}),r}function Fs(r=!1,t=!1){return function(i,e,o){if(e==="__v_isReactive")return!r;if(e==="__v_isReadonly")return r;if(e==="__v_raw"&&o===(r?t?_v:Qu:t?Ju:Zu).get(i))return i;const s=_e(i);if(!r&&s&&Te(Wu,e))return Reflect.get(Wu,e,o);const l=Reflect.get(i,e,o);return(Os(e)?zu.has(e):ev(e))||(r||ht(i,"get",e),t)?l:lt(l)?!s||!Cs(e)?l.value:l:He(l)?r?ec(l):$r(l):l}}const ov=$u(),sv=$u(!0);function $u(r=!1){return function(n,i,e,o){let s=n[i];if(!r&&!Hs(e)&&(e=Ie(e),s=Ie(s),!_e(n)&&lt(s)&&!lt(e)))return s.value=e,!0;const l=_e(n)&&Cs(i)?Number(i)<n.length:Te(n,i),a=Reflect.set(n,i,e,o);return n===Ie(o)&&(l?Hr(e,s)&&qt(n,"set",i,e):qt(n,"add",i,e)),a}}function av(r,t){const n=Te(r,t);r[t];const i=Reflect.deleteProperty(r,t);return i&&n&&qt(r,"delete",t,void 0),i}function lv(r,t){const n=Reflect.has(r,t);return(!Os(t)||!zu.has(t))&&ht(r,"has",t),n}function uv(r){return ht(r,"iterate",_e(r)?"length":Sn),Reflect.ownKeys(r)}const Vu={get:tv,set:ov,deleteProperty:av,has:lv,ownKeys:uv},cv={get:rv,set(r,t){return!0},deleteProperty(r,t){return!0}},fv=rt({},Vu,{get:nv,set:sv}),js=r=>r,Qi=r=>Reflect.getPrototypeOf(r);function eo(r,t,n=!1,i=!1){r=r.__v_raw;const e=Ie(r),o=Ie(t);t!==o&&!n&&ht(e,"get",t),!n&&ht(e,"get",o);const{has:s}=Qi(e),l=i?js:n?zs:Vr;if(s.call(e,t))return l(r.get(t));if(s.call(e,o))return l(r.get(o));r!==e&&r.get(t)}function to(r,t=!1){const n=this.__v_raw,i=Ie(n),e=Ie(r);return r!==e&&!t&&ht(i,"has",r),!t&&ht(i,"has",e),r===e?n.has(r):n.has(r)||n.has(e)}function no(r,t=!1){return r=r.__v_raw,!t&&ht(Ie(r),"iterate",Sn),Reflect.get(r,"size",r)}function Ku(r){r=Ie(r);const t=Ie(this);return Qi(t).has.call(t,r)||(t.add(r),qt(t,"add",r,r)),this}function Gu(r,t){t=Ie(t);const n=Ie(this),{has:i,get:e}=Qi(n);let o=i.call(n,r);o||(r=Ie(r),o=i.call(n,r));const s=e.call(n,r);return n.set(r,t),o?Hr(t,s)&&qt(n,"set",r,t):qt(n,"add",r,t),this}function Yu(r){const t=Ie(this),{has:n,get:i}=Qi(t);let e=n.call(t,r);e||(r=Ie(r),e=n.call(t,r)),i&&i.call(t,r);const o=t.delete(r);return e&&qt(t,"delete",r,void 0),o}function Xu(){const r=Ie(this),t=r.size!==0,n=r.clear();return t&&qt(r,"clear",void 0,void 0),n}function ro(r,t){return function(i,e){const o=this,s=o.__v_raw,l=Ie(s),a=t?js:r?zs:Vr;return!r&&ht(l,"iterate",Sn),s.forEach((u,d)=>i.call(e,a(u),a(d),o))}}function io(r,t,n){return function(...i){const e=this.__v_raw,o=Ie(e),s=nr(o),l=r==="entries"||r===Symbol.iterator&&s,a=r==="keys"&&s,u=e[r](...i),d=n?js:t?zs:Vr;return!t&&ht(o,"iterate",a?Ms:Sn),{next(){const{value:f,done:c}=u.next();return c?{value:f,done:c}:{value:l?[d(f[0]),d(f[1])]:d(f),done:c}},[Symbol.iterator](){return this}}}}function tn(r){return function(...t){return r==="delete"?!1:this}}function dv(){const r={get(o){return eo(this,o)},get size(){return no(this)},has:to,add:Ku,set:Gu,delete:Yu,clear:Xu,forEach:ro(!1,!1)},t={get(o){return eo(this,o,!1,!0)},get size(){return no(this)},has:to,add:Ku,set:Gu,delete:Yu,clear:Xu,forEach:ro(!1,!0)},n={get(o){return eo(this,o,!0)},get size(){return no(this,!0)},has(o){return to.call(this,o,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:ro(!0,!1)},i={get(o){return eo(this,o,!0,!0)},get size(){return no(this,!0)},has(o){return to.call(this,o,!0)},add:tn("add"),set:tn("set"),delete:tn("delete"),clear:tn("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{r[o]=io(o,!1,!1),n[o]=io(o,!0,!1),t[o]=io(o,!1,!0),i[o]=io(o,!0,!0)}),[r,n,t,i]}const[hv,pv,gv,vv]=dv();function Us(r,t){const n=t?r?vv:gv:r?pv:hv;return(i,e,o)=>e==="__v_isReactive"?!r:e==="__v_isReadonly"?r:e==="__v_raw"?i:Reflect.get(Te(n,e)&&e in i?n:i,e,o)}const mv={get:Us(!1,!1)},yv={get:Us(!1,!0)},bv={get:Us(!0,!1)},Zu=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,_v=new WeakMap;function kv(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wv(r){return r.__v_skip||!Object.isExtensible(r)?0:kv(Wg(r))}function $r(r){return r&&r.__v_isReadonly?r:qs(r,!1,Vu,mv,Zu)}function Ev(r){return qs(r,!1,fv,yv,Ju)}function ec(r){return qs(r,!0,cv,bv,Qu)}function qs(r,t,n,i,e){if(!He(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const o=e.get(r);if(o)return o;const s=wv(r);if(s===0)return r;const l=new Proxy(r,s===2?i:n);return e.set(r,l),l}function sr(r){return Hs(r)?sr(r.__v_raw):!!(r&&r.__v_isReactive)}function Hs(r){return!!(r&&r.__v_isReadonly)}function tc(r){return sr(r)||Hs(r)}function Ie(r){const t=r&&r.__v_raw;return t?Ie(t):r}function nc(r){return Zi(r,"__v_skip",!0),r}const Vr=r=>He(r)?$r(r):r,zs=r=>He(r)?ec(r):r;function rc(r){qu()&&(r=Ie(r),r.dep||(r.dep=Rs()),Hu(r.dep))}function ic(r,t){r=Ie(r),r.dep&&Ds(r.dep)}function lt(r){return Boolean(r&&r.__v_isRef===!0)}function Ws(r){return oc(r,!1)}function xv(r){return oc(r,!0)}function oc(r,t){return lt(r)?r:new Sv(r,t)}class Sv{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ie(t),this._value=n?t:Vr(t)}get value(){return rc(this),this._value}set value(t){t=this._shallow?t:Ie(t),Hr(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Vr(t),ic(this))}}function Kr(r){return lt(r)?r.value:r}const Tv={get:(r,t,n)=>Kr(Reflect.get(r,t,n)),set:(r,t,n,i)=>{const e=r[t];return lt(e)&&!lt(n)?(e.value=n,!0):Reflect.set(r,t,n,i)}};function sc(r){return sr(r)?r:new Proxy(r,Tv)}class Ov{constructor(t,n,i){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Ls(t,()=>{this._dirty||(this._dirty=!0,ic(this))}),this.__v_isReadonly=i}get value(){const t=Ie(this);return rc(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ct(r,t){let n,i;const e=ke(r);return e?(n=r,i=_t):(n=r.get,i=r.set),new Ov(n,i,e||!i)}Promise.resolve();function Cv(r,t,...n){const i=r.vnode.props||Re;let e=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in i){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:c}=i[d]||Re;c?e=n.map(h=>h.trim()):f&&(e=n.map(Kg))}let l,a=i[l=Is(t)]||i[l=Is(Ot(t))];!a&&o&&(a=i[l=Is(rr(t))]),a&&wt(a,r,6,e);const u=i[l+"Once"];if(u){if(!r.emitted)r.emitted={};else if(r.emitted[l])return;r.emitted[l]=!0,wt(u,r,6,e)}}function ac(r,t,n=!1){const i=t.emitsCache,e=i.get(r);if(e!==void 0)return e;const o=r.emits;let s={},l=!1;if(!ke(r)){const a=u=>{const d=ac(u,t,!0);d&&(l=!0,rt(s,d))};!n&&t.mixins.length&&t.mixins.forEach(a),r.extends&&a(r.extends),r.mixins&&r.mixins.forEach(a)}return!o&&!l?(i.set(r,null),null):(_e(o)?o.forEach(a=>s[a]=null):rt(s,o),i.set(r,s),s)}function $s(r,t){return!r||!Vi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Te(r,t[0].toLowerCase()+t.slice(1))||Te(r,rr(t))||Te(r,t))}let kt=null,oo=null;function so(r){const t=kt;return kt=r,oo=r&&r.type.__scopeId||null,t}function Ex(r){oo=r}function xx(){oo=null}function Iv(r,t=kt,n){if(!t||r._n)return r;const i=(...e)=>{i._d&&Rc(-1);const o=so(t),s=r(...e);return so(o),i._d&&Rc(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function Vs(r){const{type:t,vnode:n,proxy:i,withProxy:e,props:o,propsOptions:[s],slots:l,attrs:a,emit:u,render:d,renderCache:f,data:c,setupState:h,ctx:v,inheritAttrs:m}=r;let y,p;const g=so(r);try{if(n.shapeFlag&4){const b=e||i;y=At(d.call(b,b,f,o,h,c,v)),p=a}else{const b=t;y=At(b.length>1?b(o,{attrs:a,slots:l,emit:u}):b(o,null)),p=t.props?a:Av(a)}}catch(b){Gr.length=0,vo(b,r,1),y=pt(In)}let _=y;if(p&&m!==!1){const b=Object.keys(p),{shapeFlag:k}=_;b.length&&k&(1|6)&&(s&&b.some(Ts)&&(p=Rv(p,s)),_=Xr(_,p))}return n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,so(g),y}const Av=r=>{let t;for(const n in r)(n==="class"||n==="style"||Vi(n))&&((t||(t={}))[n]=r[n]);return t},Rv=(r,t)=>{const n={};for(const i in r)(!Ts(i)||!(i.slice(9)in t))&&(n[i]=r[i]);return n};function Nv(r,t,n){const{props:i,children:e,component:o}=r,{props:s,children:l,patchFlag:a}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?lc(i,s,u):!!s;if(a&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const c=d[f];if(s[c]!==i[c]&&!$s(u,c))return!0}}}else return(e||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?lc(i,s,u):!0:!!s;return!1}function lc(r,t,n){const i=Object.keys(t);if(i.length!==Object.keys(r).length)return!0;for(let e=0;e<i.length;e++){const o=i[e];if(t[o]!==r[o]&&!$s(n,o))return!0}return!1}function Pv({vnode:r,parent:t},n){for(;t&&t.subTree===r;)(r=t.vnode).el=n,t=t.parent}const Mv=r=>r.__isSuspense;function Lv(r,t){t&&t.pendingBranch?_e(r)?t.effects.push(...r):t.effects.push(r):Rm(r)}function ao(r,t){if(Xe){let n=Xe.provides;const i=Xe.parent&&Xe.parent.provides;i===n&&(n=Xe.provides=Object.create(i)),n[r]=t}}function nn(r,t,n=!1){const i=Xe||kt;if(i){const e=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(e&&r in e)return e[r];if(arguments.length>1)return n&&ke(t)?t.call(i.proxy):t}}function Ks(r){return ke(r)?{setup:r,name:r.name}:r}const Gs=r=>!!r.type.__asyncLoader,uc=r=>r.type.__isKeepAlive;function Bv(r,t){cc(r,"a",t)}function Dv(r,t){cc(r,"da",t)}function cc(r,t,n=Xe){const i=r.__wdc||(r.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return r()});if(lo(t,i,n),n){let e=n.parent;for(;e&&e.parent;)uc(e.parent.vnode)&&Fv(i,t,n,e),e=e.parent}}function Fv(r,t,n,i){const e=lo(t,r,i,!0);hc(()=>{Nu(i[t],e)},n)}function lo(r,t,n=Xe,i=!1){if(n){const e=n[r]||(n[r]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;or(),ar(n);const l=wt(t,n,r,s);return Rn(),Tn(),l});return i?e.unshift(o):e.push(o),o}}const Ht=r=>(t,n=Xe)=>(!go||r==="sp")&&lo(r,t,n),jv=Ht("bm"),fc=Ht("m"),Uv=Ht("bu"),qv=Ht("u"),dc=Ht("bum"),hc=Ht("um"),Hv=Ht("sp"),zv=Ht("rtg"),Wv=Ht("rtc");function $v(r,t=Xe){lo("ec",r,t)}let Ys=!0;function Vv(r){const t=vc(r),n=r.proxy,i=r.ctx;Ys=!1,t.beforeCreate&&pc(t.beforeCreate,r,"bc");const{data:e,computed:o,methods:s,watch:l,provide:a,inject:u,created:d,beforeMount:f,mounted:c,beforeUpdate:h,updated:v,activated:m,deactivated:y,beforeDestroy:p,beforeUnmount:g,destroyed:_,unmounted:b,render:k,renderTracked:w,renderTriggered:S,errorCaptured:O,serverPrefetch:A,expose:T,inheritAttrs:x,components:E,directives:C,filters:N}=t;if(u&&Kv(u,i,null,r.appContext.config.unwrapInjectedRef),s)for(const L in s){const P=s[L];ke(P)&&(i[L]=P.bind(n))}if(e){const L=e.call(n,n);He(L)&&(r.data=$r(L))}if(Ys=!0,o)for(const L in o){const P=o[L],D=ke(P)?P.bind(n,n):ke(P.get)?P.get.bind(n,n):_t,U=!ke(P)&&ke(P.set)?P.set.bind(n):_t,M=Ct({get:D,set:U});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>M.value,set:B=>M.value=B})}if(l)for(const L in l)gc(l[L],i,n,L);if(a){const L=ke(a)?a.call(n):a;Reflect.ownKeys(L).forEach(P=>{ao(P,L[P])})}d&&pc(d,r,"c");function I(L,P){_e(P)?P.forEach(D=>L(D.bind(n))):P&&L(P.bind(n))}if(I(jv,f),I(fc,c),I(Uv,h),I(qv,v),I(Bv,m),I(Dv,y),I($v,O),I(Wv,w),I(zv,S),I(dc,g),I(hc,b),I(Hv,A),_e(T))if(T.length){const L=r.exposed||(r.exposed={});T.forEach(P=>{Object.defineProperty(L,P,{get:()=>n[P],set:D=>n[P]=D})})}else r.exposed||(r.exposed={});k&&r.render===_t&&(r.render=k),x!=null&&(r.inheritAttrs=x),E&&(r.components=E),C&&(r.directives=C)}function Kv(r,t,n=_t,i=!1){_e(r)&&(r=Xs(r));for(const e in r){const o=r[e];let s;He(o)?"default"in o?s=nn(o.from||e,o.default,!0):s=nn(o.from||e):s=nn(o),lt(s)&&i?Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[e]=s}}function pc(r,t,n){wt(_e(r)?r.map(i=>i.bind(t.proxy)):r.bind(t.proxy),t,n)}function gc(r,t,n,i){const e=i.includes(".")?Kc(n,i):()=>n[i];if(Ye(r)){const o=t[r];ke(o)&&cr(e,o)}else if(ke(r))cr(e,r.bind(n));else if(He(r))if(_e(r))r.forEach(o=>gc(o,t,n,i));else{const o=ke(r.handler)?r.handler.bind(n):t[r.handler];ke(o)&&cr(e,o,r)}}function vc(r){const t=r.type,{mixins:n,extends:i}=t,{mixins:e,optionsCache:o,config:{optionMergeStrategies:s}}=r.appContext,l=o.get(t);let a;return l?a=l:!e.length&&!n&&!i?a=t:(a={},e.length&&e.forEach(u=>uo(a,u,s,!0)),uo(a,t,s)),o.set(t,a),a}function uo(r,t,n,i=!1){const{mixins:e,extends:o}=t;o&&uo(r,o,n,!0),e&&e.forEach(s=>uo(r,s,n,!0));for(const s in t)if(!(i&&s==="expose")){const l=Gv[s]||n&&n[s];r[s]=l?l(r[s],t[s]):t[s]}return r}const Gv={data:mc,props:On,emits:On,methods:On,computed:On,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:On,directives:On,watch:Xv,provide:mc,inject:Yv};function mc(r,t){return t?r?function(){return rt(ke(r)?r.call(this,this):r,ke(t)?t.call(this,this):t)}:t:r}function Yv(r,t){return On(Xs(r),Xs(t))}function Xs(r){if(_e(r)){const t={};for(let n=0;n<r.length;n++)t[r[n]]=r[n];return t}return r}function it(r,t){return r?[...new Set([].concat(r,t))]:t}function On(r,t){return r?rt(rt(Object.create(null),r),t):t}function Xv(r,t){if(!r)return t;if(!t)return r;const n=rt(Object.create(null),r);for(const i in t)n[i]=it(r[i],t[i]);return n}function Zv(r,t,n,i=!1){const e={},o={};Zi(o,fo,1),r.propsDefaults=Object.create(null),yc(r,t,e,o);for(const s in r.propsOptions[0])s in e||(e[s]=void 0);n?r.props=i?e:Ev(e):r.type.props?r.props=e:r.props=o,r.attrs=o}function Jv(r,t,n,i){const{props:e,attrs:o,vnode:{patchFlag:s}}=r,l=Ie(e),[a]=r.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=r.vnode.dynamicProps;for(let f=0;f<d.length;f++){let c=d[f];const h=t[c];if(a)if(Te(o,c))h!==o[c]&&(o[c]=h,u=!0);else{const v=Ot(c);e[v]=Zs(a,l,v,h,r,!1)}else h!==o[c]&&(o[c]=h,u=!0)}}}else{yc(r,t,e,o)&&(u=!0);let d;for(const f in l)(!t||!Te(t,f)&&((d=rr(f))===f||!Te(t,d)))&&(a?n&&(n[f]!==void 0||n[d]!==void 0)&&(e[f]=Zs(a,l,f,void 0,r,!0)):delete e[f]);if(o!==l)for(const f in o)(!t||!Te(t,f))&&(delete o[f],u=!0)}u&&qt(r,"set","$attrs")}function yc(r,t,n,i){const[e,o]=r.propsOptions;let s=!1,l;if(t)for(let a in t){if(Gi(a))continue;const u=t[a];let d;e&&Te(e,d=Ot(a))?!o||!o.includes(d)?n[d]=u:(l||(l={}))[d]=u:$s(r.emitsOptions,a)||(!(a in i)||u!==i[a])&&(i[a]=u,s=!0)}if(o){const a=Ie(n),u=l||Re;for(let d=0;d<o.length;d++){const f=o[d];n[f]=Zs(e,a,f,u[f],r,!Te(u,f))}}return s}function Zs(r,t,n,i,e,o){const s=r[n];if(s!=null){const l=Te(s,"default");if(l&&i===void 0){const a=s.default;if(s.type!==Function&&ke(a)){const{propsDefaults:u}=e;n in u?i=u[n]:(ar(e),i=u[n]=a.call(null,t),Rn())}else i=a}s[0]&&(o&&!l?i=!1:s[1]&&(i===""||i===rr(n))&&(i=!0))}return i}function bc(r,t,n=!1){const i=t.propsCache,e=i.get(r);if(e)return e;const o=r.props,s={},l=[];let a=!1;if(!ke(r)){const d=f=>{a=!0;const[c,h]=bc(f,t,!0);rt(s,c),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(d),r.extends&&d(r.extends),r.mixins&&r.mixins.forEach(d)}if(!o&&!a)return i.set(r,tr),tr;if(_e(o))for(let d=0;d<o.length;d++){const f=Ot(o[d]);_c(f)&&(s[f]=Re)}else if(o)for(const d in o){const f=Ot(d);if(_c(f)){const c=o[d],h=s[f]=_e(c)||ke(c)?{type:c}:c;if(h){const v=Ec(Boolean,h.type),m=Ec(String,h.type);h[0]=v>-1,h[1]=m<0||v<m,(v>-1||Te(h,"default"))&&l.push(f)}}}const u=[s,l];return i.set(r,u),u}function _c(r){return r[0]!=="$"}function kc(r){const t=r&&r.toString().match(/^\s*function (\w+)/);return t?t[1]:r===null?"null":""}function wc(r,t){return kc(r)===kc(t)}function Ec(r,t){return _e(t)?t.findIndex(n=>wc(n,r)):ke(t)&&wc(t,r)?0:-1}const xc=r=>r[0]==="_"||r==="$stable",Js=r=>_e(r)?r.map(At):[At(r)],Qv=(r,t,n)=>{const i=Iv((...e)=>Js(t(...e)),n);return i._c=!1,i},Sc=(r,t,n)=>{const i=r._ctx;for(const e in r){if(xc(e))continue;const o=r[e];if(ke(o))t[e]=Qv(e,o,i);else if(o!=null){const s=Js(o);t[e]=()=>s}}},Tc=(r,t)=>{const n=Js(t);r.slots.default=()=>n},em=(r,t)=>{if(r.vnode.shapeFlag&32){const n=t._;n?(r.slots=Ie(t),Zi(t,"_",n)):Sc(t,r.slots={})}else r.slots={},t&&Tc(r,t);Zi(r.slots,fo,1)},tm=(r,t,n)=>{const{vnode:i,slots:e}=r;let o=!0,s=Re;if(i.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(rt(e,t),!n&&l===1&&delete e._):(o=!t.$stable,Sc(t,e)),s=t}else t&&(Tc(r,t),s={default:1});if(o)for(const l in e)!xc(l)&&!(l in s)&&delete e[l]};function Sx(r,t){const n=kt;if(n===null)return r;const i=n.proxy,e=r.dirs||(r.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,a,u=Re]=t[o];ke(s)&&(s={mounted:s,updated:s}),s.deep&&Nn(l),e.push({dir:s,instance:i,value:l,oldValue:void 0,arg:a,modifiers:u})}return r}function Cn(r,t,n,i){const e=r.dirs,o=t&&t.dirs;for(let s=0;s<e.length;s++){const l=e[s];o&&(l.oldValue=o[s].value);let a=l.dir[i];a&&(or(),wt(a,n,8,[r.el,l,r,t]),Tn())}}function Oc(){return{app:null,config:{isNativeTag:qg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nm=0;function rm(r,t){return function(i,e=null){e!=null&&!He(e)&&(e=null);const o=Oc(),s=new Set;let l=!1;const a=o.app={_uid:nm++,_component:i,_props:e,_container:null,_context:o,_instance:null,version:Pm,get config(){return o.config},set config(u){},use(u,...d){return s.has(u)||(u&&ke(u.install)?(s.add(u),u.install(a,...d)):ke(u)&&(s.add(u),u(a,...d))),a},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),a},component(u,d){return d?(o.components[u]=d,a):o.components[u]},directive(u,d){return d?(o.directives[u]=d,a):o.directives[u]},mount(u,d,f){if(!l){const c=pt(i,e);return c.appContext=o,d&&t?t(c,u):r(c,u,f),l=!0,a._container=u,u.__vue_app__=a,oa(c.component)||c.component.proxy}},unmount(){l&&(r(null,a._container),delete a._container.__vue_app__)},provide(u,d){return o.provides[u]=d,a}};return a}}const ot=Lv;function im(r){return om(r)}function om(r,t){const n=Gg();n.__VUE__=!0;const{insert:i,remove:e,patchProp:o,createElement:s,createText:l,createComment:a,setText:u,setElementText:d,parentNode:f,nextSibling:c,setScopeId:h=_t,cloneNode:v,insertStaticContent:m}=r,y=($,G,K,ee=null,re=null,Y=null,Z=!1,te=null,ne=!!G.dynamicChildren)=>{if($===G)return;$&&!Yr($,G)&&(ee=W($),q($,re,Y,!0),$=null),G.patchFlag===-2&&(ne=!1,G.dynamicChildren=null);const{type:J,ref:le,shapeFlag:se}=G;switch(J){case ea:p($,G,K,ee);break;case In:g($,G,K,ee);break;case ta:$==null&&_(G,K,ee,Z);break;case zt:C($,G,K,ee,re,Y,Z,te,ne);break;default:se&1?w($,G,K,ee,re,Y,Z,te,ne):se&6?N($,G,K,ee,re,Y,Z,te,ne):(se&64||se&128)&&J.process($,G,K,ee,re,Y,Z,te,ne,X)}le!=null&&re&&Qs(le,$&&$.ref,Y,G||$,!G)},p=($,G,K,ee)=>{if($==null)i(G.el=l(G.children),K,ee);else{const re=G.el=$.el;G.children!==$.children&&u(re,G.children)}},g=($,G,K,ee)=>{$==null?i(G.el=a(G.children||""),K,ee):G.el=$.el},_=($,G,K,ee)=>{[$.el,$.anchor]=m($.children,G,K,ee)},b=({el:$,anchor:G},K,ee)=>{let re;for(;$&&$!==G;)re=c($),i($,K,ee),$=re;i(G,K,ee)},k=({el:$,anchor:G})=>{let K;for(;$&&$!==G;)K=c($),e($),$=K;e(G)},w=($,G,K,ee,re,Y,Z,te,ne)=>{Z=Z||G.type==="svg",$==null?S(G,K,ee,re,Y,Z,te,ne):T($,G,re,Y,Z,te,ne)},S=($,G,K,ee,re,Y,Z,te)=>{let ne,J;const{type:le,props:se,shapeFlag:ae,transition:oe,patchFlag:ue,dirs:fe}=$;if($.el&&v!==void 0&&ue===-1)ne=$.el=v($.el);else{if(ne=$.el=s($.type,Y,se&&se.is,se),ae&8?d(ne,$.children):ae&16&&A($.children,ne,null,ee,re,Y&&le!=="foreignObject",Z,te),fe&&Cn($,null,ee,"created"),se){for(const pe in se)pe!=="value"&&!Gi(pe)&&o(ne,pe,null,se[pe],Y,$.children,ee,re,H);"value"in se&&o(ne,"value",null,se.value),(J=se.onVnodeBeforeMount)&&It(J,ee,$)}O(ne,$,$.scopeId,Z,ee)}fe&&Cn($,null,ee,"beforeMount");const ge=(!re||re&&!re.pendingBranch)&&oe&&!oe.persisted;ge&&oe.beforeEnter(ne),i(ne,G,K),((J=se&&se.onVnodeMounted)||ge||fe)&&ot(()=>{J&&It(J,ee,$),ge&&oe.enter(ne),fe&&Cn($,null,ee,"mounted")},re)},O=($,G,K,ee,re)=>{if(K&&h($,K),ee)for(let Y=0;Y<ee.length;Y++)h($,ee[Y]);if(re){let Y=re.subTree;if(G===Y){const Z=re.vnode;O($,Z,Z.scopeId,Z.slotScopeIds,re.parent)}}},A=($,G,K,ee,re,Y,Z,te,ne=0)=>{for(let J=ne;J<$.length;J++){const le=$[J]=te?rn($[J]):At($[J]);y(null,le,G,K,ee,re,Y,Z,te)}},T=($,G,K,ee,re,Y,Z)=>{const te=G.el=$.el;let{patchFlag:ne,dynamicChildren:J,dirs:le}=G;ne|=$.patchFlag&16;const se=$.props||Re,ae=G.props||Re;let oe;(oe=ae.onVnodeBeforeUpdate)&&It(oe,K,G,$),le&&Cn(G,$,K,"beforeUpdate");const ue=re&&G.type!=="foreignObject";if(J?x($.dynamicChildren,J,te,K,ee,ue,Y):Z||D($,G,te,null,K,ee,ue,Y,!1),ne>0){if(ne&16)E(te,G,se,ae,K,ee,re);else if(ne&2&&se.class!==ae.class&&o(te,"class",null,ae.class,re),ne&4&&o(te,"style",se.style,ae.style,re),ne&8){const fe=G.dynamicProps;for(let ge=0;ge<fe.length;ge++){const pe=fe[ge],Ce=se[pe],Ge=ae[pe];(Ge!==Ce||pe==="value")&&o(te,pe,Ce,Ge,re,$.children,K,ee,H)}}ne&1&&$.children!==G.children&&d(te,G.children)}else!Z&&J==null&&E(te,G,se,ae,K,ee,re);((oe=ae.onVnodeUpdated)||le)&&ot(()=>{oe&&It(oe,K,G,$),le&&Cn(G,$,K,"updated")},ee)},x=($,G,K,ee,re,Y,Z)=>{for(let te=0;te<G.length;te++){const ne=$[te],J=G[te],le=ne.el&&(ne.type===zt||!Yr(ne,J)||ne.shapeFlag&(6|64))?f(ne.el):K;y(ne,J,le,null,ee,re,Y,Z,!0)}},E=($,G,K,ee,re,Y,Z)=>{if(K!==ee){for(const te in ee){if(Gi(te))continue;const ne=ee[te],J=K[te];ne!==J&&te!=="value"&&o($,te,J,ne,Z,G.children,re,Y,H)}if(K!==Re)for(const te in K)!Gi(te)&&!(te in ee)&&o($,te,K[te],null,Z,G.children,re,Y,H);"value"in ee&&o($,"value",K.value,ee.value)}},C=($,G,K,ee,re,Y,Z,te,ne)=>{const J=G.el=$?$.el:l(""),le=G.anchor=$?$.anchor:l("");let{patchFlag:se,dynamicChildren:ae,slotScopeIds:oe}=G;oe&&(te=te?te.concat(oe):oe),$==null?(i(J,K,ee),i(le,K,ee),A(G.children,K,le,re,Y,Z,te,ne)):se>0&&se&64&&ae&&$.dynamicChildren?(x($.dynamicChildren,ae,K,re,Y,Z,te),(G.key!=null||re&&G===re.subTree)&&Cc($,G,!0)):D($,G,K,le,re,Y,Z,te,ne)},N=($,G,K,ee,re,Y,Z,te,ne)=>{G.slotScopeIds=te,$==null?G.shapeFlag&512?re.ctx.activate(G,K,ee,Z,ne):R(G,K,ee,re,Y,Z,ne):I($,G,ne)},R=($,G,K,ee,re,Y,Z)=>{const te=$.component=_m($,ee,re);if(uc($)&&(te.ctx.renderer=X),km(te),te.asyncDep){if(re&&re.registerDep(te,L),!$.el){const ne=te.subTree=pt(In);g(null,ne,G,K)}return}L(te,$,G,K,re,Y,Z)},I=($,G,K)=>{const ee=G.component=$.component;if(Nv($,G,K))if(ee.asyncDep&&!ee.asyncResolved){P(ee,G,K);return}else ee.next=G,Im(ee.update),ee.update();else G.component=$.component,G.el=$.el,ee.vnode=G},L=($,G,K,ee,re,Y,Z)=>{const te=()=>{if($.isMounted){let{next:le,bu:se,u:ae,parent:oe,vnode:ue}=$,fe=le,ge;ne.allowRecurse=!1,le?(le.el=ue.el,P($,le,Z)):le=ue,se&&As(se),(ge=le.props&&le.props.onVnodeBeforeUpdate)&&It(ge,oe,le,ue),ne.allowRecurse=!0;const pe=Vs($),Ce=$.subTree;$.subTree=pe,y(Ce,pe,f(Ce.el),W(Ce),$,re,Y),le.el=pe.el,fe===null&&Pv($,pe.el),ae&&ot(ae,re),(ge=le.props&&le.props.onVnodeUpdated)&&ot(()=>It(ge,oe,le,ue),re)}else{let le;const{el:se,props:ae}=G,{bm:oe,m:ue,parent:fe}=$,ge=Gs(G);if(ne.allowRecurse=!1,oe&&As(oe),!ge&&(le=ae&&ae.onVnodeBeforeMount)&&It(le,fe,G),ne.allowRecurse=!0,se&&ie){const pe=()=>{$.subTree=Vs($),ie(se,$.subTree,$,re,null)};ge?G.type.__asyncLoader().then(()=>!$.isUnmounted&&pe()):pe()}else{const pe=$.subTree=Vs($);y(null,pe,K,ee,$,re,Y),G.el=pe.el}if(ue&&ot(ue,re),!ge&&(le=ae&&ae.onVnodeMounted)){const pe=G;ot(()=>It(le,fe,pe),re)}G.shapeFlag&256&&$.a&&ot($.a,re),$.isMounted=!0,G=K=ee=null}},ne=new Ls(te,()=>Uc($.update),$.scope),J=$.update=ne.run.bind(ne);J.id=$.uid,ne.allowRecurse=J.allowRecurse=!0,J()},P=($,G,K)=>{G.component=$;const ee=$.vnode.props;$.vnode=G,$.next=null,Jv($,G.props,ee,K),tm($,G.children,K),or(),ca(void 0,$.update),Tn()},D=($,G,K,ee,re,Y,Z,te,ne=!1)=>{const J=$&&$.children,le=$?$.shapeFlag:0,se=G.children,{patchFlag:ae,shapeFlag:oe}=G;if(ae>0){if(ae&128){M(J,se,K,ee,re,Y,Z,te,ne);return}else if(ae&256){U(J,se,K,ee,re,Y,Z,te,ne);return}}oe&8?(le&16&&H(J,re,Y),se!==J&&d(K,se)):le&16?oe&16?M(J,se,K,ee,re,Y,Z,te,ne):H(J,re,Y,!0):(le&8&&d(K,""),oe&16&&A(se,K,ee,re,Y,Z,te,ne))},U=($,G,K,ee,re,Y,Z,te,ne)=>{$=$||tr,G=G||tr;const J=$.length,le=G.length,se=Math.min(J,le);let ae;for(ae=0;ae<se;ae++){const oe=G[ae]=ne?rn(G[ae]):At(G[ae]);y($[ae],oe,K,null,re,Y,Z,te,ne)}J>le?H($,re,Y,!0,!1,se):A(G,K,ee,re,Y,Z,te,ne,se)},M=($,G,K,ee,re,Y,Z,te,ne)=>{let J=0;const le=G.length;let se=$.length-1,ae=le-1;for(;J<=se&&J<=ae;){const oe=$[J],ue=G[J]=ne?rn(G[J]):At(G[J]);if(Yr(oe,ue))y(oe,ue,K,null,re,Y,Z,te,ne);else break;J++}for(;J<=se&&J<=ae;){const oe=$[se],ue=G[ae]=ne?rn(G[ae]):At(G[ae]);if(Yr(oe,ue))y(oe,ue,K,null,re,Y,Z,te,ne);else break;se--,ae--}if(J>se){if(J<=ae){const oe=ae+1,ue=oe<le?G[oe].el:ee;for(;J<=ae;)y(null,G[J]=ne?rn(G[J]):At(G[J]),K,ue,re,Y,Z,te,ne),J++}}else if(J>ae)for(;J<=se;)q($[J],re,Y,!0),J++;else{const oe=J,ue=J,fe=new Map;for(J=ue;J<=ae;J++){const Ze=G[J]=ne?rn(G[J]):At(G[J]);Ze.key!=null&&fe.set(Ze.key,J)}let ge,pe=0;const Ce=ae-ue+1;let Ge=!1,Jn=0;const Dt=new Array(Ce);for(J=0;J<Ce;J++)Dt[J]=0;for(J=oe;J<=se;J++){const Ze=$[J];if(pe>=Ce){q(Ze,re,Y,!0);continue}let nt;if(Ze.key!=null)nt=fe.get(Ze.key);else for(ge=ue;ge<=ae;ge++)if(Dt[ge-ue]===0&&Yr(Ze,G[ge])){nt=ge;break}nt===void 0?q(Ze,re,Y,!0):(Dt[nt-ue]=J+1,nt>=Jn?Jn=nt:Ge=!0,y(Ze,G[nt],K,null,re,Y,Z,te,ne),pe++)}const kn=Ge?sm(Dt):tr;for(ge=kn.length-1,J=Ce-1;J>=0;J--){const Ze=ue+J,nt=G[Ze],qr=Ze+1<le?G[Ze+1].el:ee;Dt[J]===0?y(null,nt,K,qr,re,Y,Z,te,ne):Ge&&(ge<0||J!==kn[ge]?B(nt,K,qr,2):ge--)}}},B=($,G,K,ee,re=null)=>{const{el:Y,type:Z,transition:te,children:ne,shapeFlag:J}=$;if(J&6){B($.component.subTree,G,K,ee);return}if(J&128){$.suspense.move(G,K,ee);return}if(J&64){Z.move($,G,K,X);return}if(Z===zt){i(Y,G,K);for(let se=0;se<ne.length;se++)B(ne[se],G,K,ee);i($.anchor,G,K);return}if(Z===ta){b($,G,K);return}if(ee!==2&&J&1&&te)if(ee===0)te.beforeEnter(Y),i(Y,G,K),ot(()=>te.enter(Y),re);else{const{leave:se,delayLeave:ae,afterLeave:oe}=te,ue=()=>i(Y,G,K),fe=()=>{se(Y,()=>{ue(),oe&&oe()})};ae?ae(Y,ue,fe):fe()}else i(Y,G,K)},q=($,G,K,ee=!1,re=!1)=>{const{type:Y,props:Z,ref:te,children:ne,dynamicChildren:J,shapeFlag:le,patchFlag:se,dirs:ae}=$;if(te!=null&&Qs(te,null,K,$,!0),le&256){G.ctx.deactivate($);return}const oe=le&1&&ae,ue=!Gs($);let fe;if(ue&&(fe=Z&&Z.onVnodeBeforeUnmount)&&It(fe,G,$),le&6)F($.component,K,ee);else{if(le&128){$.suspense.unmount(K,ee);return}oe&&Cn($,null,G,"beforeUnmount"),le&64?$.type.remove($,G,K,re,X,ee):J&&(Y!==zt||se>0&&se&64)?H(J,G,K,!1,!0):(Y===zt&&se&(128|256)||!re&&le&16)&&H(ne,G,K),ee&&z($)}(ue&&(fe=Z&&Z.onVnodeUnmounted)||oe)&&ot(()=>{fe&&It(fe,G,$),oe&&Cn($,null,G,"unmounted")},K)},z=$=>{const{type:G,el:K,anchor:ee,transition:re}=$;if(G===zt){j(K,ee);return}if(G===ta){k($);return}const Y=()=>{e(K),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if($.shapeFlag&1&&re&&!re.persisted){const{leave:Z,delayLeave:te}=re,ne=()=>Z(K,Y);te?te($.el,Y,ne):ne()}else Y()},j=($,G)=>{let K;for(;$!==G;)K=c($),e($),$=K;e(G)},F=($,G,K)=>{const{bum:ee,scope:re,update:Y,subTree:Z,um:te}=$;ee&&As(ee),re.stop(),Y&&(Y.active=!1,q(Z,$,G,K)),te&&ot(te,G),ot(()=>{$.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},H=($,G,K,ee=!1,re=!1,Y=0)=>{for(let Z=Y;Z<$.length;Z++)q($[Z],G,K,ee,re)},W=$=>$.shapeFlag&6?W($.component.subTree):$.shapeFlag&128?$.suspense.next():c($.anchor||$.el),V=($,G,K)=>{$==null?G._vnode&&q(G._vnode,null,null,!0):y(G._vnode||null,$,G,null,null,null,K),zc(),G._vnode=$},X={p:y,um:q,m:B,r:z,mt:R,mc:A,pc:D,pbc:x,n:W,o:r};let Q,ie;return t&&([Q,ie]=t(X)),{render:V,hydrate:Q,createApp:rm(V,Q)}}function Qs(r,t,n,i,e=!1){if(_e(r)){r.forEach((c,h)=>Qs(c,t&&(_e(t)?t[h]:t),n,i,e));return}if(Gs(i)&&!e)return;const o=i.shapeFlag&4?oa(i.component)||i.component.proxy:i.el,s=e?null:o,{i:l,r:a}=r,u=t&&t.r,d=l.refs===Re?l.refs={}:l.refs,f=l.setupState;if(u!=null&&u!==a&&(Ye(u)?(d[u]=null,Te(f,u)&&(f[u]=null)):lt(u)&&(u.value=null)),Ye(a)){const c=()=>{d[a]=s,Te(f,a)&&(f[a]=s)};s?(c.id=-1,ot(c,n)):c()}else if(lt(a)){const c=()=>{a.value=s};s?(c.id=-1,ot(c,n)):c()}else ke(a)&&on(a,l,12,[s,d])}function It(r,t,n,i=null){wt(r,t,7,[n,i])}function Cc(r,t,n=!1){const i=r.children,e=t.children;if(_e(i)&&_e(e))for(let o=0;o<i.length;o++){const s=i[o];let l=e[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=e[o]=rn(e[o]),l.el=s.el),n||Cc(s,l))}}function sm(r){const t=r.slice(),n=[0];let i,e,o,s,l;const a=r.length;for(i=0;i<a;i++){const u=r[i];if(u!==0){if(e=n[n.length-1],r[e]<u){t[i]=e,n.push(i);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,r[n[l]]<u?o=l+1:s=l;u<r[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const am=r=>r.__isTeleport,Ic="components";function Tx(r,t){return um(Ic,r,!0,t)||r}const lm=Symbol();function um(r,t,n=!0,i=!1){const e=kt||Xe;if(e){const o=e.type;if(r===Ic){const l=Sm(o);if(l&&(l===t||l===Ot(t)||l===Xi(Ot(t))))return o}const s=Ac(e[r]||o[r],t)||Ac(e.appContext[r],t);return!s&&i?o:s}}function Ac(r,t){return r&&(r[t]||r[Ot(t)]||r[Xi(Ot(t))])}const zt=Symbol(void 0),ea=Symbol(void 0),In=Symbol(void 0),ta=Symbol(void 0),Gr=[];let An=null;function cm(r=!1){Gr.push(An=r?null:[])}function fm(){Gr.pop(),An=Gr[Gr.length-1]||null}let co=1;function Rc(r){co+=r}function Nc(r){return r.dynamicChildren=co>0?An||tr:null,fm(),co>0&&An&&An.push(r),r}function Ox(r,t,n,i,e,o){return Nc(Mc(r,t,n,i,e,o,!0))}function dm(r,t,n,i,e){return Nc(pt(r,t,n,i,e,!0))}function na(r){return r?r.__v_isVNode===!0:!1}function Yr(r,t){return r.type===t.type&&r.key===t.key}const fo="__vInternal",Pc=({key:r})=>r!=null?r:null,ho=({ref:r})=>r!=null?Ye(r)||lt(r)||ke(r)?{i:kt,r}:r:null;function Mc(r,t=null,n=null,i=0,e=null,o=r===zt?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&Pc(t),ref:t&&ho(t),scopeId:oo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:e,dynamicChildren:null,appContext:null};return l?(ra(a,n),o&128&&r.normalize(a)):n&&(a.shapeFlag|=Ye(n)?8:16),co>0&&!s&&An&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&An.push(a),a}const pt=hm;function hm(r,t=null,n=null,i=0,e=null,o=!1){if((!r||r===lm)&&(r=In),na(r)){const l=Xr(r,t,!0);return n&&ra(l,n),l}if(Tm(r)&&(r=r.__vccOpts),t){t=pm(t);let{class:l,style:a}=t;l&&!Ye(l)&&(t.class=Ss(l)),He(a)&&(tc(a)&&!_e(a)&&(a=rt({},a)),t.style=xs(a))}const s=Ye(r)?1:Mv(r)?128:am(r)?64:He(r)?4:ke(r)?2:0;return Mc(r,t,n,i,e,s,o,!0)}function pm(r){return r?tc(r)||fo in r?rt({},r):r:null}function Xr(r,t,n=!1){const{props:i,ref:e,patchFlag:o,children:s}=r,l=t?vm(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:l,key:l&&Pc(l),ref:t&&t.ref?n&&e?_e(e)?e.concat(ho(t)):[e,ho(t)]:ho(t):e,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:s,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==zt?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Xr(r.ssContent),ssFallback:r.ssFallback&&Xr(r.ssFallback),el:r.el,anchor:r.anchor}}function gm(r=" ",t=0){return pt(ea,null,r,t)}function Cx(r="",t=!1){return t?(cm(),dm(In,null,r)):pt(In,null,r)}function At(r){return r==null||typeof r=="boolean"?pt(In):_e(r)?pt(zt,null,r.slice()):typeof r=="object"?rn(r):pt(ea,null,String(r))}function rn(r){return r.el===null||r.memo?r:Xr(r)}function ra(r,t){let n=0;const{shapeFlag:i}=r;if(t==null)t=null;else if(_e(t))n=16;else if(typeof t=="object")if(i&(1|64)){const e=t.default;e&&(e._c&&(e._d=!1),ra(r,e()),e._c&&(e._d=!0));return}else{n=32;const e=t._;!e&&!(fo in t)?t._ctx=kt:e===3&&kt&&(kt.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else ke(t)?(t={default:t,_ctx:kt},n=32):(t=String(t),i&64?(n=16,t=[gm(t)]):n=8);r.children=t,r.shapeFlag|=n}function vm(...r){const t={};for(let n=0;n<r.length;n++){const i=r[n];for(const e in i)if(e==="class")t.class!==i.class&&(t.class=Ss([t.class,i.class]));else if(e==="style")t.style=xs([t.style,i.style]);else if(Vi(e)){const o=t[e],s=i[e];o!==s&&!(_e(o)&&o.includes(s))&&(t[e]=o?[].concat(o,s):s)}else e!==""&&(t[e]=i[e])}return t}function Ix(r,t,n,i){let e;const o=n&&n[i];if(_e(r)||Ye(r)){e=new Array(r.length);for(let s=0,l=r.length;s<l;s++)e[s]=t(r[s],s,void 0,o&&o[s])}else if(typeof r=="number"){e=new Array(r);for(let s=0;s<r;s++)e[s]=t(s+1,s,void 0,o&&o[s])}else if(He(r))if(r[Symbol.iterator])e=Array.from(r,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(r);e=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const u=s[l];e[l]=t(r[u],u,l,o&&o[l])}}else e=[];return n&&(n[i]=e),e}const ia=r=>r?Lc(r)?oa(r)||r.proxy:ia(r.parent):null,po=rt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>ia(r.parent),$root:r=>ia(r.root),$emit:r=>r.emit,$options:r=>vc(r),$forceUpdate:r=>()=>Uc(r.update),$nextTick:r=>ua.bind(r.proxy),$watch:r=>Nm.bind(r)}),mm={get({_:r},t){const{ctx:n,setupState:i,data:e,props:o,accessCache:s,type:l,appContext:a}=r;let u;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return e[t];case 4:return n[t];case 3:return o[t]}else{if(i!==Re&&Te(i,t))return s[t]=1,i[t];if(e!==Re&&Te(e,t))return s[t]=2,e[t];if((u=r.propsOptions[0])&&Te(u,t))return s[t]=3,o[t];if(n!==Re&&Te(n,t))return s[t]=4,n[t];Ys&&(s[t]=0)}}const d=po[t];let f,c;if(d)return t==="$attrs"&&ht(r,"get",t),d(r);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Re&&Te(n,t))return s[t]=4,n[t];if(c=a.config.globalProperties,Te(c,t))return c[t]},set({_:r},t,n){const{data:i,setupState:e,ctx:o}=r;if(e!==Re&&Te(e,t))e[t]=n;else if(i!==Re&&Te(i,t))i[t]=n;else if(Te(r.props,t))return!1;return t[0]==="$"&&t.slice(1)in r?!1:(o[t]=n,!0)},has({_:{data:r,setupState:t,accessCache:n,ctx:i,appContext:e,propsOptions:o}},s){let l;return!!n[s]||r!==Re&&Te(r,s)||t!==Re&&Te(t,s)||(l=o[0])&&Te(l,s)||Te(i,s)||Te(po,s)||Te(e.config.globalProperties,s)}},ym=Oc();let bm=0;function _m(r,t,n){const i=r.type,e=(t?t.appContext:r.appContext)||ym,o={uid:bm++,vnode:r,type:i,parent:t,appContext:e,root:null,next:null,subTree:null,update:null,scope:new Yg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(e.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bc(i,e),emitsOptions:ac(i,e),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:i.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Cv.bind(null,o),r.ce&&r.ce(o),o}let Xe=null;const ar=r=>{Xe=r,r.scope.on()},Rn=()=>{Xe&&Xe.scope.off(),Xe=null};function Lc(r){return r.vnode.shapeFlag&4}let go=!1;function km(r,t=!1){go=t;const{props:n,children:i}=r.vnode,e=Lc(r);Zv(r,n,e,t),em(r,i);const o=e?wm(r,t):void 0;return go=!1,o}function wm(r,t){const n=r.type;r.accessCache=Object.create(null),r.proxy=nc(new Proxy(r.ctx,mm));const{setup:i}=n;if(i){const e=r.setupContext=i.length>1?xm(r):null;ar(r),or();const o=on(i,r,0,[r.props,e]);if(Tn(),Rn(),Mu(o)){if(o.then(Rn,Rn),t)return o.then(s=>{Bc(r,s,t)}).catch(s=>{vo(s,r,0)});r.asyncDep=o}else Bc(r,o,t)}else Fc(r,t)}function Bc(r,t,n){ke(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:He(t)&&(r.setupState=sc(t)),Fc(r,n)}let Dc;function Fc(r,t,n){const i=r.type;if(!r.render){if(!t&&Dc&&!i.render){const e=i.template;if(e){const{isCustomElement:o,compilerOptions:s}=r.appContext.config,{delimiters:l,compilerOptions:a}=i,u=rt(rt({isCustomElement:o,delimiters:l},s),a);i.render=Dc(e,u)}}r.render=i.render||_t}ar(r),or(),Vv(r),Tn(),Rn()}function Em(r){return new Proxy(r.attrs,{get(t,n){return ht(r,"get","$attrs"),t[n]}})}function xm(r){const t=i=>{r.exposed=i||{}};let n;return{get attrs(){return n||(n=Em(r))},slots:r.slots,emit:r.emit,expose:t}}function oa(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(sc(nc(r.exposed)),{get(t,n){if(n in t)return t[n];if(n in po)return po[n](r)}}))}function Sm(r){return ke(r)&&r.displayName||r.name}function Tm(r){return ke(r)&&"__vccOpts"in r}function on(r,t,n,i){let e;try{e=i?r(...i):r()}catch(o){vo(o,t,n)}return e}function wt(r,t,n,i){if(ke(r)){const o=on(r,t,n,i);return o&&Mu(o)&&o.catch(s=>{vo(s,t,n)}),o}const e=[];for(let o=0;o<r.length;o++)e.push(wt(r[o],t,n,i));return e}function vo(r,t,n,i=!0){const e=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=n;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](r,s,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){on(a,null,10,[r,s,l]);return}}Om(r,n,e,i)}function Om(r,t,n,i=!0){console.error(r)}let mo=!1,sa=!1;const gt=[];let Wt=0;const Zr=[];let Jr=null,lr=0;const Qr=[];let sn=null,ur=0;const jc=Promise.resolve();let aa=null,la=null;function ua(r){const t=aa||jc;return r?t.then(this?r.bind(this):r):t}function Cm(r){let t=Wt+1,n=gt.length;for(;t<n;){const i=t+n>>>1;ei(gt[i])<r?t=i+1:n=i}return t}function Uc(r){(!gt.length||!gt.includes(r,mo&&r.allowRecurse?Wt+1:Wt))&&r!==la&&(r.id==null?gt.push(r):gt.splice(Cm(r.id),0,r),qc())}function qc(){!mo&&!sa&&(sa=!0,aa=jc.then(Wc))}function Im(r){const t=gt.indexOf(r);t>Wt&&gt.splice(t,1)}function Hc(r,t,n,i){_e(r)?n.push(...r):(!t||!t.includes(r,r.allowRecurse?i+1:i))&&n.push(r),qc()}function Am(r){Hc(r,Jr,Zr,lr)}function Rm(r){Hc(r,sn,Qr,ur)}function ca(r,t=null){if(Zr.length){for(la=t,Jr=[...new Set(Zr)],Zr.length=0,lr=0;lr<Jr.length;lr++)Jr[lr]();Jr=null,lr=0,la=null,ca(r,t)}}function zc(r){if(Qr.length){const t=[...new Set(Qr)];if(Qr.length=0,sn){sn.push(...t);return}for(sn=t,sn.sort((n,i)=>ei(n)-ei(i)),ur=0;ur<sn.length;ur++)sn[ur]();sn=null,ur=0}}const ei=r=>r.id==null?1/0:r.id;function Wc(r){sa=!1,mo=!0,ca(r),gt.sort((n,i)=>ei(n)-ei(i));const t=_t;try{for(Wt=0;Wt<gt.length;Wt++){const n=gt[Wt];n&&n.active!==!1&&on(n,null,14)}}finally{Wt=0,gt.length=0,zc(),mo=!1,aa=null,(gt.length||Zr.length||Qr.length)&&Wc(r)}}const $c={};function cr(r,t,n){return Vc(r,t,n)}function Vc(r,t,{immediate:n,deep:i,flush:e,onTrack:o,onTrigger:s}=Re){const l=Xe;let a,u=!1,d=!1;if(lt(r)?(a=()=>r.value,u=!!r._shallow):sr(r)?(a=()=>r,i=!0):_e(r)?(d=!0,u=r.some(sr),a=()=>r.map(p=>{if(lt(p))return p.value;if(sr(p))return Nn(p);if(ke(p))return on(p,l,2)})):ke(r)?t?a=()=>on(r,l,2):a=()=>{if(!(l&&l.isUnmounted))return f&&f(),wt(r,l,3,[c])}:a=_t,t&&i){const p=a;a=()=>Nn(p())}let f,c=p=>{f=y.onStop=()=>{on(p,l,4)}};if(go)return c=_t,t?n&&wt(t,l,3,[a(),d?[]:void 0,c]):a(),_t;let h=d?[]:$c;const v=()=>{if(!!y.active)if(t){const p=y.run();(i||u||(d?p.some((g,_)=>Hr(g,h[_])):Hr(p,h)))&&(f&&f(),wt(t,l,3,[p,h===$c?void 0:h,c]),h=p)}else y.run()};v.allowRecurse=!!t;let m;e==="sync"?m=v:e==="post"?m=()=>ot(v,l&&l.suspense):m=()=>{!l||l.isMounted?Am(v):v()};const y=new Ls(a,m);return t?n?v():h=y.run():e==="post"?ot(y.run.bind(y),l&&l.suspense):y.run(),()=>{y.stop(),l&&l.scope&&Nu(l.scope.effects,y)}}function Nm(r,t,n){const i=this.proxy,e=Ye(r)?r.includes(".")?Kc(i,r):()=>i[r]:r.bind(i,i);let o;ke(t)?o=t:(o=t.handler,n=t);const s=Xe;ar(this);const l=Vc(e,o.bind(i),n);return s?ar(s):Rn(),l}function Kc(r,t){const n=t.split(".");return()=>{let i=r;for(let e=0;e<n.length&&i;e++)i=i[n[e]];return i}}function Nn(r,t){if(!He(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),lt(r))Nn(r.value,t);else if(_e(r))for(let n=0;n<r.length;n++)Nn(r[n],t);else if(Pu(r)||nr(r))r.forEach(n=>{Nn(n,t)});else if(Bu(r))for(const n in r)Nn(r[n],t);return r}function fa(r,t,n){const i=arguments.length;return i===2?He(t)&&!_e(t)?na(t)?pt(r,null,[t]):pt(r,t):pt(r,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&na(n)&&(n=[n]),pt(r,t,n))}const Pm="3.2.24",Mm="http://www.w3.org/2000/svg",fr=typeof document!="undefined"?document:null,Gc=new Map,Lm={insert:(r,t,n)=>{t.insertBefore(r,n||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,n,i)=>{const e=t?fr.createElementNS(Mm,r):fr.createElement(r,n?{is:n}:void 0);return r==="select"&&i&&i.multiple!=null&&e.setAttribute("multiple",i.multiple),e},createText:r=>fr.createTextNode(r),createComment:r=>fr.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>fr.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},cloneNode(r){const t=r.cloneNode(!0);return"_value"in r&&(t._value=r._value),t},insertStaticContent(r,t,n,i){const e=n?n.previousSibling:t.lastChild;let o=Gc.get(r);if(!o){const s=fr.createElement("template");if(s.innerHTML=i?`<svg>${r}</svg>`:r,o=s.content,i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}Gc.set(r,o)}return t.insertBefore(o.cloneNode(!0),n),[e?e.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Bm(r,t,n){const i=r._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?r.removeAttribute("class"):n?r.setAttribute("class",t):r.className=t}function Dm(r,t,n){const i=r.style,e=Ye(n);if(n&&!e){for(const o in n)da(i,o,n[o]);if(t&&!Ye(t))for(const o in t)n[o]==null&&da(i,o,"")}else{const o=i.display;e?t!==n&&(i.cssText=n):t&&r.removeAttribute("style"),"_vod"in r&&(i.display=o)}}const Yc=/\s*!important$/;function da(r,t,n){if(_e(n))n.forEach(i=>da(r,t,i));else if(t.startsWith("--"))r.setProperty(t,n);else{const i=Fm(r,t);Yc.test(n)?r.setProperty(rr(i),n.replace(Yc,""),"important"):r[i]=n}}const Xc=["Webkit","Moz","ms"],ha={};function Fm(r,t){const n=ha[t];if(n)return n;let i=Ot(t);if(i!=="filter"&&i in r)return ha[t]=i;i=Xi(i);for(let e=0;e<Xc.length;e++){const o=Xc[e]+i;if(o in r)return ha[t]=o}return t}const Zc="http://www.w3.org/1999/xlink";function jm(r,t,n,i,e){if(i&&t.startsWith("xlink:"))n==null?r.removeAttributeNS(Zc,t.slice(6,t.length)):r.setAttributeNS(Zc,t,n);else{const o=Dg(t);n==null||o&&!Au(n)?r.removeAttribute(t):r.setAttribute(t,o?"":n)}}function Um(r,t,n,i,e,o,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,e,o),r[t]=n==null?"":n;return}if(t==="value"&&r.tagName!=="PROGRESS"&&!r.tagName.includes("-")){r._value=n;const l=n==null?"":n;(r.value!==l||r.tagName==="OPTION")&&(r.value=l),n==null&&r.removeAttribute(t);return}if(n===""||n==null){const l=typeof r[t];if(l==="boolean"){r[t]=Au(n);return}else if(n==null&&l==="string"){r[t]="",r.removeAttribute(t);return}else if(l==="number"){try{r[t]=0}catch{}r.removeAttribute(t);return}}try{r[t]=n}catch{}}let yo=Date.now,Jc=!1;if(typeof window!="undefined"){yo()>document.createEvent("Event").timeStamp&&(yo=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);Jc=!!(r&&Number(r[1])<=53)}let pa=0;const qm=Promise.resolve(),Hm=()=>{pa=0},zm=()=>pa||(qm.then(Hm),pa=yo());function Wm(r,t,n,i){r.addEventListener(t,n,i)}function $m(r,t,n,i){r.removeEventListener(t,n,i)}function Vm(r,t,n,i,e=null){const o=r._vei||(r._vei={}),s=o[t];if(i&&s)s.value=i;else{const[l,a]=Km(t);if(i){const u=o[t]=Gm(i,e);Wm(r,l,u,a)}else s&&($m(r,l,s,a),o[t]=void 0)}}const Qc=/(?:Once|Passive|Capture)$/;function Km(r){let t;if(Qc.test(r)){t={};let n;for(;n=r.match(Qc);)r=r.slice(0,r.length-n[0].length),t[n[0].toLowerCase()]=!0}return[rr(r.slice(2)),t]}function Gm(r,t){const n=i=>{const e=i.timeStamp||yo();(Jc||e>=n.attached-1)&&wt(Ym(i,n.value),t,5,[i])};return n.value=r,n.attached=zm(),n}function Ym(r,t){if(_e(t)){const n=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{n.call(r),r._stopped=!0},t.map(i=>e=>!e._stopped&&i(e))}else return t}const ef=/^on[a-z]/,Xm=(r,t,n,i,e=!1,o,s,l,a)=>{t==="class"?Bm(r,i,e):t==="style"?Dm(r,n,i):Vi(t)?Ts(t)||Vm(r,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zm(r,t,i,e))?Um(r,t,i,o,s,l,a):(t==="true-value"?r._trueValue=i:t==="false-value"&&(r._falseValue=i),jm(r,t,i,e))};function Zm(r,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in r&&ef.test(t)&&ke(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA"||ef.test(t)&&Ye(n)?!1:t in r}const Ax={beforeMount(r,{value:t},{transition:n}){r._vod=r.style.display==="none"?"":r.style.display,n&&t?n.beforeEnter(r):ti(r,t)},mounted(r,{value:t},{transition:n}){n&&t&&n.enter(r)},updated(r,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(r),ti(r,!0),i.enter(r)):i.leave(r,()=>{ti(r,!1)}):ti(r,t))},beforeUnmount(r,{value:t}){ti(r,t)}};function ti(r,t){r.style.display=t?r._vod:"none"}const Jm=rt({patchProp:Xm},Lm);let tf;function Qm(){return tf||(tf=im(Jm))}const Rx=(...r)=>{const t=Qm().createApp(...r),{mount:n}=t;return t.mount=i=>{const e=ey(i);if(!e)return;const o=t._component;!ke(o)&&!o.render&&!o.template&&(o.template=e.innerHTML),e.innerHTML="";const s=n(e,!1,e instanceof SVGElement);return e instanceof Element&&(e.removeAttribute("v-cloak"),e.setAttribute("data-v-app","")),s},t};function ey(r){return Ye(r)?document.querySelector(r):r}/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const nf=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",dr=r=>nf?Symbol(r):"_vr_"+r,ty=dr("rvlm"),rf=dr("rvd"),ga=dr("r"),of=dr("rl"),va=dr("rvl"),hr=typeof window!="undefined";function ny(r){return r.__esModule||nf&&r[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function ma(r,t){const n={};for(const i in t){const e=t[i];n[i]=Array.isArray(e)?e.map(r):r(e)}return n}const ni=()=>{},ry=/\/$/,iy=r=>r.replace(ry,"");function ya(r,t,n="/"){let i,e={},o="",s="";const l=t.indexOf("?"),a=t.indexOf("#",l>-1?l:0);return l>-1&&(i=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),e=r(o)),a>-1&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=ly(i!=null?i:t,n),{fullPath:i+(o&&"?")+o+s,path:i,query:e,hash:s}}function oy(r,t){const n=t.query?r(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function sf(r,t){return!t||!r.toLowerCase().startsWith(t.toLowerCase())?r:r.slice(t.length)||"/"}function sy(r,t,n){const i=t.matched.length-1,e=n.matched.length-1;return i>-1&&i===e&&pr(t.matched[i],n.matched[e])&&af(t.params,n.params)&&r(t.query)===r(n.query)&&t.hash===n.hash}function pr(r,t){return(r.aliasOf||r)===(t.aliasOf||t)}function af(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const n in r)if(!ay(r[n],t[n]))return!1;return!0}function ay(r,t){return Array.isArray(r)?lf(r,t):Array.isArray(t)?lf(t,r):r===t}function lf(r,t){return Array.isArray(t)?r.length===t.length&&r.every((n,i)=>n===t[i]):r.length===1&&r[0]===t}function ly(r,t){if(r.startsWith("/"))return r;if(!r)return t;const n=t.split("/"),i=r.split("/");let e=n.length-1,o,s;for(o=0;o<i.length;o++)if(s=i[o],!(e===1||s==="."))if(s==="..")e--;else break;return n.slice(0,e).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var ri;(function(r){r.pop="pop",r.push="push"})(ri||(ri={}));var ii;(function(r){r.back="back",r.forward="forward",r.unknown=""})(ii||(ii={}));function uy(r){if(!r)if(hr){const t=document.querySelector("base");r=t&&t.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),iy(r)}const cy=/^[^#]+#/;function fy(r,t){return r.replace(cy,"#")+t}function dy(r,t){const n=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const bo=()=>({left:window.pageXOffset,top:window.pageYOffset});function hy(r){let t;if("el"in r){const n=r.el,i=typeof n=="string"&&n.startsWith("#"),e=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!e)return;t=dy(e,r)}else t=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function uf(r,t){return(history.state?history.state.position-t:-1)+r}const ba=new Map;function py(r,t){ba.set(r,t)}function gy(r){const t=ba.get(r);return ba.delete(r),t}let vy=()=>location.protocol+"//"+location.host;function cf(r,t){const{pathname:n,search:i,hash:e}=t,o=r.indexOf("#");if(o>-1){let l=e.includes(r.slice(o))?r.slice(o).length:1,a=e.slice(l);return a[0]!=="/"&&(a="/"+a),sf(a,"")}return sf(n,r)+i+e}function my(r,t,n,i){let e=[],o=[],s=null;const l=({state:c})=>{const h=cf(r,location),v=n.value,m=t.value;let y=0;if(c){if(n.value=h,t.value=c,s&&s===v){s=null;return}y=m?c.position-m.position:0}else i(h);e.forEach(p=>{p(n.value,v,{delta:y,type:ri.pop,direction:y?y>0?ii.forward:ii.back:ii.unknown})})};function a(){s=n.value}function u(c){e.push(c);const h=()=>{const v=e.indexOf(c);v>-1&&e.splice(v,1)};return o.push(h),h}function d(){const{history:c}=window;!c.state||c.replaceState(Ne({},c.state,{scroll:bo()}),"")}function f(){for(const c of o)c();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:a,listen:u,destroy:f}}function ff(r,t,n,i=!1,e=!1){return{back:r,current:t,forward:n,replaced:i,position:window.history.length,scroll:e?bo():null}}function yy(r){const{history:t,location:n}=window,i={value:cf(r,n)},e={value:t.state};e.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,u,d){const f=r.indexOf("#"),c=f>-1?(n.host&&document.querySelector("base")?r:r.slice(f))+a:vy()+r+a;try{t[d?"replaceState":"pushState"](u,"",c),e.value=u}catch(h){console.error(h),n[d?"replace":"assign"](c)}}function s(a,u){const d=Ne({},t.state,ff(e.value.back,a,e.value.forward,!0),u,{position:e.value.position});o(a,d,!0),i.value=a}function l(a,u){const d=Ne({},e.value,t.state,{forward:a,scroll:bo()});o(d.current,d,!0);const f=Ne({},ff(i.value,a,null),{position:d.position+1},u);o(a,f,!1),i.value=a}return{location:i,state:e,push:l,replace:s}}function Nx(r){r=uy(r);const t=yy(r),n=my(r,t.state,t.location,t.replace);function i(o,s=!0){s||n.pauseListeners(),history.go(o)}const e=Ne({location:"",base:r,go:i,createHref:fy.bind(null,r)},t,n);return Object.defineProperty(e,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(e,"state",{enumerable:!0,get:()=>t.state.value}),e}function by(r){return typeof r=="string"||r&&typeof r=="object"}function df(r){return typeof r=="string"||typeof r=="symbol"}const an={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},hf=dr("nf");var pf;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(pf||(pf={}));function gr(r,t){return Ne(new Error,{type:r,[hf]:!0},t)}function Pn(r,t){return r instanceof Error&&hf in r&&(t==null||!!(r.type&t))}const gf="[^/]+?",_y={sensitive:!1,strict:!1,start:!0,end:!0},ky=/[.+*?^${}()[\]/\\]/g;function wy(r,t){const n=Ne({},_y,t),i=[];let e=n.start?"^":"";const o=[];for(const u of r){const d=u.length?[]:[90];n.strict&&!u.length&&(e+="/");for(let f=0;f<u.length;f++){const c=u[f];let h=40+(n.sensitive?.25:0);if(c.type===0)f||(e+="/"),e+=c.value.replace(ky,"\\$&"),h+=40;else if(c.type===1){const{value:v,repeatable:m,optional:y,regexp:p}=c;o.push({name:v,repeatable:m,optional:y});const g=p||gf;if(g!==gf){h+=10;try{new RegExp(`(${g})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${v}" (${g}): `+b.message)}}let _=m?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(_=y&&u.length<2?`(?:/${_})`:"/"+_),y&&(_+="?"),e+=_,h+=20,y&&(h+=-8),m&&(h+=-20),g===".*"&&(h+=-50)}d.push(h)}i.push(d)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(e+="/?"),n.end?e+="$":n.strict&&(e+="(?:/|$)");const s=new RegExp(e,n.sensitive?"":"i");function l(u){const d=u.match(s),f={};if(!d)return null;for(let c=1;c<d.length;c++){const h=d[c]||"",v=o[c-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function a(u){let d="",f=!1;for(const c of r){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const h of c)if(h.type===0)d+=h.value;else if(h.type===1){const{value:v,repeatable:m,optional:y}=h,p=v in u?u[v]:"";if(Array.isArray(p)&&!m)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const g=Array.isArray(p)?p.join("/"):p;if(!g)if(y)c.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);d+=g}}return d}return{re:s,score:i,keys:o,parse:l,stringify:a}}function Ey(r,t){let n=0;for(;n<r.length&&n<t.length;){const i=t[n]-r[n];if(i)return i;n++}return r.length<t.length?r.length===1&&r[0]===40+40?-1:1:r.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function xy(r,t){let n=0;const i=r.score,e=t.score;for(;n<i.length&&n<e.length;){const o=Ey(i[n],e[n]);if(o)return o;n++}return e.length-i.length}const Sy={type:0,value:""},Ty=/[a-zA-Z0-9_]/;function Oy(r){if(!r)return[[]];if(r==="/")return[[Sy]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,i=n;const e=[];let o;function s(){o&&e.push(o),o=[]}let l=0,a,u="",d="";function f(){!u||(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:d,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function c(){u+=a}for(;l<r.length;){if(a=r[l++],a==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:a==="/"?(u&&f(),s()):a===":"?(f(),n=1):c();break;case 4:c(),n=i;break;case 1:a==="("?n=2:Ty.test(a)?c():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+a:n=3:d+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),s(),e}function Cy(r,t,n){const i=wy(Oy(r.path),n),e=Ne(i,{record:r,parent:t,children:[],alias:[]});return t&&!e.record.aliasOf==!t.record.aliasOf&&t.children.push(e),e}function Iy(r,t){const n=[],i=new Map;t=mf({strict:!1,end:!0,sensitive:!1},t);function e(d){return i.get(d)}function o(d,f,c){const h=!c,v=Ry(d);v.aliasOf=c&&c.record;const m=mf(t,d),y=[v];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const b of _)y.push(Ne({},v,{components:c?c.record.components:v.components,path:b,aliasOf:c?c.record:v}))}let p,g;for(const _ of y){const{path:b}=_;if(f&&b[0]!=="/"){const k=f.record.path,w=k[k.length-1]==="/"?"":"/";_.path=f.record.path+(b&&w+b)}if(p=Cy(_,f,m),c?c.alias.push(p):(g=g||p,g!==p&&g.alias.push(p),h&&d.name&&!vf(p)&&s(d.name)),"children"in v){const k=v.children;for(let w=0;w<k.length;w++)o(k[w],p,c&&c.children[w])}c=c||p,a(p)}return g?()=>{s(g)}:ni}function s(d){if(df(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function l(){return n}function a(d){let f=0;for(;f<n.length&&xy(d,n[f])>=0;)f++;n.splice(f,0,d),d.record.name&&!vf(d)&&i.set(d.record.name,d)}function u(d,f){let c,h={},v,m;if("name"in d&&d.name){if(c=i.get(d.name),!c)throw gr(1,{location:d});m=c.record.name,h=Ne(Ay(f.params,c.keys.filter(g=>!g.optional).map(g=>g.name)),d.params),v=c.stringify(h)}else if("path"in d)v=d.path,c=n.find(g=>g.re.test(v)),c&&(h=c.parse(v),m=c.record.name);else{if(c=f.name?i.get(f.name):n.find(g=>g.re.test(f.path)),!c)throw gr(1,{location:d,currentLocation:f});m=c.record.name,h=Ne({},f.params,d.params),v=c.stringify(h)}const y=[];let p=c;for(;p;)y.unshift(p.record),p=p.parent;return{name:m,path:v,params:h,matched:y,meta:Py(y)}}return r.forEach(d=>o(d)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:l,getRecordMatcher:e}}function Ay(r,t){const n={};for(const i of t)i in r&&(n[i]=r[i]);return n}function Ry(r){return{path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:void 0,beforeEnter:r.beforeEnter,props:Ny(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||{}:{default:r.component}}}function Ny(r){const t={},n=r.props||!1;if("component"in r)t.default=n;else for(const i in r.components)t[i]=typeof n=="boolean"?n:n[i];return t}function vf(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function Py(r){return r.reduce((t,n)=>Ne(t,n.meta),{})}function mf(r,t){const n={};for(const i in r)n[i]=i in t?t[i]:r[i];return n}const yf=/#/g,My=/&/g,Ly=/\//g,By=/=/g,Dy=/\?/g,bf=/\+/g,Fy=/%5B/g,jy=/%5D/g,_f=/%5E/g,Uy=/%60/g,kf=/%7B/g,qy=/%7C/g,wf=/%7D/g,Hy=/%20/g;function _a(r){return encodeURI(""+r).replace(qy,"|").replace(Fy,"[").replace(jy,"]")}function zy(r){return _a(r).replace(kf,"{").replace(wf,"}").replace(_f,"^")}function ka(r){return _a(r).replace(bf,"%2B").replace(Hy,"+").replace(yf,"%23").replace(My,"%26").replace(Uy,"`").replace(kf,"{").replace(wf,"}").replace(_f,"^")}function Wy(r){return ka(r).replace(By,"%3D")}function $y(r){return _a(r).replace(yf,"%23").replace(Dy,"%3F")}function Vy(r){return r==null?"":$y(r).replace(Ly,"%2F")}function _o(r){try{return decodeURIComponent(""+r)}catch{}return""+r}function Ky(r){const t={};if(r===""||r==="?")return t;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let e=0;e<i.length;++e){const o=i[e].replace(bf," "),s=o.indexOf("="),l=_o(s<0?o:o.slice(0,s)),a=s<0?null:_o(o.slice(s+1));if(l in t){let u=t[l];Array.isArray(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function Ef(r){let t="";for(let n in r){const i=r[n];if(n=Wy(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(i)?i.map(o=>o&&ka(o)):[i&&ka(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Gy(r){const t={};for(const n in r){const i=r[n];i!==void 0&&(t[n]=Array.isArray(i)?i.map(e=>e==null?null:""+e):i==null?i:""+i)}return t}function oi(){let r=[];function t(i){return r.push(i),()=>{const e=r.indexOf(i);e>-1&&r.splice(e,1)}}function n(){r=[]}return{add:t,list:()=>r,reset:n}}function ln(r,t,n,i,e){const o=i&&(i.enterCallbacks[e]=i.enterCallbacks[e]||[]);return()=>new Promise((s,l)=>{const a=f=>{f===!1?l(gr(4,{from:n,to:t})):f instanceof Error?l(f):by(f)?l(gr(2,{from:t,to:f})):(o&&i.enterCallbacks[e]===o&&typeof f=="function"&&o.push(f),s())},u=r.call(i&&i.instances[e],t,n,a);let d=Promise.resolve(u);r.length<3&&(d=d.then(a)),d.catch(f=>l(f))})}function wa(r,t,n,i){const e=[];for(const o of r)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(Yy(l)){const u=(l.__vccOpts||l)[t];u&&e.push(ln(u,n,i,o,s))}else{let a=l();e.push(()=>a.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const d=ny(u)?u.default:u;o.components[s]=d;const c=(d.__vccOpts||d)[t];return c&&ln(c,n,i,o,s)()}))}}return e}function Yy(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function xf(r){const t=nn(ga),n=nn(of),i=Ct(()=>t.resolve(Kr(r.to))),e=Ct(()=>{const{matched:a}=i.value,{length:u}=a,d=a[u-1],f=n.matched;if(!d||!f.length)return-1;const c=f.findIndex(pr.bind(null,d));if(c>-1)return c;const h=Sf(a[u-2]);return u>1&&Sf(d)===h&&f[f.length-1].path!==h?f.findIndex(pr.bind(null,a[u-2])):c}),o=Ct(()=>e.value>-1&&Qy(n.params,i.value.params)),s=Ct(()=>e.value>-1&&e.value===n.matched.length-1&&af(n.params,i.value.params));function l(a={}){return Jy(a)?t[Kr(r.replace)?"replace":"push"](Kr(r.to)).catch(ni):Promise.resolve()}return{route:i,href:Ct(()=>i.value.href),isActive:o,isExactActive:s,navigate:l}}const Xy=Ks({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:xf,setup(r,{slots:t}){const n=$r(xf(r)),{options:i}=nn(ga),e=Ct(()=>({[Tf(r.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Tf(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return r.custom?o:fa("a",{"aria-current":n.isExactActive?r.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:e.value},o)}}}),Zy=Xy;function Jy(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const t=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return r.preventDefault&&r.preventDefault(),!0}}function Qy(r,t){for(const n in t){const i=t[n],e=r[n];if(typeof i=="string"){if(i!==e)return!1}else if(!Array.isArray(e)||e.length!==i.length||i.some((o,s)=>o!==e[s]))return!1}return!0}function Sf(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const Tf=(r,t,n)=>r!=null?r:t!=null?t:n,e0=Ks({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(r,{attrs:t,slots:n}){const i=nn(va),e=Ct(()=>r.route||i.value),o=nn(rf,0),s=Ct(()=>e.value.matched[o]);ao(rf,o+1),ao(ty,s),ao(va,e);const l=Ws();return cr(()=>[l.value,s.value,r.name],([a,u,d],[f,c,h])=>{u&&(u.instances[d]=a,c&&c!==u&&a&&a===f&&(u.leaveGuards.size||(u.leaveGuards=c.leaveGuards),u.updateGuards.size||(u.updateGuards=c.updateGuards))),a&&u&&(!c||!pr(u,c)||!f)&&(u.enterCallbacks[d]||[]).forEach(v=>v(a))},{flush:"post"}),()=>{const a=e.value,u=s.value,d=u&&u.components[r.name],f=r.name;if(!d)return Of(n.default,{Component:d,route:a});const c=u.props[r.name],h=c?c===!0?a.params:typeof c=="function"?c(a):c:null,m=fa(d,Ne({},h,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[f]=null)},ref:l}));return Of(n.default,{Component:m,route:a})||m}}});function Of(r,t){if(!r)return null;const n=r(t);return n.length===1?n[0]:n}const t0=e0;function Px(r){const t=Iy(r.routes,r),n=r.parseQuery||Ky,i=r.stringifyQuery||Ef,e=r.history,o=oi(),s=oi(),l=oi(),a=xv(an);let u=an;hr&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=ma.bind(null,j=>""+j),f=ma.bind(null,Vy),c=ma.bind(null,_o);function h(j,F){let H,W;return df(j)?(H=t.getRecordMatcher(j),W=F):W=j,t.addRoute(W,H)}function v(j){const F=t.getRecordMatcher(j);F&&t.removeRoute(F)}function m(){return t.getRoutes().map(j=>j.record)}function y(j){return!!t.getRecordMatcher(j)}function p(j,F){if(F=Ne({},F||a.value),typeof j=="string"){const ie=ya(n,j,F.path),$=t.resolve({path:ie.path},F),G=e.createHref(ie.fullPath);return Ne(ie,$,{params:c($.params),hash:_o(ie.hash),redirectedFrom:void 0,href:G})}let H;if("path"in j)H=Ne({},j,{path:ya(n,j.path,F.path).path});else{const ie=Ne({},j.params);for(const $ in ie)ie[$]==null&&delete ie[$];H=Ne({},j,{params:f(j.params)}),F.params=f(F.params)}const W=t.resolve(H,F),V=j.hash||"";W.params=d(c(W.params));const X=oy(i,Ne({},j,{hash:zy(V),path:W.path})),Q=e.createHref(X);return Ne({fullPath:X,hash:V,query:i===Ef?Gy(j.query):j.query||{}},W,{redirectedFrom:void 0,href:Q})}function g(j){return typeof j=="string"?ya(n,j,a.value.path):Ne({},j)}function _(j,F){if(u!==j)return gr(8,{from:F,to:j})}function b(j){return S(j)}function k(j){return b(Ne(g(j),{replace:!0}))}function w(j){const F=j.matched[j.matched.length-1];if(F&&F.redirect){const{redirect:H}=F;let W=typeof H=="function"?H(j):H;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=g(W):{path:W},W.params={}),Ne({query:j.query,hash:j.hash,params:j.params},W)}}function S(j,F){const H=u=p(j),W=a.value,V=j.state,X=j.force,Q=j.replace===!0,ie=w(H);if(ie)return S(Ne(g(ie),{state:V,force:X,replace:Q}),F||H);const $=H;$.redirectedFrom=F;let G;return!X&&sy(i,W,H)&&(G=gr(16,{to:$,from:W}),U(W,W,!0,!1)),(G?Promise.resolve(G):A($,W)).catch(K=>Pn(K)?K:L(K,$,W)).then(K=>{if(K){if(Pn(K,2))return S(Ne(g(K.to),{state:V,force:X,replace:Q}),F||$)}else K=x($,W,!0,Q,V);return T($,W,K),K})}function O(j,F){const H=_(j,F);return H?Promise.reject(H):Promise.resolve()}function A(j,F){let H;const[W,V,X]=n0(j,F);H=wa(W.reverse(),"beforeRouteLeave",j,F);for(const ie of W)ie.leaveGuards.forEach($=>{H.push(ln($,j,F))});const Q=O.bind(null,j,F);return H.push(Q),vr(H).then(()=>{H=[];for(const ie of o.list())H.push(ln(ie,j,F));return H.push(Q),vr(H)}).then(()=>{H=wa(V,"beforeRouteUpdate",j,F);for(const ie of V)ie.updateGuards.forEach($=>{H.push(ln($,j,F))});return H.push(Q),vr(H)}).then(()=>{H=[];for(const ie of j.matched)if(ie.beforeEnter&&!F.matched.includes(ie))if(Array.isArray(ie.beforeEnter))for(const $ of ie.beforeEnter)H.push(ln($,j,F));else H.push(ln(ie.beforeEnter,j,F));return H.push(Q),vr(H)}).then(()=>(j.matched.forEach(ie=>ie.enterCallbacks={}),H=wa(X,"beforeRouteEnter",j,F),H.push(Q),vr(H))).then(()=>{H=[];for(const ie of s.list())H.push(ln(ie,j,F));return H.push(Q),vr(H)}).catch(ie=>Pn(ie,8)?ie:Promise.reject(ie))}function T(j,F,H){for(const W of l.list())W(j,F,H)}function x(j,F,H,W,V){const X=_(j,F);if(X)return X;const Q=F===an,ie=hr?history.state:{};H&&(W||Q?e.replace(j.fullPath,Ne({scroll:Q&&ie&&ie.scroll},V)):e.push(j.fullPath,V)),a.value=j,U(j,F,H,Q),D()}let E;function C(){E=e.listen((j,F,H)=>{const W=p(j),V=w(W);if(V){S(Ne(V,{replace:!0}),W).catch(ni);return}u=W;const X=a.value;hr&&py(uf(X.fullPath,H.delta),bo()),A(W,X).catch(Q=>Pn(Q,4|8)?Q:Pn(Q,2)?(S(Q.to,W).then(ie=>{Pn(ie,4|16)&&!H.delta&&H.type===ri.pop&&e.go(-1,!1)}).catch(ni),Promise.reject()):(H.delta&&e.go(-H.delta,!1),L(Q,W,X))).then(Q=>{Q=Q||x(W,X,!1),Q&&(H.delta?e.go(-H.delta,!1):H.type===ri.pop&&Pn(Q,4|16)&&e.go(-1,!1)),T(W,X,Q)}).catch(ni)})}let N=oi(),R=oi(),I;function L(j,F,H){D(j);const W=R.list();return W.length?W.forEach(V=>V(j,F,H)):console.error(j),Promise.reject(j)}function P(){return I&&a.value!==an?Promise.resolve():new Promise((j,F)=>{N.add([j,F])})}function D(j){I||(I=!0,C(),N.list().forEach(([F,H])=>j?H(j):F()),N.reset())}function U(j,F,H,W){const{scrollBehavior:V}=r;if(!hr||!V)return Promise.resolve();const X=!H&&gy(uf(j.fullPath,0))||(W||!H)&&history.state&&history.state.scroll||null;return ua().then(()=>V(j,F,X)).then(Q=>Q&&hy(Q)).catch(Q=>L(Q,j,F))}const M=j=>e.go(j);let B;const q=new Set;return{currentRoute:a,addRoute:h,removeRoute:v,hasRoute:y,getRoutes:m,resolve:p,options:r,push:b,replace:k,go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:R.add,isReady:P,install(j){const F=this;j.component("RouterLink",Zy),j.component("RouterView",t0),j.config.globalProperties.$router=F,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Kr(a)}),hr&&!B&&a.value===an&&(B=!0,b(e.location).catch(V=>{}));const H={};for(const V in an)H[V]=Ct(()=>a.value[V]);j.provide(ga,F),j.provide(of,$r(H)),j.provide(va,a);const W=j.unmount;q.add(j),j.unmount=function(){q.delete(j),q.size<1&&(u=an,E&&E(),a.value=an,B=!1,I=!1),W()}}}}function vr(r){return r.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function n0(r,t){const n=[],i=[],e=[],o=Math.max(t.matched.length,r.matched.length);for(let s=0;s<o;s++){const l=t.matched[s];l&&(r.matched.find(u=>pr(u,l))?i.push(l):n.push(l));const a=r.matched[s];a&&(t.matched.find(u=>pr(u,a))||e.push(a))}return[n,i,e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce=function(r,t){if(!r)throw mr(t)},mr=function(r){return new Error("Firebase Database ("+Cf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let e=r.charCodeAt(i);e<128?t[n++]=e:e<2048?(t[n++]=e>>6|192,t[n++]=e&63|128):(e&64512)==55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)==56320?(e=65536+((e&1023)<<10)+(r.charCodeAt(++i)&1023),t[n++]=e>>18|240,t[n++]=e>>12&63|128,t[n++]=e>>6&63|128,t[n++]=e&63|128):(t[n++]=e>>12|224,t[n++]=e>>6&63|128,t[n++]=e&63|128)}return t},r0=function(r){const t=[];let n=0,i=0;for(;n<r.length;){const e=r[n++];if(e<128)t[i++]=String.fromCharCode(e);else if(e>191&&e<224){const o=r[n++];t[i++]=String.fromCharCode((e&31)<<6|o&63)}else if(e>239&&e<365){const o=r[n++],s=r[n++],l=r[n++],a=((e&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(a>>10)),t[i++]=String.fromCharCode(56320+(a&1023))}else{const o=r[n++],s=r[n++];t[i++]=String.fromCharCode((e&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Ea={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<r.length;e+=3){const o=r[e],s=e+1<r.length,l=s?r[e+1]:0,a=e+2<r.length,u=a?r[e+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let c=(l&15)<<2|u>>6,h=u&63;a||(h=64,s||(c=64)),i.push(n[d],n[f],n[c],n[h])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(If(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):r0(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<r.length;){const o=n[r.charAt(e++)],l=e<r.length?n[r.charAt(e)]:0;++e;const u=e<r.length?n[r.charAt(e)]:64;++e;const f=e<r.length?n[r.charAt(e)]:64;if(++e,o==null||l==null||u==null||f==null)throw Error();const c=o<<2|l>>4;if(i.push(c),u!==64){const h=l<<4&240|u>>2;if(i.push(h),f!==64){const v=u<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},i0=function(r){const t=If(r);return Ea.encodeByteArray(t,!0)},xa=function(r){try{return Ea.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r){return Af(void 0,r)}function Af(r,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!s0(n)||(r[n]=Af(r[n],t[n]));return r}function s0(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sa(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function a0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l0(){const r=Qe();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Nf(){return Cf.NODE_ADMIN===!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="FirebaseError";class Mn extends Error{constructor(t,n,i){super(n);this.code=t,this.customData=i,this.name=u0,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}}class si{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},e=`${this.service}/${t}`,o=this.errors[t],s=o?c0(o,i):"Error",l=`${this.serviceName}: ${s} (${e}).`;return new Mn(e,l,i)}}function c0(r,t){return r.replace(f0,(n,i)=>{const e=t[i];return e!=null?String(e):`<${i}?>`})}const f0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r){return JSON.parse(r)}function ze(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=function(r){let t={},n={},i={},e="";try{const o=r.split(".");t=ai(xa(o[0])||""),n=ai(xa(o[1])||""),e=o[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:e}},d0=function(r){const t=Pf(r),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h0=function(r){const t=Pf(r).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}function yr(r,t){if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}function Ta(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function wo(r,t,n){const i={};for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=t.call(n,r[e],e,r));return i}function Eo(r,t){if(r===t)return!0;const n=Object.keys(r),i=Object.keys(t);for(const e of n){if(!i.includes(e))return!1;const o=r[e],s=t[e];if(Mf(o)&&Mf(s)){if(!Eo(o,s))return!1}else if(o!==s)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function Mf(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r){const t=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let f=0;f<16;f++)i[f]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let f=16;f<80;f++){const c=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(c<<1|c>>>31)&4294967295}let e=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=l^o&(s^l),d=1518500249):(u=o^s^l,d=1859775393):f<60?(u=o&s|l&(o|s),d=2400959708):(u=o^s^l,d=3395469782);const c=(e<<5|e>>>27)+u+a+d+i[f]&4294967295;a=l,l=s,s=(o<<30|o>>>2)&4294967295,o=e,e=c}this.chain_[0]=this.chain_[0]+e&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let e=0;const o=this.buf_;let s=this.inbuf_;for(;e<n;){if(s===0)for(;e<=i;)this.compress_(t,e),e+=this.blockSize;if(typeof t=="string"){for(;e<n;)if(o[s]=t.charCodeAt(e),++s,++e,s===this.blockSize){this.compress_(o),s=0;break}}else for(;e<n;)if(o[s]=t[e],++s,++e,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let e=0;e<5;e++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[e]>>o&255,++i;return t}}function g0(r,t){const n=new v0(r,t);return n.subscribe.bind(n)}class v0{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let e;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");m0(t,["next","error","complete"])?e=t:e={next:t,error:n,complete:i},e.next===void 0&&(e.next=Oa),e.error===void 0&&(e.error=Oa),e.complete===void 0&&(e.complete=Oa);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?e.error(this.finalError):e.complete()}catch{}}),this.observers.push(e),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console!="undefined"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m0(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Oa(){}function Ca(r,t){return`${r} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(r){const t=[];let n=0;for(let i=0;i<r.length;i++){let e=r.charCodeAt(i);if(e>=55296&&e<=56319){const o=e-55296;i++,ce(i<r.length,"Surrogate pair missing trail surrogate.");const s=r.charCodeAt(i)-56320;e=65536+(o<<10)+s}e<128?t[n++]=e:e<2048?(t[n++]=e>>6|192,t[n++]=e&63|128):e<65536?(t[n++]=e>>12|224,t[n++]=e>>6&63|128,t[n++]=e&63|128):(t[n++]=e>>18|240,t[n++]=e>>12&63|128,t[n++]=e>>6&63|128,t[n++]=e&63|128)}return t},xo=function(r){let t=0;for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(r){return r&&r._delegate?r._delegate:r}class Ln{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new ko;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const e=this.getOrInitializeService({instanceIdentifier:n});e&&i.resolve(e)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),e=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(e)return null;throw o}else{if(e)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(k0(t))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:e});i.resolve(o)}catch{}}}}clearInstance(t=Bn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bn){return this.instances.has(t)}getOptions(t=Bn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const e=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);i===l&&s.resolve(e)}return e}onInit(t,n){var i;const e=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(e))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(e,o);const s=this.instances.get(e);return s&&t(s,e),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(!!i)for(const e of i)try{e(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_0(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Bn){return this.component?this.component.multipleInstances?t:Bn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _0(r){return r===Bn?void 0:r}function k0(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new b0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const E0={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},x0=Pe.INFO,S0={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},T0=(r,t,...n)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),e=S0[t];if(e)console[e](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ia{constructor(t){this.name=t,this._logLevel=x0,this._logHandler=T0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?E0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C0(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function C0(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Aa="@firebase/app",Lf="0.7.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Ia("@firebase/app"),I0="@firebase/app-compat",A0="@firebase/analytics-compat",R0="@firebase/analytics",N0="@firebase/app-check-compat",P0="@firebase/app-check",M0="@firebase/auth",L0="@firebase/auth-compat",B0="@firebase/database",D0="@firebase/database-compat",F0="@firebase/functions",j0="@firebase/functions-compat",U0="@firebase/installations",q0="@firebase/installations-compat",H0="@firebase/messaging",z0="@firebase/messaging-compat",W0="@firebase/performance",$0="@firebase/performance-compat",V0="@firebase/remote-config",K0="@firebase/remote-config-compat",G0="@firebase/storage",Y0="@firebase/storage-compat",X0="@firebase/firestore",Z0="@firebase/firestore-compat",J0="firebase",Q0="9.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",e1={[Aa]:"fire-core",[I0]:"fire-core-compat",[R0]:"fire-analytics",[A0]:"fire-analytics-compat",[P0]:"fire-app-check",[N0]:"fire-app-check-compat",[M0]:"fire-auth",[L0]:"fire-auth-compat",[B0]:"fire-rtdb",[D0]:"fire-rtdb-compat",[F0]:"fire-fn",[j0]:"fire-fn-compat",[U0]:"fire-iid",[q0]:"fire-iid-compat",[H0]:"fire-fcm",[z0]:"fire-fcm-compat",[W0]:"fire-perf",[$0]:"fire-perf-compat",[V0]:"fire-rc",[K0]:"fire-rc-compat",[G0]:"fire-gcs",[Y0]:"fire-gcs-compat",[X0]:"fire-fst",[Z0]:"fire-fst-compat","fire-js":"fire-js",[J0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,Na=new Map;function t1(r,t){try{r.container.addComponent(t)}catch(n){Ra.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function _r(r){const t=r.name;if(Na.has(t))return Ra.debug(`There were multiple attempts to register component ${t}.`),!1;Na.set(t,r);for(const n of So.values())t1(n,r);return!0}function To(r,t){return r.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Oo=new si("app","Firebase",n1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=Q0;function Mx(r,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Oo.create("bad-app-name",{appName:String(i)});const e=So.get(i);if(e){if(Eo(r,e.options)&&Eo(n,e.config))return e;throw Oo.create("duplicate-app",{appName:i})}const o=new w0(i);for(const l of Na.values())o.addComponent(l);const s=new r1(r,n,o);return So.set(i,s),s}function Pa(r=Bf){const t=So.get(r);if(!t)throw Oo.create("no-app",{appName:r});return t}function Rt(r,t,n){var i;let e=(i=e1[r])!==null&&i!==void 0?i:r;n&&(e+=`-${n}`);const o=e.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const l=[`Unable to register library "${e}" with version "${t}":`];o&&l.push(`library name "${e}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ra.warn(l.join(" "));return}_r(new Ln(`${e}-version`,()=>({library:e,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r){_r(new Ln("platform-logger",t=>new O0(t),"PRIVATE")),Rt(Aa,Lf,r),Rt(Aa,Lf,"esm2017"),Rt("fire-js","")}i1("");var o1="firebase",s1="9.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt(o1,s1,"app");const Df="@firebase/database",Ff="0.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="";function a1(r){jf=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ze(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ai(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return $t(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=function(r){try{if(typeof window!="undefined"&&typeof window[r]!="undefined"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l1(t)}}catch{}return new u1},Dn=Uf("localStorage"),Ma=Uf("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Ia("@firebase/database"),c1=function(){let r=1;return function(){return r++}}(),qf=function(r){const t=y0(r),n=new p0;n.update(t);const i=n.digest();return Ea.encodeByteArray(i)},li=function(...r){let t="";for(let n=0;n<r.length;n++){const i=r[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=li.apply(null,i):typeof i=="object"?t+=ze(i):t+=i,t+=" "}return t};let Fn=null,Hf=!0;const f1=function(r,t){ce(!t||r===!0||r===!1,"Can't turn on custom loggers persistently."),r===!0?(wr.logLevel=Pe.VERBOSE,Fn=wr.log.bind(wr),t&&Ma.set("logging_enabled",!0)):typeof r=="function"?Fn=r:(Fn=null,Ma.remove("logging_enabled"))},tt=function(...r){if(Hf===!0&&(Hf=!1,Fn===null&&Ma.get("logging_enabled")===!0&&f1(!0)),Fn){const t=li.apply(null,r);Fn(t)}},ui=function(r){return function(...t){tt(r,...t)}},La=function(...r){const t="FIREBASE INTERNAL ERROR: "+li(...r);wr.error(t)},jn=function(...r){const t=`FIREBASE FATAL ERROR: ${li(...r)}`;throw wr.error(t),new Error(t)},ut=function(...r){const t="FIREBASE WARNING: "+li(...r);wr.warn(t)},d1=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zf=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},h1=function(r){if(document.readyState==="complete")r();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Er="[MIN_NAME]",Un="[MAX_NAME]",xr=function(r,t){if(r===t)return 0;if(r===Er||t===Un)return-1;if(t===Er||r===Un)return 1;{const n=Vf(r),i=Vf(t);return n!==null?i!==null?n-i==0?r.length-t.length:n-i:-1:i!==null?1:r<t?-1:1}},p1=function(r,t){return r===t?0:r<t?-1:1},ci=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+ze(t))},Ba=function(r){if(typeof r!="object"||r===null)return ze(r);const t=[];for(const i in r)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ze(t[i]),n+=":",n+=Ba(r[t[i]]);return n+="}",n},Wf=function(r,t){const n=r.length;if(n<=t)return[r];const i=[];for(let e=0;e<n;e+=t)e+t>n?i.push(r.substring(e,n)):i.push(r.substring(e,e+t));return i};function ct(r,t){for(const n in r)r.hasOwnProperty(n)&&t(n,r[n])}const $f=function(r){ce(!zf(r),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let e,o,s,l,a;r===0?(o=0,s=0,e=1/r==-1/0?1:0):(e=r<0,r=Math.abs(r),r>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(r)/Math.LN2),i),o=l+i,s=Math.round(r*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,s=Math.round(r/Math.pow(2,1-i-n))));const u=[];for(a=n;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(a=t;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(e?1:0),u.reverse();const d=u.join("");let f="";for(a=0;a<64;a+=8){let c=parseInt(d.substr(a,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},g1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},v1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function m1(r,t){let n="Unknown Error";r==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?n="Client doesn't have permission to access the desired data.":r==="unavailable"&&(n="The service is unavailable");const i=new Error(r+" at "+t._path.toString()+": "+n);return i.code=r.toUpperCase(),i}const y1=new RegExp("^-?(0*)\\d{1,10}$"),b1=-2147483648,_1=2147483647,Vf=function(r){if(y1.test(r)){const t=Number(r);if(t>=b1&&t<=_1)return t}return null},Sr=function(r){try{r()}catch(t){setTimeout(()=>{const n=t.stack||"";throw ut("Exception was thrown by user callback.",n),t},Math.floor(0))}},k1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fi=function(r,t){const n=setTimeout(r,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(e=>this.auth_=e)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(t)}}class Da{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Da.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="5",Kf="v",Gf="s",Yf="r",Xf="f",Zf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jf="ls",x1="p",ja="ac",Qf="websocket",ed="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t,n,i,e,o=!1,s="",l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=e,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Dn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function T1(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function td(r,t,n){ce(typeof t=="string","typeof type must == string"),ce(typeof n=="object","typeof params must == object");let i;if(t===Qf)i=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(t===ed)i=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);T1(r)&&(n.ns=r.namespace);const e=[];return ct(n,(o,s)=>{e.push(o+"="+s)}),i+e.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.counters_={}}incrementCounter(t,n=1){$t(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return o0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua={},qa={};function Ha(r){const t=r.toString();return Ua[t]||(Ua[t]=new O1),Ua[t]}function C1(r,t){const n=r.toString();return qa[n]||(qa[n]=t()),qa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let e=0;e<i.length;++e)i[e]&&Sr(()=>{this.onMessage_(i[e])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="start",A1="close",R1="pLPCommand",N1="pRTLPCB",rd="id",id="pw",od="ser",P1="cb",M1="seg",L1="ts",B1="d",D1="dframe",sd=1870,ad=30,F1=sd-ad,j1=25e3,U1=3e4;class Tr{constructor(t,n,i,e,o,s,l){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=e,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ui(t),this.stats_=Ha(n),this.urlFn=a=>(this.appCheckToken&&(a[ja]=this.appCheckToken),td(n,ed,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new I1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(U1)),h1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new za((...o)=>{const[s,l,a,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===nd)this.id=l,this.password=a;else if(s===A1)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[nd]="t",i[od]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[P1]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Kf]=Fa,this.transportSessionId&&(i[Gf]=this.transportSessionId),this.lastSessionId&&(i[Jf]=this.lastSessionId),this.applicationId&&(i[x1]=this.applicationId),this.appCheckToken&&(i[ja]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Zf.test(location.hostname)&&(i[Yf]=Xf);const e=this.urlFn(i);this.log_("Connecting via long-poll to "+e),this.scriptTagHolder.addTag(e,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tr.forceAllow_=!0}static forceDisallow(){Tr.forceDisallow_=!0}static isAvailable(){return Tr.forceAllow_?!0:!Tr.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!g1()&&!v1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ze(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=i0(n),e=Wf(i,F1);for(let o=0;o<e.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[D1]="t",i[rd]=t,i[id]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ze(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class za{constructor(t,n,i,e){this.onDisconnect=i,this.urlFn=e,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=c1(),window[R1+this.uniqueCallbackIdentifier]=t,window[N1+this.uniqueCallbackIdentifier]=n,this.myIFrame=za.createIFrame_();let o="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,"javascript:".length)==="javascript:"){const l=document.domain;o='<script>document.domain="'+l+'";<\/script>'}const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){tt("frame writing exception"),l.stack&&tt(l.stack),tt(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||tt("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rd]=this.myID,t[id]=this.myPW,t[od]=this.currentSerial;let n=this.urlFn(t),i="",e=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ad+i.length<=sd;){const s=this.pendingSegs.shift();i=i+"&"+M1+e+"="+s.seg+"&"+L1+e+"="+s.ts+"&"+B1+e+"="+s.d,e++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},e=setTimeout(i,Math.floor(j1)),o=()=>{clearTimeout(e),i()};this.addTag(t,o)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const e=i.readyState;(!e||e==="loaded"||e==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{tt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=16384,H1=45e3;let Co=null;typeof MozWebSocket!="undefined"?Co=MozWebSocket:typeof WebSocket!="undefined"&&(Co=WebSocket);class Et{constructor(t,n,i,e,o,s,l){this.connId=t,this.applicationId=i,this.appCheckToken=e,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ui(this.connId),this.stats_=Ha(n),this.connURL=Et.connectionURL_(n,s,l,e),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,e){const o={};return o[Kf]=Fa,typeof location!="undefined"&&location.hostname&&Zf.test(location.hostname)&&(o[Yf]=Xf),n&&(o[Gf]=n),i&&(o[Jf]=i),e&&(o[ja]=e),td(t,Qf,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dn.set("previous_websocket_failure",!0);try{if(!Nf()){const i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Co(this.connURL,[],i)}}catch(i){this.log_("Error instantiating WebSocket.");const e=i.message||i.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const e=i.message||i.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){Et.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Co!==null&&!Et.forceDisallow_}static previouslyFailed(){return Dn.isInMemoryStorage||Dn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Dn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ai(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ce(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=ze(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Wf(n,q1);i.length>1&&this.sendString_(String(i.length));for(let e=0;e<i.length;e++)this.sendString_(i[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(H1))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Et.responsesRequiredToBeHealthy=2;Et.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Tr,Et]}initTransports_(t){const n=Et&&Et.isAvailable();let i=n&&!Et.previouslyFailed();if(t.webSocketOnly&&(n||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Et];else{const e=this.transports_=[];for(const o of Wa.ALL_TRANSPORTS)o&&o.isAvailable()&&e.push(o)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=6e4,W1=5e3,$1=10*1024,V1=100*1024,$a="t",ld="d",K1="s",ud="r",G1="e",cd="o",fd="a",dd="n",hd="p",Y1="h";class X1{constructor(t,n,i,e,o,s,l,a,u,d){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=e,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ui("c:"+this.id+":"),this.transportManager_=new Wa(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const e=t.healthyTimeout||0;e>0&&(this.healthyTimeout_=fi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>V1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(e)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($a in t){const n=t[$a];n===fd?this.upgradeIfSecondaryHealthy_():n===ud?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=ci("t",t),i=ci("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=ci("t",t),i=ci("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=ci($a,t);if(ld in t){const i=t[ld];if(n===Y1)this.onHandshake_(i);else if(n===dd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===K1?this.onConnectionShutdown_(i):n===ud?this.onReset_(i):n===G1?La("Server Error: "+i):n===cd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):La("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,e=t.h;this.sessionId=t.s,this.repoInfo_.host=e,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fa!==i&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),fi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(z1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hd,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{put(t,n,i,e){}merge(t,n,i,e){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t){this.allowedEvents_=t,this.listeners_={},ce(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const e=this.getInitialEvent(t);e&&n.apply(i,e)}off(t,n,i){this.validateEventType_(t);const e=this.listeners_[t]||[];for(let o=0;o<e.length;o++)if(e[o].callback===n&&(!i||i===e[o].context)){e.splice(o,1);return}}validateEventType_(t){ce(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends gd{constructor(){super(["online"]);this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!Sa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Io}getInitialEvent(t){return ce(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=32,md=768;class Me{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[i]=this.pieces_[e],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Oe(){return new Me("")}function we(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function un(r){return r.pieces_.length-r.pieceNum_}function Le(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Me(r.pieces_,t)}function yd(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Z1(r){let t="";for(let n=r.pieceNum_;n<r.pieces_.length;n++)r.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(r.pieces_[n])));return t||"/"}function bd(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function _d(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let n=r.pieceNum_;n<r.pieces_.length-1;n++)t.push(r.pieces_[n]);return new Me(t,0)}function We(r,t){const n=[];for(let i=r.pieceNum_;i<r.pieces_.length;i++)n.push(r.pieces_[i]);if(t instanceof Me)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let e=0;e<i.length;e++)i[e].length>0&&n.push(i[e])}return new Me(n,0)}function xe(r){return r.pieceNum_>=r.pieces_.length}function st(r,t){const n=we(r),i=we(t);if(n===null)return t;if(n===i)return st(Le(r),Le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Va(r,t){if(un(r)!==un(t))return!1;for(let n=r.pieceNum_,i=t.pieceNum_;n<=r.pieces_.length;n++,i++)if(r.pieces_[n]!==t.pieces_[i])return!1;return!0}function xt(r,t){let n=r.pieceNum_,i=t.pieceNum_;if(un(r)>un(t))return!1;for(;n<r.pieces_.length;){if(r.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class J1{constructor(t,n){this.errorPrefix_=n,this.parts_=bd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xo(this.parts_[i]);kd(this)}}function Q1(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=xo(t),kd(r)}function eb(r){const t=r.parts_.pop();r.byteLength_-=xo(t),r.parts_.length>0&&(r.byteLength_-=1)}function kd(r){if(r.byteLength_>md)throw new Error(r.errorPrefix_+"has a key path longer than "+md+" bytes ("+r.byteLength_+").");if(r.parts_.length>vd)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vd+") or object contains a cycle "+qn(r))}function qn(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends gd{constructor(){super(["visible"]);let t,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",t="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ka}getInitialEvent(t){return ce(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=1e3,tb=60*5*1e3,nb=3*1e3,wd=30*1e3,rb=1.3,ib=3e4,ob="server_kill",Ed=3;class Vt extends pd{constructor(t,n,i,e,o,s,l,a){super();if(this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=e,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Vt.nextPersistentConnectionId_++,this.log_=ui("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=di,this.maxReconnectDelay_=tb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Nf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ka.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Io.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const e=++this.requestNumber_,o={r:e,a:t,b:n};this.log_(ze(o)),ce(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[e]=i)}get(t){this.initConnection_();const n=new ko,i={p:t._path.toString(),q:t._queryObject},e={action:"g",request:i,onComplete:s=>{const l=s.d;s.s==="ok"?(this.onDataUpdate_(i.p,l,!1,null),n.resolve(l)):n.reject(l)}};this.outstandingGets_.push(e),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const s=this.outstandingGets_[o];s===void 0||e!==s||(delete this.outstandingGets_[o],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},nb),this.connected_&&this.sendGet_(o),n.promise}listen(t,n,i,e){this.initConnection_();const o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ce(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const l={onComplete:e,hashFn:n,query:t,tag:i};this.listens.get(s).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),e=n._queryIdentifier;this.log_("Listen on "+i+" for "+e);const o={p:i},s="q";t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(s,o,l=>{const a=l.d,u=l.s;Vt.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(e))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,e),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&$t(t,"w")){const i=yr(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const e='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||h0(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wd)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=d0(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,e=>{const o=e.s,s=e.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),e=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+e),ce(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,e)&&this.connected_&&this.sendUnlisten_(i,e,t._queryObject,n)}sendUnlisten_(t,n,i,e){this.log_("Unlisten on "+t+" for "+n);const o={p:t},s="n";e&&(o.q=i,o.t=e),this.sendRequest(s,o)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,e){const o={p:n,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,s=>{e&&setTimeout(()=>{e(s.s,s.d)},Math.floor(0))})}put(t,n,i,e){this.putInternal("p",t,n,i,e)}merge(t,n,i,e){this.putInternal("m",t,n,i,e)}putInternal(t,n,i,e,o){this.initConnection_();const s={p:n,d:i};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:t,request:s,onComplete:e}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,e=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),e&&e(o.s,o.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ze(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):La("Unrecognized action received from server: "+ze(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ce(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ib&&(this.reconnectDelay_=di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),e=this.id+":"+Vt.nextConnectionId_++,o=this.lastSessionId;let s=!1,l=null;const a=function(){l?l.close():(s=!0,i())},u=function(f){ce(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?tt("getToken() completed but was canceled"):(tt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,l=new X1(e,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,h=>{ut(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(ob)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&ut(f),a())}}}interrupt(t){tt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ta(this.interruptReasons_)&&(this.reconnectDelay_=di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(o=>Ba(o)).join("$"):i="default";const e=this.removeListen_(t,i);e&&e.onComplete&&e.onComplete("permission_denied")}removeListen_(t,n){const i=new Me(t).toString();let e;if(this.listens.has(i)){const o=this.listens.get(i);e=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else e=void 0;return e}onAuthRevoked_(t,n){tt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ed&&(this.reconnectDelay_=wd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){tt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ed&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+jf.replace(/\./g,"-")]=1,Sa()?t["framework.cordova"]=1:Rf()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Io.getInstance().currentlyOnline();return Ta(this.interruptReasons_)&&t}}Vt.nextPersistentConnectionId_=0;Vt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ee(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new Ee(Er,t),e=new Ee(Er,n);return this.compare(i,e)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class xd extends Ao{static get __EMPTY_NODE(){return Ro}static set __EMPTY_NODE(t){Ro=t}compare(t,n){return xr(t.name,n.name)}isDefinedOn(t){throw mr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Un,Ro)}makePost(t,n){return ce(typeof t=="string","KeyIndex indexValue must always be a string."),new Ee(t,Ro)}toString(){return".key"}}const Or=new xd;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n,i,e,o=null){this.isReverse_=e,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,e&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class $e{constructor(t,n,i,e,o){this.key=t,this.value=n,this.color=i!=null?i:$e.RED,this.left=e!=null?e:ft.EMPTY_NODE,this.right=o!=null?o:ft.EMPTY_NODE}copy(t,n,i,e,o){return new $e(t!=null?t:this.key,n!=null?n:this.value,i!=null?i:this.color,e!=null?e:this.left,o!=null?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let e=this;const o=i(t,e.key);return o<0?e=e.copy(null,null,null,e.left.insert(t,n,i),null):o===0?e=e.copy(null,n,null,null,null):e=e.copy(null,null,null,null,e.right.insert(t,n,i)),e.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,e;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return ft.EMPTY_NODE;e=i.right.min_(),i=i.copy(e.key,e.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}$e.RED=!0;$e.BLACK=!1;class sb{copy(t,n,i,e,o){return this}insert(t,n,i){return new $e(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ft{constructor(t,n=ft.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ft(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,$e.BLACK,null,null))}remove(t){return new ft(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$e.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,e=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return e?e.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(e=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new No(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new No(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new No(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new No(this.root_,null,this.comparator_,!0,t)}}ft.EMPTY_NODE=new sb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,t){return xr(r.name,t.name)}function Ga(r,t){return xr(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;function lb(r){Ya=r}const Sd=function(r){return typeof r=="number"?"number:"+$f(r):"string:"+r},Td=function(r){if(r.isLeafNode()){const t=r.val();ce(typeof t=="string"||typeof t=="number"||typeof t=="object"&&$t(t,".sv"),"Priority must be a string or number.")}else ce(r===Ya||r.isEmpty(),"priority of unexpected type.");ce(r===Ya||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;class Ve{constructor(t,n=Ve.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ce(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Td(this.priorityNode_)}static set __childrenNodeConstructor(t){Od=t}static get __childrenNodeConstructor(){return Od}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Ve(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return xe(t)?this:we(t)===".priority"?this.priorityNode_:Ve.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Ve.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=we(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(ce(i!==".priority"||un(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ve.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Sd(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=$f(this.value_):t+=this.value_,this.lazyHash_=qf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Ve.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Ve.__childrenNodeConstructor?-1:(ce(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,e=Ve.VALUE_TYPE_ORDER.indexOf(n),o=Ve.VALUE_TYPE_ORDER.indexOf(i);return ce(e>=0,"Unknown leaf type: "+n),ce(o>=0,"Unknown leaf type: "+i),e===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-e}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ve.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd,Id;function ub(r){Cd=r}function cb(r){Id=r}class fb extends Ao{compare(t,n){const i=t.node.getPriority(),e=n.node.getPriority(),o=i.compareTo(e);return o===0?xr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Un,new Ve("[PRIORITY-POST]",Id))}makePost(t,n){const i=Cd(t);return new Ee(n,new Ve("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new fb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=Math.log(2);class hb{constructor(t){const n=o=>parseInt(Math.log(o)/db,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const e=i(this.count);this.bits_=t+1&e}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Po=function(r,t,n,i){r.sort(t);const e=function(a,u){const d=u-a;let f,c;if(d===0)return null;if(d===1)return f=r[a],c=n?n(f):f,new $e(c,f.node,$e.BLACK,null,null);{const h=parseInt(d/2,10)+a,v=e(a,h),m=e(h+1,u);return f=r[h],c=n?n(f):f,new $e(c,f.node,$e.BLACK,v,m)}},o=function(a){let u=null,d=null,f=r.length;const c=function(v,m){const y=f-v,p=f;f-=v;const g=e(y+1,p),_=r[y],b=n?n(_):_;h(new $e(b,_.node,m,null,g))},h=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const m=a.nextBitIsOne(),y=Math.pow(2,a.count-(v+1));m?c(y,$e.BLACK):(c(y,$e.BLACK),c(y,$e.RED))}return d},s=new hb(r.length),l=o(s);return new ft(i||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;const Cr={};class Kt{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ce(Cr&&Ue,"ChildrenNode.ts has not been loaded"),Xa=Xa||new Kt({".priority":Cr},{".priority":Ue}),Xa}get(t){const n=yr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ft?n:null}hasIndex(t){return $t(this.indexSet_,t.toString())}addIndex(t,n){ce(t!==Or,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let e=!1;const o=n.getIterator(Ee.Wrap);let s=o.getNext();for(;s;)e=e||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let l;e?l=Po(i,t.getCompare()):l=Cr;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const d=Object.assign({},this.indexes_);return d[a]=l,new Kt(d,u)}addToIndexes(t,n){const i=wo(this.indexes_,(e,o)=>{const s=yr(this.indexSet_,o);if(ce(s,"Missing index implementation for "+o),e===Cr)if(s.isDefinedOn(t.node)){const l=[],a=n.getIterator(Ee.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Po(l,s.getCompare())}else return Cr;else{const l=n.get(t.name);let a=e;return l&&(a=a.remove(new Ee(t.name,l))),a.insert(t,t.node)}});return new Kt(i,this.indexSet_)}removeFromIndexes(t,n){const i=wo(this.indexes_,e=>{if(e===Cr)return e;{const o=n.get(t.name);return o?e.remove(new Ee(t.name,o)):e}});return new Kt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hi;class ve{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Td(this.priorityNode_),this.children_.isEmpty()&&ce(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hi||(hi=new ve(new ft(Ga),null,Kt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hi}updatePriority(t){return this.children_.isEmpty()?this:new ve(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?hi:n}}getChild(t){const n=we(t);return n===null?this:this.getImmediateChild(n).getChild(Le(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(ce(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new Ee(t,n);let e,o;n.isEmpty()?(e=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(e=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(i,this.children_));const s=e.isEmpty()?hi:this.priorityNode_;return new ve(e,s,o)}}updateChild(t,n){const i=we(t);if(i===null)return n;{ce(we(t)!==".priority"||un(t)===1,".priority must be the last token in a path");const e=this.getImmediateChild(i).updateChild(Le(t),n);return this.updateImmediateChild(i,e)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,e=0,o=!0;if(this.forEachChild(Ue,(s,l)=>{n[s]=l.val(t),i++,o&&ve.INTEGER_REGEXP_.test(s)?e=Math.max(e,Number(s)):o=!1}),!t&&o&&e<2*i){const s=[];for(const l in n)s[l]=n[l];return s}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Sd(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const e=i.hash();e!==""&&(t+=":"+n+":"+e)}),this.lazyHash_=t===""?"":qf(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const e=this.resolveIndex_(i);if(e){const o=e.getPredecessorKey(new Ee(t,n));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ee(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(e=>n(e.name,e.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,e=>e);{const e=this.children_.getIteratorFrom(t.name,Ee.Wrap);let o=e.peek();for(;o!=null&&n.compare(o,t)<0;)e.getNext(),o=e.peek();return e}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,e=>e);{const e=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap);let o=e.peek();for(;o!=null&&n.compare(o,t)>0;)e.getNext(),o=e.peek();return e}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===pi?-1:0}withIndex(t){if(t===Or||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ve(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Or||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),e=n.getIterator(Ue);let o=i.getNext(),s=e.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=i.getNext(),s=e.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(t){return t===Or?null:this.indexMap_.get(t.toString())}}ve.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pb extends ve{constructor(){super(new ft(Ga),ve.EMPTY_NODE,Kt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ve.EMPTY_NODE}isEmpty(){return!1}}const pi=new pb;Object.defineProperties(Ee,{MIN:{value:new Ee(Er,ve.EMPTY_NODE)},MAX:{value:new Ee(Un,pi)}});xd.__EMPTY_NODE=ve.EMPTY_NODE;Ve.__childrenNodeConstructor=ve;lb(pi);cb(pi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=!0;function Ke(r,t=null){if(r===null)return ve.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(t=r[".priority"]),ce(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const n=r;return new Ve(n,Ke(t))}if(!(r instanceof Array)&&gb){const n=[];let i=!1;if(ct(r,(s,l)=>{if(s.substring(0,1)!=="."){const a=Ke(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new Ee(s,a)))}}),n.length===0)return ve.EMPTY_NODE;const o=Po(n,ab,s=>s.name,Ga);if(i){const s=Po(n,Ue.getCompare());return new ve(o,Ke(t),new Kt({".priority":s},{".priority":Ue}))}else return new ve(o,Ke(t),Kt.Default)}else{let n=ve.EMPTY_NODE;return ct(r,(i,e)=>{if($t(r,i)&&i.substring(0,1)!=="."){const o=Ke(e);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Ke(t))}}ub(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends Ao{constructor(t){super();this.indexPath_=t,ce(!xe(t)&&we(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),e=this.extractChild(n.node),o=i.compareTo(e);return o===0?xr(t.name,n.name):o}makePost(t,n){const i=Ke(t),e=ve.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ee(n,e)}maxPost(){const t=ve.EMPTY_NODE.updateChild(this.indexPath_,pi);return new Ee(Un,t)}toString(){return bd(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends Ao{compare(t,n){const i=t.node.compareTo(n.node);return i===0?xr(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(t,n){const i=Ke(t);return new Ee(n,i)}toString(){return".value"}}const yb=new mb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bb=function(){let r=0;const t=[];return function(n){const i=n===r;r=n;let e;const o=new Array(8);for(e=7;e>=0;e--)o[e]=Ad.charAt(n%64),n=Math.floor(n/64);ce(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(e=11;e>=0&&t[e]===63;e--)t[e]=0;t[e]++}else for(e=0;e<12;e++)t[e]=Math.floor(Math.random()*64);for(e=0;e<12;e++)s+=Ad.charAt(t[e]);return ce(s.length===20,"nextPushId: Length should be 20."),s}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){return{type:"value",snapshotNode:r}}function Ir(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function gi(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function vi(r,t,n){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:n}}function _b(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.index_=t}updateChild(t,n,i,e,o,s){ce(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(e).equals(i.getChild(e))&&l.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(gi(n,l)):ce(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(Ir(n,i)):s.trackChildChange(vi(n,i,l))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(Ue,(e,o)=>{n.hasChild(e)||i.trackChildChange(gi(e,o))}),n.isLeafNode()||n.forEachChild(Ue,(e,o)=>{if(t.hasChild(e)){const s=t.getImmediateChild(e);s.equals(o)||i.trackChildChange(vi(e,o,s))}else i.trackChildChange(Ir(e,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ve.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.indexedFilter_=new Za(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mi.getStartPost_(t),this.endPost_=mi.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,n,i,e,o,s){return this.matches(new Ee(n,i))||(i=ve.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,e,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=ve.EMPTY_NODE);let e=n.withIndex(this.index_);e=e.updatePriority(ve.EMPTY_NODE);const o=this;return n.forEachChild(Ue,(s,l)=>{o.matches(new Ee(s,l))||(e=e.updateImmediateChild(s,ve.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,e,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t){this.rangedFilter_=new mi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,n,i,e,o,s){return this.rangedFilter_.matches(new Ee(n,i))||(i=ve.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,e,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let e;if(n.isLeafNode()||n.isEmpty())e=ve.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){e=ve.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();let a;if(this.reverse_?a=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:a=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,a)e=e.updateImmediateChild(l.name,l.node),s++;else break}}else{e=n.withIndex(this.index_),e=e.updatePriority(ve.EMPTY_NODE);let o,s,l,a;if(this.reverse_){a=e.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();const f=this.index_.getCompare();l=(c,h)=>f(h,c)}else a=e.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let u=0,d=!1;for(;a.hasNext();){const f=a.getNext();!d&&l(o,f)<=0&&(d=!0),d&&u<this.limit_&&l(f,s)<=0?u++:e=e.updateImmediateChild(f.name,ve.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,e,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,e,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(c,h)=>f(h,c)}else s=this.index_.getCompare();const l=t;ce(l.numChildren()===this.limit_,"");const a=new Ee(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let c=e.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||l.hasChild(c.name));)c=e.getChildAfterChild(this.index_,c,this.reverse_);const h=c==null?1:s(c,a);if(d&&!i.isEmpty()&&h>=0)return o!=null&&o.trackChildChange(vi(n,i,f)),l.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(gi(n,f));const m=l.updateImmediateChild(n,ve.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(o!=null&&o.trackChildChange(Ir(c.name,c.node)),m.updateImmediateChild(c.name,c.node)):m}}else return i.isEmpty()?t:d&&s(u,a)>=0?(o!=null&&(o.trackChildChange(gi(u.name,u.node)),o.trackChildChange(Ir(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,ve.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ce(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ce(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Er}hasEnd(){return this.endSet_}getIndexEndValue(){return ce(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ce(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Un}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ce(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const t=new Ja;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wb(r){return r.loadsAllData()?new Za(r.getIndex()):r.hasLimit()?new kb(r):new mi(r)}function Eb(r,t){const n=r.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Nd(r){const t={};if(r.isDefault())return t;let n;return r.index_===Ue?n="$priority":r.index_===yb?n="$value":r.index_===Or?n="$key":(ce(r.index_ instanceof vb,"Unrecognized index type!"),n=r.index_.toString()),t.orderBy=ze(n),r.startSet_&&(t.startAt=ze(r.indexStartValue_),r.startNameSet_&&(t.startAt+=","+ze(r.indexStartName_))),r.endSet_&&(t.endAt=ze(r.indexEndValue_),r.endNameSet_&&(t.endAt+=","+ze(r.indexEndName_))),r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function Pd(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_)),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_)),r.limitSet_){t.l=r.limit_;let n=r.viewFrom_;n===""&&(r.isViewFromLeft()?n="l":n="r"),t.vf=n}return r.index_!==Ue&&(t.i=r.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends pd{constructor(t,n,i,e){super();this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=e,this.log_=ui("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(ce(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,e){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Mo.getListenId_(t,i),l={};this.listens_[s]=l;const a=Nd(t._queryParams);this.restRequest_(o+".json",a,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,i),yr(this.listens_,s)===l){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",e(c,null)}})}unlisten(t,n){const i=Mo.getListenId_(t,n);delete this.listens_[i]}get(t){const n=Nd(t._queryParams),i=t._path.toString(),e=new ko;return this.restRequest_(i+".json",n,(o,s)=>{let l=s;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(i,l,!1,null),e.resolve(l)):e.reject(new Error(l))}),e.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([e,o])=>{e&&e.accessToken&&(n.auth=e.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+br(n);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=ai(l.responseText)}catch{ut("Failed to parse JSON response for "+s+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&ut("Got unsuccessful REST response for "+s+" Status: "+l.status),i(l.status);i=null}},l.open("GET",s,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(){return{value:null,children:new Map}}function Md(r,t,n){if(xe(t))r.value=n,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(t,n);else{const i=we(t);r.children.has(i)||r.children.set(i,Lo());const e=r.children.get(i);t=Le(t),Md(e,t,n)}}function Qa(r,t,n){r.value!==null?n(t,r.value):Sb(r,(i,e)=>{const o=new Me(t.toString()+"/"+i);Qa(e,o,n)})}function Sb(r,t){r.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ct(this.last_,(i,e)=>{n[i]=n[i]-e}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=10*1e3,Ob=30*1e3,Cb=5*60*1e3;class Ib{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Tb(t);const i=Ld+(Ob-Ld)*Math.random();fi(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;ct(t,(e,o)=>{o>0&&$t(this.statsToReport_,e)&&(n[e]=o,i=!0)}),i&&this.server_.reportStats(n),fi(this.reportStats_.bind(this),Math.floor(Math.random()*2*Cb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(St||(St={}));function Bd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function el(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tl(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=St.ACK_USER_WRITE,this.source=Bd()}operationForChild(t){if(xe(this.path)){if(this.affectedTree.value!=null)return ce(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Me(t));return new Bo(Oe(),n,this.revert)}}else return ce(we(this.path)===t,"operationForChild called for unrelated child."),new Bo(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n){this.source=t,this.path=n,this.type=St.LISTEN_COMPLETE}operationForChild(t){return xe(this.path)?new yi(this.source,Oe()):new yi(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=St.OVERWRITE}operationForChild(t){return xe(this.path)?new Hn(this.source,Oe(),this.snap.getImmediateChild(t)):new Hn(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=St.MERGE}operationForChild(t){if(xe(this.path)){const n=this.children.subtree(new Me(t));return n.isEmpty()?null:n.value?new Hn(this.source,Oe(),n.value):new bi(this.source,Oe(),n)}else return ce(we(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new bi(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(xe(t))return this.isFullyInitialized()&&!this.filtered_;const n=we(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Rb(r,t,n,i){const e=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&r.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(_b(s.childName,s.snapshotNode))}),_i(r,e,"child_removed",t,i,n),_i(r,e,"child_added",t,i,n),_i(r,e,"child_moved",o,i,n),_i(r,e,"child_changed",t,i,n),_i(r,e,"value",t,i,n),e}function _i(r,t,n,i,e,o){const s=i.filter(l=>l.type===n);s.sort((l,a)=>Pb(r,l,a)),s.forEach(l=>{const a=Nb(r,l,o);e.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,r.query_))})})}function Nb(r,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}function Pb(r,t,n){if(t.childName==null||n.childName==null)throw mr("Should only compare child_ events.");const i=new Ee(t.childName,t.snapshotNode),e=new Ee(n.childName,n.snapshotNode);return r.index_.compare(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r,t){return{eventCache:r,serverCache:t}}function ki(r,t,n,i){return Do(new cn(t,n,i),r.serverCache)}function Dd(r,t,n,i){return Do(r.eventCache,new cn(t,n,i))}function Fo(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function zn(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;const Mb=()=>(nl||(nl=new ft(p1)),nl);class De{constructor(t,n=Mb()){this.value=t,this.children=n}static fromObject(t){let n=new De(null);return ct(t,(i,e)=>{n=n.set(new Me(i),e)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Oe(),value:this.value};if(xe(t))return null;{const i=we(t),e=this.children.get(i);if(e!==null){const o=e.findRootMostMatchingPathAndValue(Le(t),n);return o!=null?{path:We(new Me(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(xe(t))return this;{const n=we(t),i=this.children.get(n);return i!==null?i.subtree(Le(t)):new De(null)}}set(t,n){if(xe(t))return new De(n,this.children);{const i=we(t),o=(this.children.get(i)||new De(null)).set(Le(t),n),s=this.children.insert(i,o);return new De(this.value,s)}}remove(t){if(xe(t))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=we(t),i=this.children.get(n);if(i){const e=i.remove(Le(t));let o;return e.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,e),this.value===null&&o.isEmpty()?new De(null):new De(this.value,o)}else return this}}get(t){if(xe(t))return this.value;{const n=we(t),i=this.children.get(n);return i?i.get(Le(t)):null}}setTree(t,n){if(xe(t))return n;{const i=we(t),o=(this.children.get(i)||new De(null)).setTree(Le(t),n);let s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new De(this.value,s)}}fold(t){return this.fold_(Oe(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((e,o)=>{i[e]=o.fold_(We(t,e),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Oe(),n)}findOnPath_(t,n,i){const e=this.value?i(n,this.value):!1;if(e)return e;if(xe(t))return null;{const o=we(t),s=this.children.get(o);return s?s.findOnPath_(Le(t),We(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Oe(),n)}foreachOnPath_(t,n,i){if(xe(t))return this;{this.value&&i(n,this.value);const e=we(t),o=this.children.get(e);return o?o.foreachOnPath_(Le(t),We(n,e),i):new De(null)}}foreach(t){this.foreach_(Oe(),t)}foreach_(t,n){this.children.inorderTraversal((i,e)=>{e.foreach_(We(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.writeTree_=t}static empty(){return new Tt(new De(null))}}function wi(r,t,n){if(xe(t))return new Tt(new De(n));{const i=r.writeTree_.findRootMostValueAndPath(t);if(i!=null){const e=i.path;let o=i.value;const s=st(e,t);return o=o.updateChild(s,n),new Tt(r.writeTree_.set(e,o))}else{const e=new De(n),o=r.writeTree_.setTree(t,e);return new Tt(o)}}}function Fd(r,t,n){let i=r;return ct(n,(e,o)=>{i=wi(i,We(t,e),o)}),i}function jd(r,t){if(xe(t))return Tt.empty();{const n=r.writeTree_.setTree(t,new De(null));return new Tt(n)}}function rl(r,t){return Wn(r,t)!=null}function Wn(r,t){const n=r.writeTree_.findRootMostValueAndPath(t);return n!=null?r.writeTree_.get(n.path).getChild(st(n.path,t)):null}function Ud(r){const t=[],n=r.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,e)=>{t.push(new Ee(i,e))}):r.writeTree_.children.inorderTraversal((i,e)=>{e.value!=null&&t.push(new Ee(i,e.value))}),t}function fn(r,t){if(xe(t))return r;{const n=Wn(r,t);return n!=null?new Tt(new De(n)):new Tt(r.writeTree_.subtree(t))}}function il(r){return r.writeTree_.isEmpty()}function Ar(r,t){return qd(Oe(),r.writeTree_,t)}function qd(r,t,n){if(t.value!=null)return n.updateChild(r,t.value);{let i=null;return t.children.inorderTraversal((e,o)=>{e===".priority"?(ce(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=qd(We(r,e),o,n)}),!n.getChild(r).isEmpty()&&i!==null&&(n=n.updateChild(We(r,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(r,t){return Vd(t,r)}function Lb(r,t,n,i,e){ce(i>r.lastWriteId,"Stacking an older write on top of newer ones"),e===void 0&&(e=!0),r.allWrites.push({path:t,snap:n,writeId:i,visible:e}),e&&(r.visibleWrites=wi(r.visibleWrites,t,n)),r.lastWriteId=i}function Bb(r,t){for(let n=0;n<r.allWrites.length;n++){const i=r.allWrites[n];if(i.writeId===t)return i}return null}function Db(r,t){const n=r.allWrites.findIndex(l=>l.writeId===t);ce(n>=0,"removeWrite called with nonexistent writeId.");const i=r.allWrites[n];r.allWrites.splice(n,1);let e=i.visible,o=!1,s=r.allWrites.length-1;for(;e&&s>=0;){const l=r.allWrites[s];l.visible&&(s>=n&&Fb(l,i.path)?e=!1:xt(i.path,l.path)&&(o=!0)),s--}if(e){if(o)return jb(r),!0;if(i.snap)r.visibleWrites=jd(r.visibleWrites,i.path);else{const l=i.children;ct(l,a=>{r.visibleWrites=jd(r.visibleWrites,We(i.path,a))})}return!0}else return!1}function Fb(r,t){if(r.snap)return xt(r.path,t);for(const n in r.children)if(r.children.hasOwnProperty(n)&&xt(We(r.path,n),t))return!0;return!1}function jb(r){r.visibleWrites=Hd(r.allWrites,Ub,Oe()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function Ub(r){return r.visible}function Hd(r,t,n){let i=Tt.empty();for(let e=0;e<r.length;++e){const o=r[e];if(t(o)){const s=o.path;let l;if(o.snap)xt(n,s)?(l=st(n,s),i=wi(i,l,o.snap)):xt(s,n)&&(l=st(s,n),i=wi(i,Oe(),o.snap.getChild(l)));else if(o.children){if(xt(n,s))l=st(n,s),i=Fd(i,l,o.children);else if(xt(s,n))if(l=st(s,n),xe(l))i=Fd(i,Oe(),o.children);else{const a=yr(o.children,we(l));if(a){const u=a.getChild(Le(l));i=wi(i,Oe(),u)}}}else throw mr("WriteRecord should have .snap or .children")}}return i}function zd(r,t,n,i,e){if(!i&&!e){const o=Wn(r.visibleWrites,t);if(o!=null)return o;{const s=fn(r.visibleWrites,t);if(il(s))return n;if(n==null&&!rl(s,Oe()))return null;{const l=n||ve.EMPTY_NODE;return Ar(s,l)}}}else{const o=fn(r.visibleWrites,t);if(!e&&il(o))return n;if(!e&&n==null&&!rl(o,Oe()))return null;{const s=function(u){return(u.visible||e)&&(!i||!~i.indexOf(u.writeId))&&(xt(u.path,t)||xt(t,u.path))},l=Hd(r.allWrites,s,t),a=n||ve.EMPTY_NODE;return Ar(l,a)}}}function qb(r,t,n){let i=ve.EMPTY_NODE;const e=Wn(r.visibleWrites,t);if(e)return e.isLeafNode()||e.forEachChild(Ue,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){const o=fn(r.visibleWrites,t);return n.forEachChild(Ue,(s,l)=>{const a=Ar(fn(o,new Me(s)),l);i=i.updateImmediateChild(s,a)}),Ud(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{const o=fn(r.visibleWrites,t);return Ud(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function Hb(r,t,n,i,e){ce(i||e,"Either existingEventSnap or existingServerSnap must exist");const o=We(t,n);if(rl(r.visibleWrites,o))return null;{const s=fn(r.visibleWrites,o);return il(s)?e.getChild(n):Ar(s,e.getChild(n))}}function zb(r,t,n,i){const e=We(t,n),o=Wn(r.visibleWrites,e);if(o!=null)return o;if(i.isCompleteForChild(n)){const s=fn(r.visibleWrites,e);return Ar(s,i.getNode().getImmediateChild(n))}else return null}function Wb(r,t){return Wn(r.visibleWrites,t)}function $b(r,t,n,i,e,o,s){let l;const a=fn(r.visibleWrites,t),u=Wn(a,Oe());if(u!=null)l=u;else if(n!=null)l=Ar(a,n);else return[];if(l=l.withIndex(s),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=s.getCompare(),c=o?l.getReverseIteratorFrom(i,s):l.getIteratorFrom(i,s);let h=c.getNext();for(;h&&d.length<e;)f(h,i)!==0&&d.push(h),h=c.getNext();return d}else return[]}function Vb(){return{visibleWrites:Tt.empty(),allWrites:[],lastWriteId:-1}}function Uo(r,t,n,i){return zd(r.writeTree,r.treePath,t,n,i)}function ol(r,t){return qb(r.writeTree,r.treePath,t)}function Wd(r,t,n,i){return Hb(r.writeTree,r.treePath,t,n,i)}function qo(r,t){return Wb(r.writeTree,We(r.treePath,t))}function Kb(r,t,n,i,e,o){return $b(r.writeTree,r.treePath,t,n,i,e,o)}function sl(r,t,n){return zb(r.writeTree,r.treePath,t,n)}function $d(r,t){return Vd(We(r.treePath,t),r.writeTree)}function Vd(r,t){return{treePath:r,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;ce(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ce(i!==".priority","Only non-priority child changes can be tracked.");const e=this.changeMap.get(i);if(e){const o=e.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,vi(i,t.snapshotNode,e.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,gi(i,e.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Ir(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,vi(i,t.snapshotNode,e.oldSnap));else throw mr("Illegal combination of changes: "+t+" occurred after "+e)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const Kd=new Yb;class al{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sl(this.writes_,t,i)}}getChildAfterChild(t,n,i){const e=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zn(this.viewCache_),o=Kb(this.writes_,e,n,1,i,t);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r){return{filter:r}}function Zb(r,t){ce(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),ce(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function Jb(r,t,n,i,e){const o=new Gb;let s,l;if(n.type===St.OVERWRITE){const u=n;u.source.fromUser?s=ll(r,t,u.path,u.snap,i,e,o):(ce(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!xe(u.path),s=Ho(r,t,u.path,u.snap,i,e,l,o))}else if(n.type===St.MERGE){const u=n;u.source.fromUser?s=e_(r,t,u.path,u.children,i,e,o):(ce(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),s=ul(r,t,u.path,u.children,i,e,l,o))}else if(n.type===St.ACK_USER_WRITE){const u=n;u.revert?s=r_(r,t,u.path,i,e,o):s=t_(r,t,u.path,u.affectedTree,i,e,o)}else if(n.type===St.LISTEN_COMPLETE)s=n_(r,t,n.path,i,o);else throw mr("Unknown operation type: "+n.type);const a=o.getChanges();return Qb(t,s,a),{viewCache:s,changes:a}}function Qb(r,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const e=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Fo(r);(n.length>0||!r.eventCache.isFullyInitialized()||e&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Rd(Fo(t)))}}function Gd(r,t,n,i,e,o){const s=t.eventCache;if(qo(i,n)!=null)return t;{let l,a;if(xe(n))if(ce(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=zn(t),d=u instanceof ve?u:ve.EMPTY_NODE,f=ol(i,d);l=r.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const u=Uo(i,zn(t));l=r.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=we(n);if(u===".priority"){ce(un(n)===1,"Can't have a priority with additional path components");const d=s.getNode();a=t.serverCache.getNode();const f=Wd(i,n,d,a);f!=null?l=r.filter.updatePriority(d,f):l=s.getNode()}else{const d=Le(n);let f;if(s.isCompleteForChild(u)){a=t.serverCache.getNode();const c=Wd(i,n,s.getNode(),a);c!=null?f=s.getNode().getImmediateChild(u).updateChild(d,c):f=s.getNode().getImmediateChild(u)}else f=sl(i,u,t.serverCache);f!=null?l=r.filter.updateChild(s.getNode(),u,f,d,e,o):l=s.getNode()}}return ki(t,l,s.isFullyInitialized()||xe(n),r.filter.filtersNodes())}}function Ho(r,t,n,i,e,o,s,l){const a=t.serverCache;let u;const d=s?r.filter:r.filter.getIndexedFilter();if(xe(n))u=d.updateFullNode(a.getNode(),i,null);else if(d.filtersNodes()&&!a.isFiltered()){const h=a.getNode().updateChild(n,i);u=d.updateFullNode(a.getNode(),h,null)}else{const h=we(n);if(!a.isCompleteForPath(n)&&un(n)>1)return t;const v=Le(n),y=a.getNode().getImmediateChild(h).updateChild(v,i);h===".priority"?u=d.updatePriority(a.getNode(),y):u=d.updateChild(a.getNode(),h,y,v,Kd,null)}const f=Dd(t,u,a.isFullyInitialized()||xe(n),d.filtersNodes()),c=new al(e,f,o);return Gd(r,f,n,e,c,l)}function ll(r,t,n,i,e,o,s){const l=t.eventCache;let a,u;const d=new al(e,t,o);if(xe(n))u=r.filter.updateFullNode(t.eventCache.getNode(),i,s),a=ki(t,u,!0,r.filter.filtersNodes());else{const f=we(n);if(f===".priority")u=r.filter.updatePriority(t.eventCache.getNode(),i),a=ki(t,u,l.isFullyInitialized(),l.isFiltered());else{const c=Le(n),h=l.getNode().getImmediateChild(f);let v;if(xe(c))v=i;else{const m=d.getCompleteChild(f);m!=null?yd(c)===".priority"&&m.getChild(_d(c)).isEmpty()?v=m:v=m.updateChild(c,i):v=ve.EMPTY_NODE}if(h.equals(v))a=t;else{const m=r.filter.updateChild(l.getNode(),f,v,c,d,s);a=ki(t,m,l.isFullyInitialized(),r.filter.filtersNodes())}}}return a}function Yd(r,t){return r.eventCache.isCompleteForChild(t)}function e_(r,t,n,i,e,o,s){let l=t;return i.foreach((a,u)=>{const d=We(n,a);Yd(t,we(d))&&(l=ll(r,l,d,u,e,o,s))}),i.foreach((a,u)=>{const d=We(n,a);Yd(t,we(d))||(l=ll(r,l,d,u,e,o,s))}),l}function Xd(r,t,n){return n.foreach((i,e)=>{t=t.updateChild(i,e)}),t}function ul(r,t,n,i,e,o,s,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;xe(n)?u=i:u=new De(null).setTree(n,i);const d=t.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(d.hasChild(f)){const h=t.serverCache.getNode().getImmediateChild(f),v=Xd(r,h,c);a=Ho(r,a,new Me(f),v,e,o,s,l)}}),u.children.inorderTraversal((f,c)=>{const h=!t.serverCache.isCompleteForChild(f)&&c.value===void 0;if(!d.hasChild(f)&&!h){const v=t.serverCache.getNode().getImmediateChild(f),m=Xd(r,v,c);a=Ho(r,a,new Me(f),m,e,o,s,l)}}),a}function t_(r,t,n,i,e,o,s){if(qo(e,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(i.value!=null){if(xe(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Ho(r,t,n,a.getNode().getChild(n),e,o,l,s);if(xe(n)){let u=new De(null);return a.getNode().forEachChild(Or,(d,f)=>{u=u.set(new Me(d),f)}),ul(r,t,n,u,e,o,l,s)}else return t}else{let u=new De(null);return i.foreach((d,f)=>{const c=We(n,d);a.isCompleteForPath(c)&&(u=u.set(d,a.getNode().getChild(c)))}),ul(r,t,n,u,e,o,l,s)}}function n_(r,t,n,i,e){const o=t.serverCache,s=Dd(t,o.getNode(),o.isFullyInitialized()||xe(n),o.isFiltered());return Gd(r,s,n,i,Kd,e)}function r_(r,t,n,i,e,o){let s;if(qo(i,n)!=null)return t;{const l=new al(i,t,e),a=t.eventCache.getNode();let u;if(xe(n)||we(n)===".priority"){let d;if(t.serverCache.isFullyInitialized())d=Uo(i,zn(t));else{const f=t.serverCache.getNode();ce(f instanceof ve,"serverChildren would be complete if leaf node"),d=ol(i,f)}d=d,u=r.filter.updateFullNode(a,d,o)}else{const d=we(n);let f=sl(i,d,t.serverCache);f==null&&t.serverCache.isCompleteForChild(d)&&(f=a.getImmediateChild(d)),f!=null?u=r.filter.updateChild(a,d,f,Le(n),l,o):t.eventCache.getNode().hasChild(d)?u=r.filter.updateChild(a,d,ve.EMPTY_NODE,Le(n),l,o):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Uo(i,zn(t)),s.isLeafNode()&&(u=r.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||qo(i,Oe())!=null,ki(t,u,s,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,e=new Za(i.getIndex()),o=wb(i);this.processor_=Xb(o);const s=n.serverCache,l=n.eventCache,a=e.updateFullNode(ve.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ve.EMPTY_NODE,l.getNode(),null),d=new cn(a,s.isFullyInitialized(),e.filtersNodes()),f=new cn(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Do(f,d),this.eventGenerator_=new Ab(this.query_)}get query(){return this.query_}}function o_(r){return r.viewCache_.serverCache.getNode()}function s_(r){return Fo(r.viewCache_)}function a_(r,t){const n=zn(r.viewCache_);return n&&(r.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(we(t)).isEmpty())?n.getChild(t):null}function Zd(r){return r.eventRegistrations_.length===0}function l_(r,t){r.eventRegistrations_.push(t)}function Jd(r,t,n){const i=[];if(n){ce(t==null,"A cancel should cancel all event registrations.");const e=r.query._path;r.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,e);s&&i.push(s)})}if(t){let e=[];for(let o=0;o<r.eventRegistrations_.length;++o){const s=r.eventRegistrations_[o];if(!s.matches(t))e.push(s);else if(t.hasAnyCallback()){e=e.concat(r.eventRegistrations_.slice(o+1));break}}r.eventRegistrations_=e}else r.eventRegistrations_=[];return i}function Qd(r,t,n,i){t.type===St.MERGE&&t.source.queryId!==null&&(ce(zn(r.viewCache_),"We should always have a full cache before handling merges"),ce(Fo(r.viewCache_),"Missing event cache, even though we have a server cache"));const e=r.viewCache_,o=Jb(r.processor_,e,t,n,i);return Zb(r.processor_,o.viewCache),ce(o.viewCache.serverCache.isFullyInitialized()||!e.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=o.viewCache,eh(r,o.changes,o.viewCache.eventCache.getNode(),null)}function u_(r,t){const n=r.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(o,s)=>{i.push(Ir(o,s))}),n.isFullyInitialized()&&i.push(Rd(n.getNode())),eh(r,i,n.getNode(),t)}function eh(r,t,n,i){const e=i?[i]:r.eventRegistrations_;return Rb(r.eventGenerator_,t,n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class th{constructor(){this.views=new Map}}function c_(r){ce(!zo,"__referenceConstructor has already been defined"),zo=r}function f_(){return ce(zo,"Reference.ts has not been loaded"),zo}function d_(r){return r.views.size===0}function cl(r,t,n,i){const e=t.source.queryId;if(e!==null){const o=r.views.get(e);return ce(o!=null,"SyncTree gave us an op for an invalid query."),Qd(o,t,n,i)}else{let o=[];for(const s of r.views.values())o=o.concat(Qd(s,t,n,i));return o}}function nh(r,t,n,i,e){const o=t._queryIdentifier,s=r.views.get(o);if(!s){let l=Uo(n,e?i:null),a=!1;l?a=!0:i instanceof ve?(l=ol(n,i),a=!1):(l=ve.EMPTY_NODE,a=!1);const u=Do(new cn(l,a,!1),new cn(i,e,!1));return new i_(t,u)}return s}function h_(r,t,n,i,e,o){const s=nh(r,t,i,e,o);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,s),l_(s,n),u_(s,n)}function p_(r,t,n,i){const e=t._queryIdentifier,o=[];let s=[];const l=hn(r);if(e==="default")for(const[a,u]of r.views.entries())s=s.concat(Jd(u,n,i)),Zd(u)&&(r.views.delete(a),u.query._queryParams.loadsAllData()||o.push(u.query));else{const a=r.views.get(e);a&&(s=s.concat(Jd(a,n,i)),Zd(a)&&(r.views.delete(e),a.query._queryParams.loadsAllData()||o.push(a.query)))}return l&&!hn(r)&&o.push(new(f_())(t._repo,t._path)),{removed:o,events:s}}function rh(r){const t=[];for(const n of r.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function dn(r,t){let n=null;for(const i of r.views.values())n=n||a_(i,t);return n}function ih(r,t){if(t._queryParams.loadsAllData())return Wo(r);{const i=t._queryIdentifier;return r.views.get(i)}}function oh(r,t){return ih(r,t)!=null}function hn(r){return Wo(r)!=null}function Wo(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;function g_(r){ce(!$o,"__referenceConstructor has already been defined"),$o=r}function v_(){return ce($o,"Reference.ts has not been loaded"),$o}let m_=1;class sh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new De(null),this.pendingWriteTree_=Vb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ah(r,t,n,i,e){return Lb(r.pendingWriteTree_,t,n,i,e),e?xi(r,new Hn(Bd(),t,n)):[]}function $n(r,t,n=!1){const i=Bb(r.pendingWriteTree_,t);if(Db(r.pendingWriteTree_,t)){let o=new De(null);return i.snap!=null?o=o.set(Oe(),!0):ct(i.children,s=>{o=o.set(new Me(s),!0)}),xi(r,new Bo(i.path,o,n))}else return[]}function Ei(r,t,n){return xi(r,new Hn(el(),t,n))}function y_(r,t,n){const i=De.fromObject(n);return xi(r,new bi(el(),t,i))}function b_(r,t){return xi(r,new yi(el(),t))}function __(r,t,n){const i=hl(r,n);if(i){const e=pl(i),o=e.path,s=e.queryId,l=st(o,t),a=new yi(tl(s),l);return gl(r,o,a)}else return[]}function fl(r,t,n,i){const e=t._path,o=r.syncPointTree_.get(e);let s=[];if(o&&(t._queryIdentifier==="default"||oh(o,t))){const l=p_(o,t,n,i);d_(o)&&(r.syncPointTree_=r.syncPointTree_.remove(e));const a=l.removed;s=l.events;const u=a.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=r.syncPointTree_.findOnPath(e,(f,c)=>hn(c));if(u&&!d){const f=r.syncPointTree_.subtree(e);if(!f.isEmpty()){const c=x_(f);for(let h=0;h<c.length;++h){const v=c[h],m=v.query,y=fh(r,v);r.listenProvider_.startListening(Si(m),Vo(r,m),y.hashFn,y.onComplete)}}}if(!d&&a.length>0&&!i)if(u){const f=null;r.listenProvider_.stopListening(Si(t),f)}else a.forEach(f=>{const c=r.queryToTagMap.get(Ko(f));r.listenProvider_.stopListening(Si(f),c)});S_(r,a)}return s}function k_(r,t,n,i){const e=hl(r,i);if(e!=null){const o=pl(e),s=o.path,l=o.queryId,a=st(s,t),u=new Hn(tl(l),a,n);return gl(r,s,u)}else return[]}function w_(r,t,n,i){const e=hl(r,i);if(e){const o=pl(e),s=o.path,l=o.queryId,a=st(s,t),u=De.fromObject(n),d=new bi(tl(l),a,u);return gl(r,s,d)}else return[]}function lh(r,t,n){const i=t._path;let e=null,o=!1;r.syncPointTree_.foreachOnPath(i,(f,c)=>{const h=st(f,i);e=e||dn(c,h),o=o||hn(c)});let s=r.syncPointTree_.get(i);s?(o=o||hn(s),e=e||dn(s,Oe())):(s=new th,r.syncPointTree_=r.syncPointTree_.set(i,s));let l;e!=null?l=!0:(l=!1,e=ve.EMPTY_NODE,r.syncPointTree_.subtree(i).foreachChild((c,h)=>{const v=dn(h,Oe());v&&(e=e.updateImmediateChild(c,v))}));const a=oh(s,t);if(!a&&!t._queryParams.loadsAllData()){const f=Ko(t);ce(!r.queryToTagMap.has(f),"View does not exist, but we have a tag");const c=T_();r.queryToTagMap.set(f,c),r.tagToQueryMap.set(c,f)}const u=jo(r.pendingWriteTree_,i);let d=h_(s,t,n,u,e,l);if(!a&&!o){const f=ih(s,t);d=d.concat(O_(r,t,f))}return d}function dl(r,t,n){const i=!0,e=r.pendingWriteTree_,o=r.syncPointTree_.findOnPath(t,(s,l)=>{const a=st(s,t),u=dn(l,a);if(u)return u});return zd(e,t,o,n,i)}function E_(r,t){const n=t._path;let i=null;r.syncPointTree_.foreachOnPath(n,(u,d)=>{const f=st(u,n);i=i||dn(d,f)});let e=r.syncPointTree_.get(n);e?i=i||dn(e,Oe()):(e=new th,r.syncPointTree_=r.syncPointTree_.set(n,e));const o=i!=null,s=o?new cn(i,!0,!1):null,l=jo(r.pendingWriteTree_,t._path),a=nh(e,t,l,o?s.getNode():ve.EMPTY_NODE,o);return s_(a)}function xi(r,t){return uh(t,r.syncPointTree_,null,jo(r.pendingWriteTree_,Oe()))}function uh(r,t,n,i){if(xe(r.path))return ch(r,t,n,i);{const e=t.get(Oe());n==null&&e!=null&&(n=dn(e,Oe()));let o=[];const s=we(r.path),l=r.operationForChild(s),a=t.children.get(s);if(a&&l){const u=n?n.getImmediateChild(s):null,d=$d(i,s);o=o.concat(uh(l,a,u,d))}return e&&(o=o.concat(cl(e,r,i,n))),o}}function ch(r,t,n,i){const e=t.get(Oe());n==null&&e!=null&&(n=dn(e,Oe()));let o=[];return t.children.inorderTraversal((s,l)=>{const a=n?n.getImmediateChild(s):null,u=$d(i,s),d=r.operationForChild(s);d&&(o=o.concat(ch(d,l,a,u)))}),e&&(o=o.concat(cl(e,r,i,n))),o}function fh(r,t){const n=t.query,i=Vo(r,n);return{hashFn:()=>(o_(t)||ve.EMPTY_NODE).hash(),onComplete:e=>{if(e==="ok")return i?__(r,n._path,i):b_(r,n._path);{const o=m1(e,n);return fl(r,n,null,o)}}}}function Vo(r,t){const n=Ko(t);return r.queryToTagMap.get(n)}function Ko(r){return r._path.toString()+"$"+r._queryIdentifier}function hl(r,t){return r.tagToQueryMap.get(t)}function pl(r){const t=r.indexOf("$");return ce(t!==-1&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Me(r.substr(0,t))}}function gl(r,t,n){const i=r.syncPointTree_.get(t);ce(i,"Missing sync point for query tag that we're tracking");const e=jo(r.pendingWriteTree_,t);return cl(i,n,e,null)}function x_(r){return r.fold((t,n,i)=>{if(n&&hn(n))return[Wo(n)];{let e=[];return n&&(e=rh(n)),ct(i,(o,s)=>{e=e.concat(s)}),e}})}function Si(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(v_())(r._repo,r._path):r}function S_(r,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const e=Ko(i),o=r.queryToTagMap.get(e);r.queryToTagMap.delete(e),r.tagToQueryMap.delete(o)}}}function T_(){return m_++}function O_(r,t,n){const i=t._path,e=Vo(r,t),o=fh(r,n),s=r.listenProvider_.startListening(Si(t),e,o.hashFn,o.onComplete),l=r.syncPointTree_.subtree(i);if(e)ce(!hn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,f)=>{if(!xe(u)&&d&&hn(d))return[Wo(d).query];{let c=[];return d&&(c=c.concat(rh(d).map(h=>h.query))),ct(f,(h,v)=>{c=c.concat(v)}),c}});for(let u=0;u<a.length;++u){const d=a[u];r.listenProvider_.stopListening(Si(d),Vo(r,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new vl(n)}node(){return this.node_}}class ml{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=We(this.path_,t);return new ml(this.syncTree_,n)}node(){return dl(this.syncTree_,this.path_)}}const C_=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},dh=function(r,t,n){if(!r||typeof r!="object")return r;if(ce(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return I_(r[".sv"],t,n);if(typeof r[".sv"]=="object")return A_(r[".sv"],t);ce(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},I_=function(r,t,n){switch(r){case"timestamp":return n.timestamp;default:ce(!1,"Unexpected server value: "+r)}},A_=function(r,t,n){r.hasOwnProperty("increment")||ce(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const i=r.increment;typeof i!="number"&&ce(!1,"Unexpected increment value: "+i);const e=t.node();if(ce(e!==null&&typeof e!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!e.isLeafNode())return i;const s=e.getValue();return typeof s!="number"?i:s+i},R_=function(r,t,n,i){return yl(t,new ml(n,r),i)},hh=function(r,t,n){return yl(r,new vl(t),n)};function yl(r,t,n){const i=r.getPriority().val(),e=dh(i,t.getImmediateChild(".priority"),n);let o;if(r.isLeafNode()){const s=r,l=dh(s.getValue(),t,n);return l!==s.getValue()||e!==s.getPriority().val()?new Ve(l,Ke(e)):r}else{const s=r;return o=s,e!==s.getPriority().val()&&(o=o.updatePriority(new Ve(e))),s.forEachChild(Ue,(l,a)=>{const u=yl(a,t.getImmediateChild(l),n);u!==a&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function _l(r,t){let n=t instanceof Me?t:new Me(t),i=r,e=we(n);for(;e!==null;){const o=yr(i.node.children,e)||{children:{},childCount:0};i=new bl(e,i,o),n=Le(n),e=we(n)}return i}function Rr(r){return r.node.value}function ph(r,t){r.node.value=t,kl(r)}function gh(r){return r.node.childCount>0}function N_(r){return Rr(r)===void 0&&!gh(r)}function Go(r,t){ct(r.node.children,(n,i)=>{t(new bl(n,r,i))})}function vh(r,t,n,i){n&&!i&&t(r),Go(r,e=>{vh(e,t,!0,i)}),n&&i&&t(r)}function P_(r,t,n){let i=n?r:r.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Ti(r){return new Me(r.parent===null?r.name:Ti(r.parent)+"/"+r.name)}function kl(r){r.parent!==null&&M_(r.parent,r.name,r)}function M_(r,t,n){const i=N_(n),e=$t(r.node.children,t);i&&e?(delete r.node.children[t],r.node.childCount--,kl(r)):!i&&!e&&(r.node.children[t]=n.node,r.node.childCount++,kl(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=/[\[\].#$\/\u0000-\u001F\u007F]/,B_=/[\[\].#$\u0000-\u001F\u007F]/,wl=10*1024*1024,mh=function(r){return typeof r=="string"&&r.length!==0&&!L_.test(r)},yh=function(r){return typeof r=="string"&&r.length!==0&&!B_.test(r)},D_=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),yh(r)},bh=function(r,t,n,i){i&&t===void 0||El(Ca(r,"value"),t,n)},El=function(r,t,n){const i=n instanceof Me?new J1(n,r):n;if(t===void 0)throw new Error(r+"contains undefined "+qn(i));if(typeof t=="function")throw new Error(r+"contains a function "+qn(i)+" with contents = "+t.toString());if(zf(t))throw new Error(r+"contains "+t.toString()+" "+qn(i));if(typeof t=="string"&&t.length>wl/3&&xo(t)>wl)throw new Error(r+"contains a string greater than "+wl+" utf8 bytes "+qn(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let e=!1,o=!1;if(ct(t,(s,l)=>{if(s===".value")e=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!mh(s)))throw new Error(r+" contains an invalid key ("+s+") "+qn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Q1(i,s),El(r,l,i),eb(i)}),e&&o)throw new Error(r+' contains ".value" child '+qn(i)+" in addition to actual children.")}},_h=function(r,t,n,i){if(!(i&&n===void 0)&&!yh(n))throw new Error(Ca(r,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F_=function(r,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_h(r,t,n,i)},kh=function(r,t){if(we(t)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},j_=function(r,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!mh(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!D_(n))throw new Error(Ca(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xl(r,t){let n=null;for(let i=0;i<t.length;i++){const e=t[i],o=e.getPath();n!==null&&!Va(o,n.path)&&(r.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(e)}n&&r.eventLists_.push(n)}function Sl(r,t,n){xl(r,n),wh(r,i=>Va(i,t))}function Gt(r,t,n){xl(r,n),wh(r,i=>xt(i,t)||xt(t,i))}function wh(r,t){r.recursionDepth_++;let n=!0;for(let i=0;i<r.eventLists_.length;i++){const e=r.eventLists_[i];if(e){const o=e.path;t(o)?(q_(r.eventLists_[i]),r.eventLists_[i]=null):n=!1}}n&&(r.eventLists_=[]),r.recursionDepth_--}function q_(r){for(let t=0;t<r.events.length;t++){const n=r.events[t];if(n!==null){r.events[t]=null;const i=n.getEventRunner();Fn&&tt("event: "+n.toString()),Sr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="repo_interrupt",z_=25;class W_{constructor(t,n,i,e){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=e,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new U_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lo(),this.transactionQueueTree_=new bl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $_(r,t,n){if(r.stats_=Ha(r.repoInfo_),r.forceRestClient_||k1())r.server_=new Mo(r.repoInfo_,(i,e,o,s)=>{xh(r,i,e,o,s)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>Sh(r,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}r.persistentConnection_=new Vt(r.repoInfo_,t,(i,e,o,s)=>{xh(r,i,e,o,s)},i=>{Sh(r,i)},i=>{V_(r,i)},r.authTokenProvider_,r.appCheckProvider_,n),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(i=>{r.server_.refreshAuthToken(i)}),r.appCheckProvider_.addTokenChangeListener(i=>{r.server_.refreshAppCheckToken(i.token)}),r.statsReporter_=C1(r.repoInfo_,()=>new Ib(r.stats_,r.server_)),r.infoData_=new xb,r.infoSyncTree_=new sh({startListening:(i,e,o,s)=>{let l=[];const a=r.infoData_.getNode(i._path);return a.isEmpty()||(l=Ei(r.infoSyncTree_,i._path,a),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),Ol(r,"connected",!1),r.serverSyncTree_=new sh({startListening:(i,e,o,s)=>(r.server_.listen(i,o,e,(l,a)=>{const u=s(l,a);Gt(r.eventQueue_,i._path,u)}),[]),stopListening:(i,e)=>{r.server_.unlisten(i,e)}})}function Eh(r){const n=r.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tl(r){return C_({timestamp:Eh(r)})}function xh(r,t,n,i,e){r.dataUpdateCount++;const o=new Me(t);n=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,n):n;let s=[];if(e)if(i){const a=wo(n,u=>Ke(u));s=w_(r.serverSyncTree_,o,a,e)}else{const a=Ke(n);s=k_(r.serverSyncTree_,o,a,e)}else if(i){const a=wo(n,u=>Ke(u));s=y_(r.serverSyncTree_,o,a)}else{const a=Ke(n);s=Ei(r.serverSyncTree_,o,a)}let l=o;s.length>0&&(l=Xo(r,o)),Gt(r.eventQueue_,l,s)}function Sh(r,t){Ol(r,"connected",t),t===!1&&Y_(r)}function V_(r,t){ct(t,(n,i)=>{Ol(r,n,i)})}function Ol(r,t,n){const i=new Me("/.info/"+t),e=Ke(n);r.infoData_.updateSnapshot(i,e);const o=Ei(r.infoSyncTree_,i,e);Gt(r.eventQueue_,i,o)}function Th(r){return r.nextWriteId_++}function K_(r,t){const n=E_(r.serverSyncTree_,t);return n!=null?Promise.resolve(n):r.server_.get(t).then(i=>{const e=Ke(i).withIndex(t._queryParams.getIndex()),o=Ei(r.serverSyncTree_,t._path,e);return Sl(r.eventQueue_,t._path,o),Promise.resolve(e)},i=>(Yo(r,"get for query "+ze(t)+" failed: "+i),Promise.reject(new Error(i))))}function G_(r,t,n,i,e){Yo(r,"set",{path:t.toString(),value:n,priority:i});const o=Tl(r),s=Ke(n,i),l=dl(r.serverSyncTree_,t),a=hh(s,l,o),u=Th(r),d=ah(r.serverSyncTree_,t,a,u,!0);xl(r.eventQueue_,d),r.server_.put(t.toString(),s.val(!0),(c,h)=>{const v=c==="ok";v||ut("set at "+t+" failed: "+c);const m=$n(r.serverSyncTree_,u,!v);Gt(r.eventQueue_,t,m),J_(r,e,c,h)});const f=Nh(r,t);Xo(r,f),Gt(r.eventQueue_,f,[])}function Y_(r){Yo(r,"onDisconnectEvents");const t=Tl(r),n=Lo();Qa(r.onDisconnect_,Oe(),(e,o)=>{const s=R_(e,o,r.serverSyncTree_,t);Md(n,e,s)});let i=[];Qa(n,Oe(),(e,o)=>{i=i.concat(Ei(r.serverSyncTree_,e,o));const s=Nh(r,e);Xo(r,s)}),r.onDisconnect_=Lo(),Gt(r.eventQueue_,Oe(),i)}function X_(r,t,n){let i;we(t._path)===".info"?i=lh(r.infoSyncTree_,t,n):i=lh(r.serverSyncTree_,t,n),Sl(r.eventQueue_,t._path,i)}function Oh(r,t,n){let i;we(t._path)===".info"?i=fl(r.infoSyncTree_,t,n):i=fl(r.serverSyncTree_,t,n),Sl(r.eventQueue_,t._path,i)}function Z_(r){r.persistentConnection_&&r.persistentConnection_.interrupt(H_)}function Yo(r,...t){let n="";r.persistentConnection_&&(n=r.persistentConnection_.id+":"),tt(n,...t)}function J_(r,t,n,i){t&&Sr(()=>{if(n==="ok")t(null);else{const e=(n||"error").toUpperCase();let o=e;i&&(o+=": "+i);const s=new Error(o);s.code=e,t(s)}})}function Ch(r,t,n){return dl(r.serverSyncTree_,t,n)||ve.EMPTY_NODE}function Cl(r,t=r.transactionQueueTree_){if(t||Zo(r,t),Rr(t)){const n=Ah(r,t);ce(n.length>0,"Sending zero length transaction queue"),n.every(e=>e.status===0)&&Q_(r,Ti(t),n)}else gh(t)&&Go(t,n=>{Cl(r,n)})}function Q_(r,t,n){const i=n.map(u=>u.currentWriteId),e=Ch(r,t,i);let o=e;const s=e.hash();for(let u=0;u<n.length;u++){const d=n[u];ce(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=st(t,d.path);o=o.updateChild(f,d.currentOutputSnapshotRaw)}const l=o.val(!0),a=t;r.server_.put(a.toString(),l,u=>{Yo(r,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,d=d.concat($n(r.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();Zo(r,_l(r.transactionQueueTree_,t)),Cl(r,r.transactionQueueTree_),Gt(r.eventQueue_,t,d);for(let c=0;c<f.length;c++)Sr(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ut("transaction at "+a.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Xo(r,t)}},s)}function Xo(r,t){const n=Ih(r,t),i=Ti(n),e=Ah(r,n);return ek(r,e,i),i}function ek(r,t,n){if(t.length===0)return;const i=[];let e=[];const s=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=st(n,a.path);let d=!1,f;if(ce(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,f=a.abortReason,e=e.concat($n(r.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=z_)d=!0,f="maxretry",e=e.concat($n(r.serverSyncTree_,a.currentWriteId,!0));else{const c=Ch(r,a.path,s);a.currentInputSnapshot=c;const h=t[l].update(c.val());if(h!==void 0){El("transaction failed: Data returned ",h,a.path);let v=Ke(h);typeof h=="object"&&h!=null&&$t(h,".priority")||(v=v.updatePriority(c.getPriority()));const y=a.currentWriteId,p=Tl(r),g=hh(v,c,p);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=g,a.currentWriteId=Th(r),s.splice(s.indexOf(y),1),e=e.concat(ah(r.serverSyncTree_,a.path,g,a.currentWriteId,a.applyLocally)),e=e.concat($n(r.serverSyncTree_,y,!0))}else d=!0,f="nodata",e=e.concat($n(r.serverSyncTree_,a.currentWriteId,!0))}Gt(r.eventQueue_,n,e),e=[],d&&(t[l].status=2,function(c){setTimeout(c,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(f==="nodata"?i.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):i.push(()=>t[l].onComplete(new Error(f),!1,null))))}Zo(r,r.transactionQueueTree_);for(let l=0;l<i.length;l++)Sr(i[l]);Cl(r,r.transactionQueueTree_)}function Ih(r,t){let n,i=r.transactionQueueTree_;for(n=we(t);n!==null&&Rr(i)===void 0;)i=_l(i,n),t=Le(t),n=we(t);return i}function Ah(r,t){const n=[];return Rh(r,t,n),n.sort((i,e)=>i.order-e.order),n}function Rh(r,t,n){const i=Rr(t);if(i)for(let e=0;e<i.length;e++)n.push(i[e]);Go(t,e=>{Rh(r,e,n)})}function Zo(r,t){const n=Rr(t);if(n){let i=0;for(let e=0;e<n.length;e++)n[e].status!==2&&(n[i]=n[e],i++);n.length=i,ph(t,n.length>0?n:void 0)}Go(t,i=>{Zo(r,i)})}function Nh(r,t){const n=Ti(Ih(r,t)),i=_l(r.transactionQueueTree_,t);return P_(i,e=>{Il(r,e)}),Il(r,i),vh(i,e=>{Il(r,e)}),n}function Il(r,t){const n=Rr(t);if(n){const i=[];let e=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(ce(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ce(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),e=e.concat($n(r.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ph(t,void 0):n.length=o+1,Gt(r.eventQueue_,Ti(t),e);for(let s=0;s<i.length;s++)Sr(i[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(r){let t="";const n=r.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch{}t+="/"+e}return t}function nk(r){const t={};r.charAt(0)==="?"&&(r=r.substring(1));for(const n of r.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ut(`Invalid query segment '${n}' in query '${r}'`)}return t}const Ph=function(r,t){const n=rk(r),i=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||d1();const e=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new S1(n.host,n.secure,i,t,e,"",i!==n.subdomain),path:new Me(n.pathString)}},rk=function(r){let t="",n="",i="",e="",o="",s=!0,l="https",a=443;if(typeof r=="string"){let u=r.indexOf("//");u>=0&&(l=r.substring(0,u-1),r=r.substring(u+2));let d=r.indexOf("/");d===-1&&(d=r.length);let f=r.indexOf("?");f===-1&&(f=r.length),t=r.substring(0,Math.min(d,f)),d<f&&(e=tk(r.substring(d,f)));const c=nk(r.substring(Math.min(r.length,f)));u=t.indexOf(":"),u>=0?(s=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const h=t.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=t.indexOf(".");i=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=i}"ns"in c&&(o=c.ns)}return{host:t,port:a,domain:n,subdomain:i,secure:s,scheme:l,pathString:e,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n,i,e){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=e}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class Lh{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ce(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,n,i,e){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=e}get key(){return xe(this._path)?null:yd(this._path)}get ref(){return new Nt(this._repo,this._path)}get _queryIdentifier(){const t=Pd(this._queryParams),n=Ba(t);return n==="{}"?"default":n}get _queryObject(){return Pd(this._queryParams)}isEqual(t){if(t=et(t),!(t instanceof Jo))return!1;const n=this._repo===t._repo,i=Va(this._path,t._path),e=this._queryIdentifier===t._queryIdentifier;return n&&i&&e}toJSON(){return this.toString()}toString(){return this._repo.toString()+Z1(this._path)}}class Nt extends Jo{constructor(t,n){super(t,n,new Ja,!1)}get parent(){const t=_d(this._path);return t===null?null:new Nt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Nr{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Me(t),i=Pr(this.ref,t);return new Nr(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,e)=>t(new Nr(e,Pr(this.ref,i),Ue)))}hasChild(t){const n=new Me(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lx(r,t){return r=et(r),r._checkNotDeleted("ref"),t!==void 0?Pr(r._root,t):r._root}function Pr(r,t){return r=et(r),we(r._path)===null?F_("child","path",t,!1):_h("child","path",t,!1),new Nt(r._repo,We(r._path,t))}function Bx(r,t){r=et(r),kh("push",r._path),bh("push",t,r._path,!0);const n=Eh(r._repo),i=bb(n),e=Pr(r,i),o=Pr(r,i);let s;return t!=null?s=ok(o,t).then(()=>o):s=Promise.resolve(o),e.then=s.then.bind(s),e.catch=s.then.bind(s,void 0),e}function ok(r,t){r=et(r),kh("set",r._path),bh("set",t,r._path,!1);const n=new ko;return G_(r._repo,r._path,t,null,n.wrapCallback(()=>{})),n.promise}function Dx(r){return r=et(r),K_(r._repo,r).then(t=>new Nr(t,new Nt(r._repo,r._path),r._queryParams.getIndex()))}class Al{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const i=n._queryParams.getIndex();return new Mh("value",this,new Nr(t.snapshotNode,new Nt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Lh(this,t,n):null}matches(t){return t instanceof Al?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Rl{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Lh(this,t,n):null}createEvent(t,n){ce(t.childName!=null,"Child events should have a childName.");const i=Pr(new Nt(n._repo,n._path),t.childName),e=n._queryParams.getIndex();return new Mh(t.type,this,new Nr(t.snapshotNode,i,e),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Rl?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function sk(r,t,n,i,e){let o;if(typeof i=="object"&&(o=void 0,e=i),typeof i=="function"&&(o=i),e&&e.onlyOnce){const a=n,u=(d,f)=>{Oh(r._repo,r,l),a(d,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new ik(n,o||void 0),l=t==="value"?new Al(s):new Rl(t,s);return X_(r._repo,r,l),()=>Oh(r._repo,r,l)}function Fx(r,t,n,i){return sk(r,"value",t,n,i)}class ak{}class lk extends ak{constructor(t){super();this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Jo(t._repo,t._path,Eb(t._queryParams,this._limit),t._orderByCalled)}}function jx(r){if(typeof r!="number"||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lk(r)}function Ux(r,...t){let n=et(r);for(const i of t)n=i._apply(n);return n}c_(Nt);g_(Nt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="FIREBASE_DATABASE_EMULATOR_HOST",Nl={};let ck=!1;function fk(r,t,n,i,e){let o=i||r.options.databaseURL;o===void 0&&(r.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tt("Using default host for project ",r.options.projectId),o=`${r.options.projectId}-default-rtdb.firebaseio.com`);let s=Ph(o,e),l=s.repoInfo,a,u;typeof process!="undefined"&&(u=process.env[uk]),u?(a=!0,o=`http://${u}?ns=${l.namespace}`,s=Ph(o,e),l=s.repoInfo):a=!s.repoInfo.secure;const d=e&&a?new Da(Da.OWNER):new E1(r.name,r.options,t);j_("Invalid Firebase Database URL",s),xe(s.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=hk(l,r,d,new w1(r.name,n));return new pk(f,r)}function dk(r,t){const n=Nl[t];(!n||n[r.key]!==r)&&jn(`Database ${t}(${r.repoInfo_}) has already been deleted.`),Z_(r),delete n[r.key]}function hk(r,t,n,i){let e=Nl[t.name];e||(e={},Nl[t.name]=e);let o=e[r.toURLString()];return o&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new W_(r,ck,n,i),e[r.toURLString()]=o,o}class pk{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nt(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&jn("Cannot call "+t+" on a deleted database.")}}function qx(r=Pa(),t){return To(r,"database").getImmediate({identifier:t})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(r){a1(kr),_r(new Ln("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),e=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return fk(i,e,o,n)},"PUBLIC").setMultipleInstances(!0)),Rt(Df,Ff,r),Rt(Df,Ff,"esm2017")}Vt.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)};Vt.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)};gk();var vk=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Oi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bh={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,t){(function(i,e){r.exports=e()})(typeof self!="undefined"?self:vk,function(){return function(n){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=n,e.c=i,e.d=function(o,s,l){e.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="",e(e.s=109)}([function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(17),s=e(18),l=e(19),a=e(45),u=e(46),d=e(47),f=e(48),c=e(49),h=e(12),v=e(32),m=e(33),y=e(31),p=e(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:o.default,Format:s.default,Leaf:l.default,Embed:f.default,Scroll:a.default,Block:d.default,Inline:u.default,Text:c.default,Attributor:{Attribute:h.default,Class:v.default,Style:m.default,Store:y.default}};i.default=g},function(n,i,e){var o=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var _ in g)g.hasOwnProperty(_)&&(p[_]=g[_])};return function(p,g){y(p,g);function _(){this.constructor=p}p.prototype=g===null?Object.create(g):(_.prototype=g.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=function(y){o(p,y);function p(g){var _=this;return g="[Parchment] "+g,_=y.call(this,g)||this,_.message=g,_.name=_.constructor.name,_}return p}(Error);i.ParchmentError=s;var l={},a={},u={},d={};i.DATA_KEY="__blot";var f;(function(y){y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY"})(f=i.Scope||(i.Scope={}));function c(y,p){var g=v(y);if(g==null)throw new s("Unable to create "+y+" blot");var _=g,b=y instanceof Node||y.nodeType===Node.TEXT_NODE?y:_.create(p);return new _(b,p)}i.create=c;function h(y,p){return p===void 0&&(p=!1),y==null?null:y[i.DATA_KEY]!=null?y[i.DATA_KEY].blot:p?h(y.parentNode,p):null}i.find=h;function v(y,p){p===void 0&&(p=f.ANY);var g;if(typeof y=="string")g=d[y]||l[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)g=d.text;else if(typeof y=="number")y&f.LEVEL&f.BLOCK?g=d.block:y&f.LEVEL&f.INLINE&&(g=d.inline);else if(y instanceof HTMLElement){var _=(y.getAttribute("class")||"").split(/\s+/);for(var b in _)if(g=a[_[b]],g)break;g=g||u[y.tagName]}return g==null?null:p&f.LEVEL&g.scope&&p&f.TYPE&g.scope?g:null}i.query=v;function m(){for(var y=[],p=0;p<arguments.length;p++)y[p]=arguments[p];if(y.length>1)return y.map(function(b){return m(b)});var g=y[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(d[g.blotName||g.attrName]=g,typeof g.keyName=="string")l[g.keyName]=g;else if(g.className!=null&&(a[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(b){return b.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var _=Array.isArray(g.tagName)?g.tagName:[g.tagName];_.forEach(function(b){(u[b]==null||g.className==null)&&(u[b]=g)})}return g}i.register=m},function(n,i,e){var o=e(51),s=e(11),l=e(3),a=e(20),u=String.fromCharCode(0),d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,c){var h={};return f.length===0?this:(h.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,c){if(f<=0)return this;var h={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h)},d.prototype.push=function(f){var c=this.ops.length,h=this.ops[c-1];if(f=l(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[c-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(c-=1,h=this.ops[c-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[c-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[c-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var c=[],h=[];return this.forEach(function(v){var m=f(v)?c:h;m.push(v)}),[c,h]},d.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},d.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+a.length(c):c.delete?f-c.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,c){return f+a.length(c)},0)},d.prototype.slice=function(f,c){f=f||0,typeof c!="number"&&(c=1/0);for(var h=[],v=a.iterator(this.ops),m=0;m<c&&v.hasNext();){var y;m<f?y=v.next(f-m):(y=v.next(c-m),h.push(y)),m+=a.length(y)}return new d(h)},d.prototype.compose=function(f){var c=a.iterator(this.ops),h=a.iterator(f.ops),v=[],m=h.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var y=m.retain;c.peekType()==="insert"&&c.peekLength()<=y;)y-=c.peekLength(),v.push(c.next());m.retain-y>0&&h.next(m.retain-y)}for(var p=new d(v);c.hasNext()||h.hasNext();)if(h.peekType()==="insert")p.push(h.next());else if(c.peekType()==="delete")p.push(c.next());else{var g=Math.min(c.peekLength(),h.peekLength()),_=c.next(g),b=h.next(g);if(typeof b.retain=="number"){var k={};typeof _.retain=="number"?k.retain=g:k.insert=_.insert;var w=a.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(w&&(k.attributes=w),p.push(k),!h.hasNext()&&s(p.ops[p.ops.length-1],k)){var S=new d(c.rest());return p.concat(S).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&p.push(b)}return p.chop()},d.prototype.concat=function(f){var c=new d(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},d.prototype.diff=function(f,c){if(this.ops===f.ops)return new d;var h=[this,f].map(function(g){return g.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var b=g===f?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),v=new d,m=o(h[0],h[1],c),y=a.iterator(this.ops),p=a.iterator(f.ops);return m.forEach(function(g){for(var _=g[1].length;_>0;){var b=0;switch(g[0]){case o.INSERT:b=Math.min(p.peekLength(),_),v.push(p.next(b));break;case o.DELETE:b=Math.min(_,y.peekLength()),y.next(b),v.delete(b);break;case o.EQUAL:b=Math.min(y.peekLength(),p.peekLength(),_);var k=y.next(b),w=p.next(b);s(k.insert,w.insert)?v.retain(b,a.attributes.diff(k.attributes,w.attributes)):v.push(w).delete(b);break}_-=b}}),v.chop()},d.prototype.eachLine=function(f,c){c=c||`
`;for(var h=a.iterator(this.ops),v=new d,m=0;h.hasNext();){if(h.peekType()!=="insert")return;var y=h.peek(),p=a.length(y)-h.peekLength(),g=typeof y.insert=="string"?y.insert.indexOf(c,p)-p:-1;if(g<0)v.push(h.next());else if(g>0)v.push(h.next(g));else{if(f(v,h.next(1).attributes||{},m)===!1)return;m+=1,v=new d}}v.length()>0&&f(v,{},m)},d.prototype.transform=function(f,c){if(c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var h=a.iterator(this.ops),v=a.iterator(f.ops),m=new d;h.hasNext()||v.hasNext();)if(h.peekType()==="insert"&&(c||v.peekType()!=="insert"))m.retain(a.length(h.next()));else if(v.peekType()==="insert")m.push(v.next());else{var y=Math.min(h.peekLength(),v.peekLength()),p=h.next(y),g=v.next(y);if(p.delete)continue;g.delete?m.push(g):m.retain(y,a.attributes.transform(p.attributes,g.attributes,c))}return m.chop()},d.prototype.transformPosition=function(f,c){c=!!c;for(var h=a.iterator(this.ops),v=0;h.hasNext()&&v<=f;){var m=h.peekLength(),y=h.peekType();if(h.next(),y==="delete"){f-=Math.min(m,f-v);continue}else y==="insert"&&(v<f||!c)&&(f+=m);v+=m}return f},n.exports=d},function(n,i){var e=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var v=e.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&e.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!v&&!m)return!1;var y;for(y in h);return typeof y=="undefined"||e.call(h,y)},d=function(h,v){s&&v.name==="__proto__"?s(h,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):h[v.name]=v.newValue},f=function(h,v){if(v==="__proto__")if(e.call(h,v)){if(l)return l(h,v).value}else return;return h[v]};n.exports=function c(){var h,v,m,y,p,g,_=arguments[0],b=1,k=arguments.length,w=!1;for(typeof _=="boolean"&&(w=_,_=arguments[1]||{},b=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});b<k;++b)if(h=arguments[b],h!=null)for(v in h)m=f(_,v),y=f(h,v),_!==y&&(w&&y&&(u(y)||(p=a(y)))?(p?(p=!1,g=m&&a(m)?m:[]):g=m&&u(m)?m:{},d(_,{name:v,newValue:c(w,g,y)})):typeof y!="undefined"&&d(_,{name:v,newValue:y}));return _}},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var o=function(){function x(E,C){for(var N=0;N<C.length;N++){var R=C[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,C,N){return C&&x(E.prototype,C),N&&x(E,N),E}}(),s=function x(E,C,N){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,C);if(R===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:x(I,C,N)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(N)}},l=e(3),a=_(l),u=e(2),d=_(u),f=e(0),c=_(f),h=e(16),v=_(h),m=e(6),y=_(m),p=e(7),g=_(p);function _(x){return x&&x.__esModule?x:{default:x}}function b(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function k(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function w(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var S=1,O=function(x){w(E,x);function E(){return b(this,E),k(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"attach",value:function(){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,R){var I=c.default.query(N,c.default.Scope.BLOCK_ATTRIBUTE);I!=null&&this.attributes.attribute(I,R)}},{key:"formatAt",value:function(N,R,I,L){this.format(I,L)}},{key:"insertAt",value:function(N,R,I){if(typeof R=="string"&&R.endsWith(`
`)){var L=c.default.create(A.blotName);this.parent.insertBefore(L,N===0?this:this.next),L.insertAt(0,R.slice(0,-1))}else s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,N,R,I)}}]),E}(c.default.Embed);O.scope=c.default.Scope.BLOCK_BLOT;var A=function(x){w(E,x);function E(C){b(this,E);var N=k(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C));return N.cache={},N}return o(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(N,R){return R.length()===0?N:N.insert(R.value(),T(R))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(N,R){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,N,R),this.cache={}}},{key:"formatAt",value:function(N,R,I,L){R<=0||(c.default.query(I,c.default.Scope.BLOCK)?N+R===this.length()&&this.format(I,L):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,N,Math.min(R,this.length()-N-1),I,L),this.cache={})}},{key:"insertAt",value:function(N,R,I){if(I!=null)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,N,R,I);if(R.length!==0){var L=R.split(`
`),P=L.shift();P.length>0&&(N<this.length()-1||this.children.tail==null?s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),P):this.children.tail.insertAt(this.children.tail.length(),P),this.cache={});var D=this;L.reduce(function(U,M){return D=D.split(U,!0),D.insertAt(0,M),M.length},N+P.length)}}},{key:"insertBefore",value:function(N,R){var I=this.children.head;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,N,R),I instanceof v.default&&I.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(N,R){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,N,R),this.cache={}}},{key:"optimize",value:function(N){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(N===0||N>=this.length()-S)){var I=this.clone();return N===0?(this.parent.insertBefore(I,this),this):(this.parent.insertBefore(I,this.next),I)}else{var L=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,N,R);return this.cache={},L}}}]),E}(c.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[y.default,c.default.Embed,g.default];function T(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x==null||(typeof x.formats=="function"&&(E=(0,a.default)(E,x.formats())),x.parent==null||x.parent.blotName=="scroll"||x.parent.statics.scope!==x.statics.scope)?E:T(x.parent,E)}i.bubbleFormats=T,i.BlockEmbed=O,i.default=A},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(U,M){var B=[],q=!0,z=!1,j=void 0;try{for(var F=U[Symbol.iterator](),H;!(q=(H=F.next()).done)&&(B.push(H.value),!(M&&B.length===M));q=!0);}catch(W){z=!0,j=W}finally{try{!q&&F.return&&F.return()}finally{if(z)throw j}}return B}return function(U,M){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return D(U,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(U,M){for(var B=0;B<M.length;B++){var q=M[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}return function(U,M,B){return M&&D(U.prototype,M),B&&D(U,B),U}}();e(50);var a=e(2),u=T(a),d=e(14),f=T(d),c=e(8),h=T(c),v=e(9),m=T(v),y=e(0),p=T(y),g=e(15),_=T(g),b=e(3),k=T(b),w=e(10),S=T(w),O=e(34),A=T(O);function T(D){return D&&D.__esModule?D:{default:D}}function x(D,U,M){return U in D?Object.defineProperty(D,U,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[U]=M,D}function E(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),N=function(){l(D,null,[{key:"debug",value:function(M){M===!0&&(M="log"),S.default.level(M)}},{key:"find",value:function(M){return M.__quill||p.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&C.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,B){var q=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var j=M.attrName||M.blotName;typeof j=="string"?this.register("formats/"+j,M,B):Object.keys(M).forEach(function(F){q.register(F,M[F],B)})}else this.imports[M]!=null&&!z&&C.warn("Overwriting "+M+" with",B),this.imports[M]=B,(M.startsWith("blots/")||M.startsWith("formats/"))&&B.blotName!=="abstract"?p.default.register(B):M.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function D(U){var M=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,D),this.options=R(U,B),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",U);this.options.debug&&D.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(j){j===h.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(j,F){var H=M.selection.lastRange,W=H&&H.length===0?H.index:void 0;I.call(M,function(){return M.editor.update(null,F,W)},j)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(D,[{key:"addContainer",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var q=M;M=document.createElement("div"),M.classList.add(q)}return this.container.insertBefore(M,B),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,B,q){var z=this,j=L(M,B,q),F=s(j,4);return M=F[0],B=F[1],q=F[3],I.call(this,function(){return z.editor.deleteText(M,B)},q,M,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,B){var q=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return I.call(this,function(){var j=q.getSelection(!0),F=new u.default;if(j==null)return F;if(p.default.query(M,p.default.Scope.BLOCK))F=q.editor.formatLine(j.index,j.length,x({},M,B));else{if(j.length===0)return q.selection.format(M,B),F;F=q.editor.formatText(j.index,j.length,x({},M,B))}return q.setSelection(j,h.default.sources.SILENT),F},z)}},{key:"formatLine",value:function(M,B,q,z,j){var F=this,H=void 0,W=L(M,B,q,z,j),V=s(W,4);return M=V[0],B=V[1],H=V[2],j=V[3],I.call(this,function(){return F.editor.formatLine(M,B,H)},j,M,0)}},{key:"formatText",value:function(M,B,q,z,j){var F=this,H=void 0,W=L(M,B,q,z,j),V=s(W,4);return M=V[0],B=V[1],H=V[2],j=V[3],I.call(this,function(){return F.editor.formatText(M,B,H)},j,M,0)}},{key:"getBounds",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof M=="number"?q=this.selection.getBounds(M,B):q=this.selection.getBounds(M.index,M.length);var z=this.container.getBoundingClientRect();return{bottom:q.bottom-z.top,height:q.height,left:q.left-z.left,right:q.right-z.left,top:q.top-z.top,width:q.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,q=L(M,B),z=s(q,2);return M=z[0],B=z[1],this.editor.getContents(M,B)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,B):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,B)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,q=L(M,B),z=s(q,2);return M=z[0],B=z[1],this.editor.getText(M,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,B,q){var z=this,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return I.call(this,function(){return z.editor.insertEmbed(M,B,q)},j,M)}},{key:"insertText",value:function(M,B,q,z,j){var F=this,H=void 0,W=L(M,0,q,z,j),V=s(W,4);return M=V[0],H=V[2],j=V[3],I.call(this,function(){return F.editor.insertText(M,B,H)},j,M,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,B,q){this.clipboard.dangerouslyPasteHTML(M,B,q)}},{key:"removeFormat",value:function(M,B,q){var z=this,j=L(M,B,q),F=s(j,4);return M=F[0],B=F[1],q=F[3],I.call(this,function(){return z.editor.removeFormat(M,B)},q,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var B=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return I.call(this,function(){M=new u.default(M);var z=B.getLength(),j=B.editor.deleteText(0,z),F=B.editor.applyDelta(M),H=F.ops[F.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),F.delete(1));var W=j.compose(F);return W},q)}},{key:"setSelection",value:function(M,B,q){if(M==null)this.selection.setRange(null,B||D.sources.API);else{var z=L(M,B,q),j=s(z,4);M=j[0],B=j[1],q=j[3],this.selection.setRange(new g.Range(M,B),q),q!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,q=new u.default().insert(M);return this.setContents(q,B)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,B=this.scroll.update(M);return this.selection.update(M),B}},{key:"updateContents",value:function(M){var B=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return I.call(this,function(){return M=new u.default(M),B.editor.applyDelta(M,q)},q,!0)}}]),D}();N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=h.default.events,N.sources=h.default.sources,N.version="1.3.7",N.imports={delta:u.default,parchment:p.default,"core/module":m.default,"core/theme":A.default};function R(D,U){if(U=(0,k.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},U),!U.theme||U.theme===N.DEFAULTS.theme)U.theme=A.default;else if(U.theme=N.import("themes/"+U.theme),U.theme==null)throw new Error("Invalid theme "+U.theme+". Did you register it?");var M=(0,k.default)(!0,{},U.theme.DEFAULTS);[M,U].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(j){z.modules[j]===!0&&(z.modules[j]={})})});var B=Object.keys(M.modules).concat(Object.keys(U.modules)),q=B.reduce(function(z,j){var F=N.import("modules/"+j);return F==null?C.error("Cannot load "+j+" module. Are you sure you registered it?"):z[j]=F.DEFAULTS||{},z},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=(0,k.default)(!0,{},N.DEFAULTS,{modules:q},M,U),["bounds","container","scrollingContainer"].forEach(function(z){typeof U[z]=="string"&&(U[z]=document.querySelector(U[z]))}),U.modules=Object.keys(U.modules).reduce(function(z,j){return U.modules[j]&&(z[j]=U.modules[j]),z},{}),U}function I(D,U,M,B){if(this.options.strict&&!this.isEnabled()&&U===h.default.sources.USER)return new u.default;var q=M==null?null:this.getSelection(),z=this.editor.delta,j=D();if(q!=null&&(M===!0&&(M=q.index),B==null?q=P(q,j,U):B!==0&&(q=P(q,M,B,U)),this.setSelection(q,h.default.sources.SILENT)),j.length()>0){var F,H=[h.default.events.TEXT_CHANGE,j,z,U];if((F=this.emitter).emit.apply(F,[h.default.events.EDITOR_CHANGE].concat(H)),U!==h.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,H)}}return j}function L(D,U,M,B,q){var z={};return typeof D.index=="number"&&typeof D.length=="number"?typeof U!="number"?(q=B,B=M,M=U,U=D.length,D=D.index):(U=D.length,D=D.index):typeof U!="number"&&(q=B,B=M,M=U,U=0),(typeof M=="undefined"?"undefined":o(M))==="object"?(z=M,q=B):typeof M=="string"&&(B!=null?z[M]=B:q=M),q=q||h.default.sources.API,[D,U,z,q]}function P(D,U,M,B){if(D==null)return null;var q=void 0,z=void 0;if(U instanceof u.default){var j=[D.index,D.index+D.length].map(function(V){return U.transformPosition(V,B!==h.default.sources.USER)}),F=s(j,2);q=F[0],z=F[1]}else{var H=[D.index,D.index+D.length].map(function(V){return V<U||V===U&&B===h.default.sources.USER?V:M>=0?V+M:Math.max(U,V+M)}),W=s(H,2);q=W[0],z=W[1]}return new g.Range(q,z-q)}i.expandConfig=R,i.overload=L,i.default=N},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(p,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,_){return g&&y(p.prototype,g),_&&y(p,_),p}}(),s=function y(p,g,_){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,g);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:y(k,g,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},l=e(7),a=f(l),u=e(0),d=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function h(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function v(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var m=function(y){v(p,y);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"formatAt",value:function(_,b,k,w){if(p.compare(this.statics.blotName,k)<0&&d.default.query(k,d.default.Scope.BLOT)){var S=this.isolate(_,b);w&&S.wrap(k,w)}else s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,_,b,k,w)}},{key:"optimize",value:function(_){if(s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,_),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(_,b){var k=p.order.indexOf(_),w=p.order.indexOf(b);return k>=0||w>=0?k-w:_===b?0:_<b?-1:1}}]),p}(d.default.Inline);m.allowedChildren=[m,d.default.Embed,a.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=m},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(0),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);i.default=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function g(_,b){for(var k=0;k<b.length;k++){var w=b[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,b,k){return b&&g(_.prototype,b),k&&g(_,k),_}}(),s=function g(_,b,k){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,b);if(w===void 0){var S=Object.getPrototypeOf(_);return S===null?void 0:g(S,b,k)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(k)}},l=e(54),a=f(l),u=e(10),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function h(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function v(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var m=(0,d.default)("quill:events"),y=["selectionchange","mousedown","mouseup","click"];y.forEach(function(g){document.addEventListener(g,function(){for(var _=arguments.length,b=Array(_),k=0;k<_;k++)b[k]=arguments[k];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(w){if(w.__quill&&w.__quill.emitter){var S;(S=w.__quill.emitter).handleDOM.apply(S,b)}})})});var p=function(g){v(_,g);function _(){c(this,_);var b=h(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return b.listeners={},b.on("error",m.error),b}return o(_,[{key:"emit",value:function(){m.log.apply(m,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(k){for(var w=arguments.length,S=Array(w>1?w-1:0),O=1;O<w;O++)S[O-1]=arguments[O];(this.listeners[k.type]||[]).forEach(function(A){var T=A.node,x=A.handler;(k.target===T||T.contains(k.target))&&x.apply(void 0,[k].concat(S))})}},{key:"listenDOM",value:function(k,w,S){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push({node:w,handler:S})}}]),_}(a.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},i.default=p},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});function o(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}var s=function l(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,l),this.quill=a,this.options=u};s.DEFAULTS={},i.default=s},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function l(u){if(o.indexOf(u)<=o.indexOf(s)){for(var d,f=arguments.length,c=Array(f>1?f-1:0),h=1;h<f;h++)c[h-1]=arguments[h];(d=console)[u].apply(d,c)}}function a(u){return o.reduce(function(d,f){return d[f]=l.bind(console,f,u),d},{})}l.level=a.level=function(u){s=u},i.default=a},function(n,i,e){var o=Array.prototype.slice,s=e(52),l=e(53),a=n.exports=function(c,h,v){return v||(v={}),c===h?!0:c instanceof Date&&h instanceof Date?c.getTime()===h.getTime():!c||!h||typeof c!="object"&&typeof h!="object"?v.strict?c===h:c==h:f(c,h,v)};function u(c){return c==null}function d(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function f(c,h,v){var m,y;if(u(c)||u(h)||c.prototype!==h.prototype)return!1;if(l(c))return l(h)?(c=o.call(c),h=o.call(h),a(c,h,v)):!1;if(d(c)){if(!d(h)||c.length!==h.length)return!1;for(m=0;m<c.length;m++)if(c[m]!==h[m])return!1;return!0}try{var p=s(c),g=s(h)}catch{return!1}if(p.length!=g.length)return!1;for(p.sort(),g.sort(),m=p.length-1;m>=0;m--)if(p[m]!=g[m])return!1;for(m=p.length-1;m>=0;m--)if(y=p[m],!a(c[y],h[y],v))return!1;return typeof c==typeof h}},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(1),s=function(){function l(a,u,d){d===void 0&&(d={}),this.attrName=a,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return l.keys=function(a){return[].map.call(a.attributes,function(u){return u.name})},l.prototype.add=function(a,u){return this.canAdd(a,u)?(a.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(a,u){var d=o.query(a,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(a){a.removeAttribute(this.keyName)},l.prototype.value=function(a){var u=a.getAttribute(this.keyName);return this.canAdd(a,u)&&u?u:""},l}();i.default=s},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var o=function(){function O(A,T){var x=[],E=!0,C=!1,N=void 0;try{for(var R=A[Symbol.iterator](),I;!(E=(I=R.next()).done)&&(x.push(I.value),!(T&&x.length===T));E=!0);}catch(L){C=!0,N=L}finally{try{!E&&R.return&&R.return()}finally{if(C)throw N}}return x}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return O(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(A,T){for(var x=0;x<T.length;x++){var E=T[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,T,x){return T&&O(A.prototype,T),x&&O(A,x),A}}(),l=function O(A,T,x){A===null&&(A=Function.prototype);var E=Object.getOwnPropertyDescriptor(A,T);if(E===void 0){var C=Object.getPrototypeOf(A);return C===null?void 0:O(C,T,x)}else{if("value"in E)return E.value;var N=E.get;return N===void 0?void 0:N.call(x)}},a=e(2),u=g(a),d=e(0),f=g(d),c=e(4),h=g(c),v=e(6),m=g(v),y=e(7),p=g(y);function g(O){return O&&O.__esModule?O:{default:O}}function _(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function b(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function k(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var w=function(O){k(A,O);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(m.default);w.blotName="code",w.tagName="CODE";var S=function(O){k(A,O);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"delta",value:function(){var x=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(C,N){return C.insert(N).insert(`
`,x.formats())},new u.default)}},{key:"format",value:function(x,E){if(!(x===this.statics.blotName&&E)){var C=this.descendant(p.default,this.length()-1),N=o(C,1),R=N[0];R!=null&&R.deleteAt(R.length()-1,1),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,x,E)}}},{key:"formatAt",value:function(x,E,C,N){if(E!==0&&!(f.default.query(C,f.default.Scope.BLOCK)==null||C===this.statics.blotName&&N===this.statics.formats(this.domNode))){var R=this.newlineIndex(x);if(!(R<0||R>=x+E)){var I=this.newlineIndex(x,!0)+1,L=R-I+1,P=this.isolate(I,L),D=P.next;P.format(C,N),D instanceof A&&D.formatAt(0,x-I+E-L,C,N)}}}},{key:"insertAt",value:function(x,E,C){if(C==null){var N=this.descendant(p.default,x),R=o(N,2),I=R[0],L=R[1];I.insertAt(L,E)}}},{key:"length",value:function(){var x=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?x:x+1}},{key:"newlineIndex",value:function(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,x).lastIndexOf(`
`);var C=this.domNode.textContent.slice(x).indexOf(`
`);return C>-1?x+C:-1}},{key:"optimize",value:function(x){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,x);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(x),E.moveChildren(this),E.remove())}},{key:"replace",value:function(x){l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,x),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var C=f.default.find(E);C==null?E.parentNode.removeChild(E):C instanceof f.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(x){var E=l(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,x);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),A}(h.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",i.Code=w,i.default=S},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(U,M){var B=[],q=!0,z=!1,j=void 0;try{for(var F=U[Symbol.iterator](),H;!(q=(H=F.next()).done)&&(B.push(H.value),!(M&&B.length===M));q=!0);}catch(W){z=!0,j=W}finally{try{!q&&F.return&&F.return()}finally{if(z)throw j}}return B}return function(U,M){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return D(U,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(U,M){for(var B=0;B<M.length;B++){var q=M[B];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}return function(U,M,B){return M&&D(U.prototype,M),B&&D(U,B),U}}(),a=e(2),u=E(a),d=e(20),f=E(d),c=e(0),h=E(c),v=e(13),m=E(v),y=e(24),p=E(y),g=e(4),_=E(g),b=e(16),k=E(b),w=e(21),S=E(w),O=e(11),A=E(O),T=e(3),x=E(T);function E(D){return D&&D.__esModule?D:{default:D}}function C(D,U,M){return U in D?Object.defineProperty(D,U,{value:M,enumerable:!0,configurable:!0,writable:!0}):D[U]=M,D}function N(D,U){if(!(D instanceof U))throw new TypeError("Cannot call a class as a function")}var R=/^[ -~]*$/,I=function(){function D(U){N(this,D),this.scroll=U,this.delta=this.getDelta()}return l(D,[{key:"applyDelta",value:function(M){var B=this,q=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),M=P(M),M.reduce(function(j,F){var H=F.retain||F.delete||F.insert.length||1,W=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var V=F.insert;V.endsWith(`
`)&&q&&(q=!1,V=V.slice(0,-1)),j>=z&&!V.endsWith(`
`)&&(q=!0),B.scroll.insertAt(j,V);var X=B.scroll.line(j),Q=s(X,2),ie=Q[0],$=Q[1],G=(0,x.default)({},(0,g.bubbleFormats)(ie));if(ie instanceof _.default){var K=ie.descendant(h.default.Leaf,$),ee=s(K,1),re=ee[0];G=(0,x.default)(G,(0,g.bubbleFormats)(re))}W=f.default.attributes.diff(G,W)||{}}else if(o(F.insert)==="object"){var Y=Object.keys(F.insert)[0];if(Y==null)return j;B.scroll.insertAt(j,Y,F.insert[Y])}z+=H}return Object.keys(W).forEach(function(Z){B.scroll.formatAt(j,H,Z,W[Z])}),j+H},0),M.reduce(function(j,F){return typeof F.delete=="number"?(B.scroll.deleteAt(j,F.delete),j):j+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,B){return this.scroll.deleteAt(M,B),this.update(new u.default().retain(M).delete(B))}},{key:"formatLine",value:function(M,B){var q=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(j){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[j])){var F=q.scroll.lines(M,Math.max(B,1)),H=B;F.forEach(function(W){var V=W.length();if(!(W instanceof m.default))W.format(j,z[j]);else{var X=M-W.offset(q.scroll),Q=W.newlineIndex(X+H)-X+1;W.formatAt(X,Q,j,z[j])}H-=V})}}),this.scroll.optimize(),this.update(new u.default().retain(M).retain(B,(0,S.default)(z)))}},{key:"formatText",value:function(M,B){var q=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(j){q.scroll.formatAt(M,B,j,z[j])}),this.update(new u.default().retain(M).retain(B,(0,S.default)(z)))}},{key:"getContents",value:function(M,B){return this.delta.slice(M,M+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,B){return M.concat(B.delta())},new u.default)}},{key:"getFormat",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],z=[];B===0?this.scroll.path(M).forEach(function(F){var H=s(F,1),W=H[0];W instanceof _.default?q.push(W):W instanceof h.default.Leaf&&z.push(W)}):(q=this.scroll.lines(M,B),z=this.scroll.descendants(h.default.Leaf,M,B));var j=[q,z].map(function(F){if(F.length===0)return{};for(var H=(0,g.bubbleFormats)(F.shift());Object.keys(H).length>0;){var W=F.shift();if(W==null)return H;H=L((0,g.bubbleFormats)(W),H)}return H});return x.default.apply(x.default,j)}},{key:"getText",value:function(M,B){return this.getContents(M,B).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(M,B,q){return this.scroll.insertAt(M,B,q),this.update(new u.default().retain(M).insert(C({},B,q)))}},{key:"insertText",value:function(M,B){var q=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,B),Object.keys(z).forEach(function(j){q.scroll.formatAt(M,B.length,j,z[j])}),this.update(new u.default().retain(M).insert(B,(0,S.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==_.default.blotName||M.children.length>1?!1:M.children.head instanceof k.default}},{key:"removeFormat",value:function(M,B){var q=this.getText(M,B),z=this.scroll.line(M+B),j=s(z,2),F=j[0],H=j[1],W=0,V=new u.default;F!=null&&(F instanceof m.default?W=F.newlineIndex(H)-H+1:W=F.length()-H,V=F.delta().slice(H,H+W-1).insert(`
`));var X=this.getContents(M,B+W),Q=X.diff(new u.default().insert(q).concat(V)),ie=new u.default().retain(M).concat(Q);return this.applyDelta(ie)}},{key:"update",value:function(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(R)&&h.default.find(B[0].target)){var j=h.default.find(B[0].target),F=(0,g.bubbleFormats)(j),H=j.offset(this.scroll),W=B[0].oldValue.replace(p.default.CONTENTS,""),V=new u.default().insert(W),X=new u.default().insert(j.value()),Q=new u.default().retain(H).concat(V.diff(X,q));M=Q.reduce(function(ie,$){return $.insert?ie.insert($.insert,F):ie.push($)},new u.default),this.delta=z.compose(M)}else this.delta=this.getDelta(),(!M||!(0,A.default)(z.compose(M),this.delta))&&(M=z.diff(this.delta,q));return M}}]),D}();function L(D,U){return Object.keys(U).reduce(function(M,B){return D[B]==null||(U[B]===D[B]?M[B]=U[B]:Array.isArray(U[B])?U[B].indexOf(D[B])<0&&(M[B]=U[B].concat([D[B]])):M[B]=[U[B],D[B]]),M},{})}function P(D){return D.reduce(function(U,M){if(M.insert===1){var B=(0,S.default)(M.attributes);return delete B.image,U.insert({image:M.attributes.image},B)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,S.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var q=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return U.insert(q,M.attributes)}return U.push(M)},new u.default)}i.default=I},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var o=function(){function O(A,T){var x=[],E=!0,C=!1,N=void 0;try{for(var R=A[Symbol.iterator](),I;!(E=(I=R.next()).done)&&(x.push(I.value),!(T&&x.length===T));E=!0);}catch(L){C=!0,N=L}finally{try{!E&&R.return&&R.return()}finally{if(C)throw N}}return x}return function(A,T){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return O(A,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function O(A,T){for(var x=0;x<T.length;x++){var E=T[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,T,x){return T&&O(A.prototype,T),x&&O(A,x),A}}(),l=e(0),a=p(l),u=e(21),d=p(u),f=e(11),c=p(f),h=e(8),v=p(h),m=e(10),y=p(m);function p(O){return O&&O.__esModule?O:{default:O}}function g(O){if(Array.isArray(O)){for(var A=0,T=Array(O.length);A<O.length;A++)T[A]=O[A];return T}else return Array.from(O)}function _(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}var b=(0,y.default)("quill:selection"),k=function O(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,O),this.index=A,this.length=T},w=function(){function O(A,T){var x=this;_(this,O),this.emitter=T,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new k(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(E,C){E===v.default.events.TEXT_CHANGE&&C.length()>0&&x.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!x.hasFocus()){var E=x.getNativeRange();E!=null&&E.start.node!==x.cursor.textNode&&x.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(E,C){if(C.range){var N=C.range,R=N.startNode,I=N.startOffset,L=N.endNode,P=N.endOffset;x.setNativeRange(R,I,L,P)}}),this.update(v.default.sources.SILENT)}return s(O,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var x=T.cursor.restore();if(!x)return;setTimeout(function(){T.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,x){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||a.default.query(T,a.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var C=a.default.find(E.start.node,!1);if(C==null)return;if(C instanceof a.default.Leaf){var N=C.split(E.start.offset);C.parent.insertBefore(this.cursor,N)}else C.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(T,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();T=Math.min(T,E-1),x=Math.min(T+x,E-1)-T;var C=void 0,N=this.scroll.leaf(T),R=o(N,2),I=R[0],L=R[1];if(I==null)return null;var P=I.position(L,!0),D=o(P,2);C=D[0],L=D[1];var U=document.createRange();if(x>0){U.setStart(C,L);var M=this.scroll.leaf(T+x),B=o(M,2);if(I=B[0],L=B[1],I==null)return null;var q=I.position(L,!0),z=o(q,2);return C=z[0],L=z[1],U.setEnd(C,L),U.getBoundingClientRect()}else{var j="left",F=void 0;return C instanceof Text?(L<C.data.length?(U.setStart(C,L),U.setEnd(C,L+1)):(U.setStart(C,L-1),U.setEnd(C,L),j="right"),F=U.getBoundingClientRect()):(F=I.domNode.getBoundingClientRect(),L>0&&(j="right")),{bottom:F.top+F.height,height:F.height,left:F[j],right:F[j],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var x=T.getRangeAt(0);if(x==null)return null;var E=this.normalizeNative(x);return b.info("getNativeRange",E),E}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var x=this.normalizedToRange(T);return[x,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var x=this,E=[[T.start.node,T.start.offset]];T.native.collapsed||E.push([T.end.node,T.end.offset]);var C=E.map(function(I){var L=o(I,2),P=L[0],D=L[1],U=a.default.find(P,!0),M=U.offset(x.scroll);return D===0?M:U instanceof a.default.Container?M+U.length():M+U.index(P,D)}),N=Math.min(Math.max.apply(Math,g(C)),this.scroll.length()-1),R=Math.min.apply(Math,[N].concat(g(C)));return new k(R,N-R)}},{key:"normalizeNative",value:function(T){if(!S(this.root,T.startContainer)||!T.collapsed&&!S(this.root,T.endContainer))return null;var x={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[x.start,x.end].forEach(function(E){for(var C=E.node,N=E.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>N)C=C.childNodes[N],N=0;else if(C.childNodes.length===N)C=C.lastChild,N=C instanceof Text?C.data.length:C.childNodes.length+1;else break;E.node=C,E.offset=N}),x}},{key:"rangeToNative",value:function(T){var x=this,E=T.collapsed?[T.index]:[T.index,T.index+T.length],C=[],N=this.scroll.length();return E.forEach(function(R,I){R=Math.min(N-1,R);var L=void 0,P=x.scroll.leaf(R),D=o(P,2),U=D[0],M=D[1],B=U.position(M,I!==0),q=o(B,2);L=q[0],M=q[1],C.push(L,M)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(T){var x=this.lastRange;if(x!=null){var E=this.getBounds(x.index,x.length);if(E!=null){var C=this.scroll.length()-1,N=this.scroll.line(Math.min(x.index,C)),R=o(N,1),I=R[0],L=I;if(x.length>0){var P=this.scroll.line(Math.min(x.index+x.length,C)),D=o(P,1);L=D[0]}if(!(I==null||L==null)){var U=T.getBoundingClientRect();E.top<U.top?T.scrollTop-=U.top-E.top:E.bottom>U.bottom&&(T.scrollTop+=E.bottom-U.bottom)}}}}},{key:"setNativeRange",value:function(T,x){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",T,x,E,C),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||E.parentNode==null))){var R=document.getSelection();if(R!=null)if(T!=null){this.hasFocus()||this.root.focus();var I=(this.getNativeRange()||{}).native;if(I==null||N||T!==I.startContainer||x!==I.startOffset||E!==I.endContainer||C!==I.endOffset){T.tagName=="BR"&&(x=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),E.tagName=="BR"&&(C=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var L=document.createRange();L.setStart(T,x),L.setEnd(E,C),R.removeAllRanges(),R.addRange(L)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof x=="string"&&(E=x,x=!1),b.info("setRange",T),T!=null){var C=this.rangeToNative(T);this.setNativeRange.apply(this,g(C).concat([x]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,x=this.lastRange,E=this.getRange(),C=o(E,2),N=C[0],R=C[1];if(this.lastRange=N,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(x,this.lastRange)){var I;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var L=[v.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(x),T];if((I=this.emitter).emit.apply(I,[v.default.events.EDITOR_CHANGE].concat(L)),T!==v.default.sources.SILENT){var P;(P=this.emitter).emit.apply(P,L)}}}}]),O}();function S(O,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),O.contains(A)}i.Range=k,i.default=w},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(m,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),s=function v(m,y,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,y,p)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(p)}},l=e(0),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(p,g){p.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,p,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(a.default.Embed);h.blotName="break",h.tagName="BR",i.default=h},function(n,i,e){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(44),l=e(30),a=e(1),u=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.build(),v}return c.prototype.appendChild=function(h){this.insertBefore(h)},c.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},c.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var m=d(v);h.insertBefore(m,h.children.head||void 0)}catch(y){if(y instanceof a.ParchmentError)return;throw y}})},c.prototype.deleteAt=function(h,v){if(h===0&&v===this.length())return this.remove();this.children.forEachAt(h,v,function(m,y,p){m.deleteAt(y,p)})},c.prototype.descendant=function(h,v){var m=this.children.find(v),y=m[0],p=m[1];return h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h?[y,p]:y instanceof c?y.descendant(h,p):[null,-1]},c.prototype.descendants=function(h,v,m){v===void 0&&(v=0),m===void 0&&(m=Number.MAX_VALUE);var y=[],p=m;return this.children.forEachAt(v,m,function(g,_,b){(h.blotName==null&&h(g)||h.blotName!=null&&g instanceof h)&&y.push(g),g instanceof c&&(y=y.concat(g.descendants(h,_,p))),p-=b}),y},c.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},c.prototype.formatAt=function(h,v,m,y){this.children.forEachAt(h,v,function(p,g,_){p.formatAt(g,_,m,y)})},c.prototype.insertAt=function(h,v,m){var y=this.children.find(h),p=y[0],g=y[1];if(p)p.insertAt(g,v,m);else{var _=m==null?a.create("text",v):a.create(v,m);this.appendChild(_)}},c.prototype.insertBefore=function(h,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return h instanceof m}))throw new a.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,v)},c.prototype.length=function(){return this.children.reduce(function(h,v){return h+v.length()},0)},c.prototype.moveChildren=function(h,v){this.children.forEach(function(m){h.insertBefore(m,v)})},c.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var v=a.create(this.statics.defaultChild);this.appendChild(v),v.optimize(h)}else this.remove()},c.prototype.path=function(h,v){v===void 0&&(v=!1);var m=this.children.find(h,v),y=m[0],p=m[1],g=[[this,h]];return y instanceof c?g.concat(y.path(p,v)):(y!=null&&g.push([y,p]),g)},c.prototype.removeChild=function(h){this.children.remove(h)},c.prototype.replace=function(h){h instanceof c&&h.moveChildren(this),f.prototype.replace.call(this,h)},c.prototype.split=function(h,v){if(v===void 0&&(v=!1),!v){if(h===0)return this;if(h===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(h,this.length(),function(y,p,g){y=y.split(p,v),m.appendChild(y)}),m},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(h,v){var m=this,y=[],p=[];h.forEach(function(g){g.target===m.domNode&&g.type==="childList"&&(y.push.apply(y,g.addedNodes),p.push.apply(p,g.removedNodes))}),p.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=a.find(g);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===m.domNode)&&_.detach()}}),y.filter(function(g){return g.parentNode==m.domNode}).sort(function(g,_){return g===_?0:g.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var _=null;g.nextSibling!=null&&(_=a.find(g.nextSibling));var b=d(g);(b.next!=_||b.next==null)&&(b.parent!=null&&b.parent.removeChild(m),m.insertBefore(b,_||void 0))})},c}(l.default);function d(f){var c=a.find(f);if(c==null)try{c=a.create(f)}catch{c=a.create(a.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){c.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(c.domNode,f),c.attach()}return c}i.default=u},function(n,i,e){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(12),l=e(31),a=e(17),u=e(1),d=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.attributes=new l.default(v.domNode),v}return c.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},c.prototype.format=function(h,v){var m=u.query(h);m instanceof s.default?this.attributes.attribute(m,v):v&&m!=null&&(h!==this.statics.blotName||this.formats()[h]!==v)&&this.replaceWith(h,v)},c.prototype.formats=function(){var h=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(h[this.statics.blotName]=v),h},c.prototype.replaceWith=function(h,v){var m=f.prototype.replaceWith.call(this,h,v);return this.attributes.copy(m),m},c.prototype.update=function(h,v){var m=this;f.prototype.update.call(this,h,v),h.some(function(y){return y.target===m.domNode&&y.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(h,v){var m=f.prototype.wrap.call(this,h,v);return m instanceof c&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},c}(a.default);i.default=d},function(n,i,e){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(30),l=e(1),a=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,c){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},d.prototype.position=function(f,c){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=l.Scope.INLINE_BLOT,d}(s.default);i.default=a},function(n,i,e){var o=e(11),s=e(3),l={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var c=s(!0,{},d);f||(c=Object.keys(c).reduce(function(v,m){return c[m]!=null&&(v[m]=c[m]),v},{}));for(var h in u)u[h]!==void 0&&d[h]===void 0&&(c[h]=u[h]);return Object.keys(c).length>0?c:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(c,h){return o(u[h],d[h])||(c[h]=d[h]===void 0?null:d[h]),c},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var c=Object.keys(d).reduce(function(h,v){return u[v]===void 0&&(h[v]=d[v]),h},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new a(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function a(u){this.ops=u,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,c=l.length(d);if(u>=c-f?(u=c-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var h={};return d.attributes&&(h.attributes=d.attributes),typeof d.retain=="number"?h.retain=u:typeof d.insert=="string"?h.insert=d.insert.substr(f,u):h.insert=d.insert,h}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(c)}else return[]},n.exports=l},function(n,i){var e=function(){function o(m,y){return y!=null&&m instanceof y}var s;try{s=Map}catch{s=function(){}}var l;try{l=Set}catch{l=function(){}}var a;try{a=Promise}catch{a=function(){}}function u(m,y,p,g,_){typeof y=="object"&&(p=y.depth,g=y.prototype,_=y.includeNonEnumerable,y=y.circular);var b=[],k=[],w=typeof Buffer!="undefined";typeof y=="undefined"&&(y=!0),typeof p=="undefined"&&(p=1/0);function S(O,A){if(O===null)return null;if(A===0)return O;var T,x;if(typeof O!="object")return O;if(o(O,s))T=new s;else if(o(O,l))T=new l;else if(o(O,a))T=new a(function(U,M){O.then(function(B){U(S(B,A-1))},function(B){M(S(B,A-1))})});else if(u.__isArray(O))T=[];else if(u.__isRegExp(O))T=new RegExp(O.source,v(O)),O.lastIndex&&(T.lastIndex=O.lastIndex);else if(u.__isDate(O))T=new Date(O.getTime());else{if(w&&Buffer.isBuffer(O))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(O.length):T=new Buffer(O.length),O.copy(T),T;o(O,Error)?T=Object.create(O):typeof g=="undefined"?(x=Object.getPrototypeOf(O),T=Object.create(x)):(T=Object.create(g),x=g)}if(y){var E=b.indexOf(O);if(E!=-1)return k[E];b.push(O),k.push(T)}o(O,s)&&O.forEach(function(U,M){var B=S(M,A-1),q=S(U,A-1);T.set(B,q)}),o(O,l)&&O.forEach(function(U){var M=S(U,A-1);T.add(M)});for(var C in O){var N;x&&(N=Object.getOwnPropertyDescriptor(x,C)),!(N&&N.set==null)&&(T[C]=S(O[C],A-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(O),C=0;C<R.length;C++){var I=R[C],L=Object.getOwnPropertyDescriptor(O,I);L&&!L.enumerable&&!_||(T[I]=S(O[I],A-1),L.enumerable||Object.defineProperty(T,I,{enumerable:!1}))}if(_)for(var P=Object.getOwnPropertyNames(O),C=0;C<P.length;C++){var D=P[C],L=Object.getOwnPropertyDescriptor(O,D);L&&L.enumerable||(T[D]=S(O[D],A-1),Object.defineProperty(T,D,{enumerable:!1}))}return T}return S(m,p)}u.clonePrototype=function(y){if(y===null)return null;var p=function(){};return p.prototype=y,new p};function d(m){return Object.prototype.toString.call(m)}u.__objToStr=d;function f(m){return typeof m=="object"&&d(m)==="[object Date]"}u.__isDate=f;function c(m){return typeof m=="object"&&d(m)==="[object Array]"}u.__isArray=c;function h(m){return typeof m=="object"&&d(m)==="[object RegExp]"}u.__isRegExp=h;function v(m){var y="";return m.global&&(y+="g"),m.ignoreCase&&(y+="i"),m.multiline&&(y+="m"),y}return u.__getRegExpFlags=v,u}();typeof n=="object"&&n.exports&&(n.exports=e)},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function T(x,E){var C=[],N=!0,R=!1,I=void 0;try{for(var L=x[Symbol.iterator](),P;!(N=(P=L.next()).done)&&(C.push(P.value),!(E&&C.length===E));N=!0);}catch(D){R=!0,I=D}finally{try{!N&&L.return&&L.return()}finally{if(R)throw I}}return C}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return T(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(x,E){for(var C=0;C<E.length;C++){var N=E[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,E,C){return E&&T(x.prototype,E),C&&T(x,C),x}}(),l=function T(x,E,C){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,E);if(N===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:T(R,E,C)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(C)}},a=e(0),u=b(a),d=e(8),f=b(d),c=e(4),h=b(c),v=e(16),m=b(v),y=e(13),p=b(y),g=e(25),_=b(g);function b(T){return T&&T.__esModule?T:{default:T}}function k(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function w(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:T}function S(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}function O(T){return T instanceof h.default||T instanceof c.BlockEmbed}var A=function(T){S(x,T);function x(E,C){k(this,x);var N=w(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E));return N.emitter=C.emitter,Array.isArray(C.whitelist)&&(N.whitelist=C.whitelist.reduce(function(R,I){return R[I]=!0,R},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return s(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,N){var R=this.line(C),I=o(R,2),L=I[0],P=I[1],D=this.line(C+N),U=o(D,1),M=U[0];if(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,C,N),M!=null&&L!==M&&P>0){if(L instanceof c.BlockEmbed||M instanceof c.BlockEmbed){this.optimize();return}if(L instanceof p.default){var B=L.newlineIndex(L.length(),!0);if(B>-1&&(L=L.split(B+1),L===M)){this.optimize();return}}else if(M instanceof p.default){var q=M.newlineIndex(0);q>-1&&M.split(q+1)}var z=M.children.head instanceof m.default?null:M.children.head;L.moveChildren(M,z),L.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,N,R,I){this.whitelist!=null&&!this.whitelist[R]||(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,C,N,R,I),this.optimize())}},{key:"insertAt",value:function(C,N,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[N])){if(C>=this.length())if(R==null||u.default.query(N,u.default.Scope.BLOCK)==null){var I=u.default.create(this.statics.defaultChild);this.appendChild(I),R==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),I.insertAt(0,N,R)}else{var L=u.default.create(N,R);this.appendChild(L)}else l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,C,N,R);this.optimize()}}},{key:"insertBefore",value:function(C,N){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var R=u.default.create(this.statics.defaultChild);R.appendChild(C),C=R}l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,C,N)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(O,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function I(L,P,D){var U=[],M=D;return L.children.forEachAt(P,D,function(B,q,z){O(B)?U.push(B):B instanceof u.default.Container&&(U=U.concat(I(B,q,M))),M-=z}),U};return R(this,C,N)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,C,N),C.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,C,N))}},{key:"path",value:function(C){return l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var N=f.default.sources.USER;typeof C=="string"&&(N=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,N,C),l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,N,C)}}}]),x}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[h.default,c.BlockEmbed,_.default],i.default=A},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(H,W){var V=[],X=!0,Q=!1,ie=void 0;try{for(var $=H[Symbol.iterator](),G;!(X=(G=$.next()).done)&&(V.push(G.value),!(W&&V.length===W));X=!0);}catch(K){Q=!0,ie=K}finally{try{!X&&$.return&&$.return()}finally{if(Q)throw ie}}return V}return function(H,W){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return F(H,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function F(H,W){for(var V=0;V<W.length;V++){var X=W[V];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(H,X.key,X)}}return function(H,W,V){return W&&F(H.prototype,W),V&&F(H,V),H}}(),a=e(21),u=T(a),d=e(11),f=T(d),c=e(3),h=T(c),v=e(2),m=T(v),y=e(20),p=T(y),g=e(0),_=T(g),b=e(5),k=T(b),w=e(10),S=T(w),O=e(9),A=T(O);function T(F){return F&&F.__esModule?F:{default:F}}function x(F,H,W){return H in F?Object.defineProperty(F,H,{value:W,enumerable:!0,configurable:!0,writable:!0}):F[H]=W,F}function E(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function C(F,H){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:F}function N(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(F,H):F.__proto__=H)}var R=(0,S.default)("quill:keyboard"),I=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",L=function(F){N(H,F),l(H,null,[{key:"match",value:function(V,X){return X=j(X),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Q){return!!X[Q]!==V[Q]&&X[Q]!==null})?!1:X.key===(V.which||V.keyCode)}}]);function H(W,V){E(this,H);var X=C(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,W,V));return X.bindings={},Object.keys(X.options.bindings).forEach(function(Q){Q==="list autofill"&&W.scroll.whitelist!=null&&!W.scroll.whitelist.list||X.options.bindings[Q]&&X.addBinding(X.options.bindings[Q])}),X.addBinding({key:H.keys.ENTER,shiftKey:null},B),X.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},D),X.addBinding({key:H.keys.DELETE},{collapsed:!0},U)):(X.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),X.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},U)),X.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},M),X.addBinding({key:H.keys.DELETE},{collapsed:!1},M),X.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),X.listen(),X}return l(H,[{key:"addBinding",value:function(V){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie=j(V);if(ie==null||ie.key==null)return R.warn("Attempted to add invalid keyboard binding",ie);typeof X=="function"&&(X={handler:X}),typeof Q=="function"&&(Q={handler:Q}),ie=(0,h.default)(ie,X,Q),this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var Q=X.which||X.keyCode,ie=(V.bindings[Q]||[]).filter(function(pe){return H.match(X,pe)});if(ie.length!==0){var $=V.quill.getSelection();if(!($==null||!V.quill.hasFocus())){var G=V.quill.getLine($.index),K=s(G,2),ee=K[0],re=K[1],Y=V.quill.getLeaf($.index),Z=s(Y,2),te=Z[0],ne=Z[1],J=$.length===0?[te,ne]:V.quill.getLeaf($.index+$.length),le=s(J,2),se=le[0],ae=le[1],oe=te instanceof _.default.Text?te.value().slice(0,ne):"",ue=se instanceof _.default.Text?se.value().slice(ae):"",fe={collapsed:$.length===0,empty:$.length===0&&ee.length()<=1,format:V.quill.getFormat($),offset:re,prefix:oe,suffix:ue},ge=ie.some(function(pe){if(pe.collapsed!=null&&pe.collapsed!==fe.collapsed||pe.empty!=null&&pe.empty!==fe.empty||pe.offset!=null&&pe.offset!==fe.offset)return!1;if(Array.isArray(pe.format)){if(pe.format.every(function(Ce){return fe.format[Ce]==null}))return!1}else if(o(pe.format)==="object"&&!Object.keys(pe.format).every(function(Ce){return pe.format[Ce]===!0?fe.format[Ce]!=null:pe.format[Ce]===!1?fe.format[Ce]==null:(0,f.default)(pe.format[Ce],fe.format[Ce])}))return!1;return pe.prefix!=null&&!pe.prefix.test(fe.prefix)||pe.suffix!=null&&!pe.suffix.test(fe.suffix)?!1:pe.handler.call(V,$,fe)!==!0});ge&&X.preventDefault()}}}})}}]),H}(A.default);L.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},L.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:L.keys.TAB,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","+1",k.default.sources.USER)}},outdent:{key:L.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","-1",k.default.sources.USER)}},"outdent backspace":{key:L.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,W){W.format.indent!=null?this.quill.format("indent","-1",k.default.sources.USER):W.format.list!=null&&this.quill.format("list",!1,k.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:L.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,k.default.sources.USER)}},tab:{key:L.keys.TAB,handler:function(H){this.quill.history.cutoff();var W=new m.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(W,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,k.default.sources.SILENT)}},"list empty enter":{key:L.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,W){this.quill.format("list",!1,k.default.sources.USER),W.format.indent&&this.quill.format("indent",!1,k.default.sources.USER)}},"checklist enter":{key:L.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var W=this.quill.getLine(H.index),V=s(W,2),X=V[0],Q=V[1],ie=(0,h.default)({},X.formats(),{list:"checked"}),$=new m.default().retain(H.index).insert(`
`,ie).retain(X.length()-Q-1).retain(1,{list:"unchecked"});this.quill.updateContents($,k.default.sources.USER),this.quill.setSelection(H.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:L.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,W){var V=this.quill.getLine(H.index),X=s(V,2),Q=X[0],ie=X[1],$=new m.default().retain(H.index).insert(`
`,W.format).retain(Q.length()-ie-1).retain(1,{header:null});this.quill.updateContents($,k.default.sources.USER),this.quill.setSelection(H.index+1,k.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,W){var V=W.prefix.length,X=this.quill.getLine(H.index),Q=s(X,2),ie=Q[0],$=Q[1];if($>V)return!0;var G=void 0;switch(W.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(H.index," ",k.default.sources.USER),this.quill.history.cutoff();var K=new m.default().retain(H.index-$).delete(V+1).retain(ie.length()-2-$).retain(1,{list:G});this.quill.updateContents(K,k.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-V,k.default.sources.SILENT)}},"code exit":{key:L.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var W=this.quill.getLine(H.index),V=s(W,2),X=V[0],Q=V[1],ie=new m.default().retain(H.index+X.length()-Q-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ie,k.default.sources.USER)}},"embed left":P(L.keys.LEFT,!1),"embed left shift":P(L.keys.LEFT,!0),"embed right":P(L.keys.RIGHT,!1),"embed right shift":P(L.keys.RIGHT,!0)}};function P(F,H){var W,V=F===L.keys.LEFT?"prefix":"suffix";return W={key:F,shiftKey:H,altKey:null},x(W,V,/^$/),x(W,"handler",function(Q){var ie=Q.index;F===L.keys.RIGHT&&(ie+=Q.length+1);var $=this.quill.getLeaf(ie),G=s($,1),K=G[0];return K instanceof _.default.Embed?(F===L.keys.LEFT?H?this.quill.setSelection(Q.index-1,Q.length+1,k.default.sources.USER):this.quill.setSelection(Q.index-1,k.default.sources.USER):H?this.quill.setSelection(Q.index,Q.length+1,k.default.sources.USER):this.quill.setSelection(Q.index+Q.length+1,k.default.sources.USER),!1):!0}),W}function D(F,H){if(!(F.index===0||this.quill.getLength()<=1)){var W=this.quill.getLine(F.index),V=s(W,1),X=V[0],Q={};if(H.offset===0){var ie=this.quill.getLine(F.index-1),$=s(ie,1),G=$[0];if(G!=null&&G.length()>1){var K=X.formats(),ee=this.quill.getFormat(F.index-1,1);Q=p.default.attributes.diff(K,ee)||{}}}var re=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(F.index-re,re,k.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(F.index-re,re,Q,k.default.sources.USER),this.quill.focus()}}function U(F,H){var W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(F.index>=this.quill.getLength()-W)){var V={},X=0,Q=this.quill.getLine(F.index),ie=s(Q,1),$=ie[0];if(H.offset>=$.length()-1){var G=this.quill.getLine(F.index+1),K=s(G,1),ee=K[0];if(ee){var re=$.formats(),Y=this.quill.getFormat(F.index,1);V=p.default.attributes.diff(re,Y)||{},X=ee.length()}}this.quill.deleteText(F.index,W,k.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(F.index+X-1,W,V,k.default.sources.USER)}}function M(F){var H=this.quill.getLines(F),W={};if(H.length>1){var V=H[0].formats(),X=H[H.length-1].formats();W=p.default.attributes.diff(X,V)||{}}this.quill.deleteText(F,k.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(F.index,1,W,k.default.sources.USER),this.quill.setSelection(F.index,k.default.sources.SILENT),this.quill.focus()}function B(F,H){var W=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var V=Object.keys(H.format).reduce(function(X,Q){return _.default.query(Q,_.default.Scope.BLOCK)&&!Array.isArray(H.format[Q])&&(X[Q]=H.format[Q]),X},{});this.quill.insertText(F.index,`
`,V,k.default.sources.USER),this.quill.setSelection(F.index+1,k.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(X){V[X]==null&&(Array.isArray(H.format[X])||X!=="link"&&W.quill.format(X,H.format[X],k.default.sources.USER))})}function q(F){return{key:L.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(W){var V=_.default.query("code-block"),X=W.index,Q=W.length,ie=this.quill.scroll.descendant(V,X),$=s(ie,2),G=$[0],K=$[1];if(G!=null){var ee=this.quill.getIndex(G),re=G.newlineIndex(K,!0)+1,Y=G.newlineIndex(ee+K+Q),Z=G.domNode.textContent.slice(re,Y).split(`
`);K=0,Z.forEach(function(te,ne){F?(G.insertAt(re+K,V.TAB),K+=V.TAB.length,ne===0?X+=V.TAB.length:Q+=V.TAB.length):te.startsWith(V.TAB)&&(G.deleteAt(re+K,V.TAB.length),K-=V.TAB.length,ne===0?X-=V.TAB.length:Q-=V.TAB.length),K+=te.length+1}),this.quill.update(k.default.sources.USER),this.quill.setSelection(X,Q,k.default.sources.SILENT)}}}}function z(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(W,V){this.quill.format(F,!V.format[F],k.default.sources.USER)}}}function j(F){if(typeof F=="string"||typeof F=="number")return j({key:F});if((typeof F=="undefined"?"undefined":o(F))==="object"&&(F=(0,u.default)(F,!1)),typeof F.key=="string")if(L.keys[F.key.toUpperCase()]!=null)F.key=L.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[I]=F.shortKey,delete F.shortKey),F}i.default=L,i.SHORTKEY=I},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(g,_){var b=[],k=!0,w=!1,S=void 0;try{for(var O=g[Symbol.iterator](),A;!(k=(A=O.next()).done)&&(b.push(A.value),!(_&&b.length===_));k=!0);}catch(T){w=!0,S=T}finally{try{!k&&O.return&&O.return()}finally{if(w)throw S}}return b}return function(g,_){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function p(g,_,b){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,_);if(k===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,_,b)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(b)}},l=function(){function p(g,_){for(var b=0;b<_.length;b++){var k=_[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,_,b){return _&&p(g.prototype,_),b&&p(g,b),g}}(),a=e(0),u=c(a),d=e(7),f=c(d);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function v(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function m(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var y=function(p){m(g,p),l(g,null,[{key:"value",value:function(){}}]);function g(_,b){h(this,g);var k=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return k.selection=b,k.textNode=document.createTextNode(g.CONTENTS),k.domNode.appendChild(k.textNode),k._length=0,k}return l(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,k){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,b,k);for(var w=this,S=0;w!=null&&w.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=w.offset(w.parent),w=w.parent;w!=null&&(this._length=g.CONTENTS.length,w.optimize(),w.formatAt(S,g.CONTENTS.length,b,k),this._length=0)}},{key:"index",value:function(b,k){return b===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,k)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,k=this.selection.getNativeRange(),w=void 0,S=void 0,O=void 0;if(k!=null&&k.start.node===b&&k.end.node===b){var A=[b,k.start.offset,k.end.offset];w=A[0],S=A[1],O=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var T=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(w=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=g.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var x=[S,O].map(function(C){return Math.max(0,Math.min(w.data.length,C-1))}),E=o(x,2);return S=E[0],O=E[1],{startNode:w,startOffset:S,endNode:w,endOffset:O}}}}},{key:"update",value:function(b,k){var w=this;if(b.some(function(O){return O.type==="characterData"&&O.target===w.textNode})){var S=this.restore();S&&(k.range=S)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF",i.default=y},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(0),s=u(o),l=e(4),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);h.allowedChildren=[a.default,l.BlockEmbed,h],i.default=h},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var o=function(){function y(p,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,_){return g&&y(p.prototype,g),_&&y(p,_),p}}(),s=function y(p,g,_){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,g);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:y(k,g,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},l=e(0),a=u(l);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function f(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function c(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var h=function(y){c(p,y);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(_){var b=s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(k){return("00"+parseInt(k).toString(16)).slice(-2)}).join("")):b}}]),p}(a.default.Attributor.Style),v=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),m=new h("color","color",{scope:a.default.Scope.INLINE});i.ColorAttributor=h,i.ColorClass=v,i.ColorStyle=m},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var o=function(){function m(y,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,p,g){return p&&m(y.prototype,p),g&&m(y,g),y}}(),s=function m(y,p,g){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,p);if(_===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,p,g)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(g)}},l=e(6),a=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function c(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){c(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"format",value:function(g,_){if(g!==this.statics.blotName||!_)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,g,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(g){var _=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,g);return g=this.sanitize(g),_.setAttribute("href",g),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return v(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),y}(a.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(m,y){var p=document.createElement("a");p.href=m;var g=p.href.slice(0,p.href.indexOf(":"));return y.indexOf(g)>-1}i.default=h,i.sanitize=v},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},s=function(){function y(p,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,_){return g&&y(p.prototype,g),_&&y(p,_),p}}(),l=e(23),a=f(l),u=e(107),d=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function c(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}var h=0;function v(y,p){y.setAttribute(p,y.getAttribute(p)!=="true")}var m=function(){function y(p){var g=this;c(this,y),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case a.default.keys.ENTER:g.togglePicker();break;case a.default.keys.ESCAPE:g.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(y,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var _=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),g.hasAttribute("value")&&b.setAttribute("data-value",g.getAttribute("value")),g.textContent&&b.setAttribute("data-label",g.textContent),b.addEventListener("click",function(){_.selectItem(b,!0)}),b.addEventListener("keydown",function(k){switch(k.keyCode){case a.default.keys.ENTER:_.selectItem(b,!0),k.preventDefault();break;case a.default.keys.ESCAPE:_.escape(),k.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=d.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(b){var k=g.buildItem(b);_.appendChild(k),b.selected===!0&&g.selectItem(k)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(_){g.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(g!==b&&(b!=null&&b.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":o(Event))==="object"){var k=document.createEvent("Event");k.initEvent("change",!0,!0),this.select.dispatchEvent(k)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var b=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),y}();i.default=m},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(0),s=R(o),l=e(5),a=R(l),u=e(4),d=R(u),f=e(16),c=R(f),h=e(25),v=R(h),m=e(24),y=R(m),p=e(35),g=R(p),_=e(6),b=R(_),k=e(22),w=R(k),S=e(7),O=R(S),A=e(55),T=R(A),x=e(42),E=R(x),C=e(23),N=R(C);function R(I){return I&&I.__esModule?I:{default:I}}a.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":v.default,"blots/cursor":y.default,"blots/embed":g.default,"blots/inline":b.default,"blots/scroll":w.default,"blots/text":O.default,"modules/clipboard":T.default,"modules/history":E.default,"modules/keyboard":N.default}),s.default.register(d.default,c.default,y.default,b.default,w.default,O.default),i.default=a.default},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(1),s=function(){function l(a){this.domNode=a,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(a){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?u=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?u=document.createElement(a):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return o.create(a)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},l.prototype.deleteAt=function(a,u){var d=this.isolate(a,u);d.remove()},l.prototype.formatAt=function(a,u,d,f){var c=this.isolate(a,u);if(o.query(d,o.Scope.BLOT)!=null&&f)c.wrap(d,f);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);c.wrap(h),h.format(d,f)}},l.prototype.insertAt=function(a,u,d){var f=d==null?o.create("text",u):o.create(u,d),c=this.split(a);this.parent.insertBefore(f,c)},l.prototype.insertInto=function(a,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;a.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=d)&&a.domNode.insertBefore(this.domNode,d),this.parent=a,this.attach()},l.prototype.isolate=function(a,u){var d=this.split(a);return d.split(u),d},l.prototype.length=function(){return 1},l.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},l.prototype.optimize=function(a){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},l.prototype.replaceWith=function(a,u){var d=typeof a=="string"?o.create(a,u):a;return d.replace(this),d},l.prototype.split=function(a,u){return a===0?this:this.next},l.prototype.update=function(a,u){},l.prototype.wrap=function(a,u){var d=typeof a=="string"?o.create(a,u):a;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},l.blotName="abstract",l}();i.default=s},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(12),s=e(32),l=e(33),a=e(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,c){c?f.add(this.domNode,c)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var c=o.default.keys(this.domNode),h=s.default.keys(this.domNode),v=l.default.keys(this.domNode);c.concat(h).concat(v).forEach(function(m){var y=a.query(m,a.Scope.ATTRIBUTE);y instanceof o.default&&(f.attributes[y.attrName]=y)})},d.prototype.copy=function(f){var c=this;Object.keys(this.attributes).forEach(function(h){var v=c.attributes[h].value(c.domNode);f.format(h,v)})},d.prototype.move=function(f){var c=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){c.attributes[h].remove(c.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(c,h){return c[h]=f.attributes[h].value(f.domNode),c},{})},d}();i.default=u},function(n,i,e){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(12);function l(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(c){return c.indexOf(d+"-")===0})}var a=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,c){return this.canAdd(f,c)?(this.remove(f),f.classList.add(this.keyName+"-"+c),!0):!1},d.prototype.remove=function(f){var c=l(f,this.keyName);c.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var c=l(f,this.keyName)[0]||"",h=c.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},d}(s.default);i.default=a},function(n,i,e){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(12);function l(u){var d=u.split("-"),f=d.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return d[0]+f}var a=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(c){var h=c.split(":");return h[0].trim()})},d.prototype.add=function(f,c){return this.canAdd(f,c)?(f.style[l(this.keyName)]=c,!0):!1},d.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var c=f.style[l(this.keyName)];return this.canAdd(f,c)?c:""},d}(s.default);i.default=a},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function a(u,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,d,f){return d&&a(u.prototype,d),f&&a(u,f),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function a(u,d){s(this,a),this.quill=u,this.options=d,this.modules={}}return o(a,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),a}();l.DEFAULTS={modules:{}},l.themes={default:l},i.default=l},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(g,_){for(var b=0;b<_.length;b++){var k=_[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,_,b){return _&&p(g.prototype,_),b&&p(g,b),g}}(),s=function p(g,_,b){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,_);if(k===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,_,b)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(b)}},l=e(0),a=f(l),u=e(7),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function v(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var m="\uFEFF",y=function(p){v(g,p);function g(_){c(this,g);var b=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(k){b.contentNode.appendChild(k)}),b.leftGuard=document.createTextNode(m),b.rightGuard=document.createTextNode(m),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return o(g,[{key:"index",value:function(b,k){return b===this.leftGuard?0:b===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,b,k)}},{key:"restore",value:function(b){var k=void 0,w=void 0,S=b.data.split(m).join("");if(b===this.leftGuard)if(this.prev instanceof d.default){var O=this.prev.length();this.prev.insertAt(O,S),k={startNode:this.prev.domNode,startOffset:O+S.length}}else w=document.createTextNode(S),this.parent.insertBefore(a.default.create(w),this),k={startNode:w,startOffset:S.length};else b===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,S),k={startNode:this.next.domNode,startOffset:S.length}):(w=document.createTextNode(S),this.parent.insertBefore(a.default.create(w),this.next),k={startNode:w,startOffset:S.length}));return b.data=m,k}},{key:"update",value:function(b,k){var w=this;b.forEach(function(S){if(S.type==="characterData"&&(S.target===w.leftGuard||S.target===w.rightGuard)){var O=w.restore(S.target);O&&(k.range=O)}})}}]),g}(a.default.Embed);i.default=y},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var o=e(0),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}var a={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",a),d=new s.default.Attributor.Class("align","ql-align",a),f=new s.default.Attributor.Style("align","text-align",a);i.AlignAttribute=u,i.AlignClass=d,i.AlignStyle=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var o=e(0),s=a(o),l=e(26);function a(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new l.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});i.BackgroundClass=u,i.BackgroundStyle=d},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var o=e(0),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}var a={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",a),d=new s.default.Attributor.Class("direction","ql-direction",a),f=new s.default.Attributor.Style("direction","direction",a);i.DirectionAttribute=u,i.DirectionClass=d,i.DirectionStyle=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var o=function(){function p(g,_){for(var b=0;b<_.length;b++){var k=_[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(g,k.key,k)}}return function(g,_,b){return _&&p(g.prototype,_),b&&p(g,b),g}}(),s=function p(g,_,b){g===null&&(g=Function.prototype);var k=Object.getOwnPropertyDescriptor(g,_);if(k===void 0){var w=Object.getPrototypeOf(g);return w===null?void 0:p(w,_,b)}else{if("value"in k)return k.value;var S=k.get;return S===void 0?void 0:S.call(b)}},l=e(0),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function f(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function c(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new a.default.Attributor.Class("font","ql-font",h),m=function(p){c(g,p);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(b){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),g}(a.default.Attributor.Style),y=new m("font","font-family",h);i.FontStyle=y,i.FontClass=v},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var o=e(0),s=l(o);function l(d){return d&&d.__esModule?d:{default:d}}var a=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=a,i.SizeStyle=u},function(n,i,e){n.exports={align:{"":e(76),center:e(77),right:e(78),justify:e(79)},background:e(80),blockquote:e(81),bold:e(82),clean:e(83),code:e(58),"code-block":e(58),color:e(84),direction:{"":e(85),rtl:e(86)},float:{center:e(87),full:e(88),left:e(89),right:e(90)},formula:e(91),header:{"1":e(92),"2":e(93)},italic:e(94),image:e(95),indent:{"+1":e(96),"-1":e(97)},link:e(98),list:{ordered:e(99),bullet:e(100),check:e(101)},script:{sub:e(102),super:e(103)},strike:e(104),underline:e(105),video:e(106)}},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var o=function(){function _(b,k){for(var w=0;w<k.length;w++){var S=k[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,k,w){return k&&_(b.prototype,k),w&&_(b,w),b}}(),s=e(0),l=c(s),a=e(5),u=c(a),d=e(9),f=c(d);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function m(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=function(_){m(b,_);function b(k,w){h(this,b);var S=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k,w));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(O,A,T,x){O!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||x===u.default.sources.USER?S.record(A,T):S.transform(A))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(b,[{key:"change",value:function(w,S){if(this.stack[w].length!==0){var O=this.stack[w].pop();this.stack[S].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[w],u.default.sources.USER),this.ignoreChange=!1;var A=g(O[w]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(w,S){if(w.ops.length!==0){this.stack.redo=[];var O=this.quill.getContents().diff(S),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var T=this.stack.undo.pop();O=O.compose(T.undo),w=T.redo.compose(w)}else this.lastRecorded=A;this.stack.undo.push({redo:w,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(w){this.stack.undo.forEach(function(S){S.undo=w.transform(S.undo,!0),S.redo=w.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=w.transform(S.undo,!0),S.redo=w.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(f.default);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(_){var b=_.ops[_.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(k){return l.default.query(k,l.default.Scope.BLOCK)!=null}):!1}function g(_){var b=_.reduce(function(w,S){return w+=S.delete||0,w},0),k=_.length()-b;return p(_)&&(k-=1),k}i.default=y,i.getLastChangeIndex=g},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var o=function(){function B(q,z){for(var j=0;j<z.length;j++){var F=z[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(q,F.key,F)}}return function(q,z,j){return z&&B(q.prototype,z),j&&B(q,j),q}}(),s=function B(q,z,j){q===null&&(q=Function.prototype);var F=Object.getOwnPropertyDescriptor(q,z);if(F===void 0){var H=Object.getPrototypeOf(q);return H===null?void 0:B(H,z,j)}else{if("value"in F)return F.value;var W=F.get;return W===void 0?void 0:W.call(j)}},l=e(3),a=A(l),u=e(2),d=A(u),f=e(8),c=A(f),h=e(23),v=A(h),m=e(34),y=A(m),p=e(59),g=A(p),_=e(60),b=A(_),k=e(28),w=A(k),S=e(61),O=A(S);function A(B){return B&&B.__esModule?B:{default:B}}function T(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}function x(B,q){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:B}function E(B,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);B.prototype=Object.create(q&&q.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(B,q):B.__proto__=q)}var C=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],I=["1","2","3",!1],L=["small",!1,"large","huge"],P=function(B){E(q,B);function q(z,j){T(this,q);var F=x(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z,j)),H=function W(V){if(!document.body.contains(z.root))return document.body.removeEventListener("click",W);F.tooltip!=null&&!F.tooltip.root.contains(V.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(X){X.container.contains(V.target)||X.close()})};return z.emitter.listenDOM("click",document.body,H),F}return o(q,[{key:"addModule",value:function(j){var F=s(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,j);return j==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(j,F){j.forEach(function(H){var W=H.getAttribute("class")||"";W.split(/\s+/).forEach(function(V){if(!!V.startsWith("ql-")&&(V=V.slice("ql-".length),F[V]!=null))if(V==="direction")H.innerHTML=F[V][""]+F[V].rtl;else if(typeof F[V]=="string")H.innerHTML=F[V];else{var X=H.value||"";X!=null&&F[V][X]&&(H.innerHTML=F[V][X])}})})}},{key:"buildPickers",value:function(j,F){var H=this;this.pickers=j.map(function(V){if(V.classList.contains("ql-align"))return V.querySelector("option")==null&&M(V,C),new b.default(V,F.align);if(V.classList.contains("ql-background")||V.classList.contains("ql-color")){var X=V.classList.contains("ql-background")?"background":"color";return V.querySelector("option")==null&&M(V,N,X==="background"?"#ffffff":"#000000"),new g.default(V,F[X])}else return V.querySelector("option")==null&&(V.classList.contains("ql-font")?M(V,R):V.classList.contains("ql-header")?M(V,I):V.classList.contains("ql-size")&&M(V,L)),new w.default(V)});var W=function(){H.pickers.forEach(function(X){X.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,W)}}]),q}(y.default);P.DEFAULTS=(0,a.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var j=new FileReader;j.onload=function(F){var H=q.quill.getSelection(!0);q.quill.updateContents(new d.default().retain(H.index).delete(H.length).insert({image:F.target.result}),c.default.sources.USER),q.quill.setSelection(H.index+1,c.default.sources.SILENT),z.value=""},j.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=function(B){E(q,B);function q(z,j){T(this,q);var F=x(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,z,j));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return o(q,[{key:"listen",value:function(){var j=this;this.textbox.addEventListener("keydown",function(F){v.default.match(F,"enter")?(j.save(),F.preventDefault()):v.default.match(F,"escape")&&(j.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:j!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+j)||""),this.root.setAttribute("data-mode",j)}},{key:"restoreFocus",value:function(){var j=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=j}},{key:"save",value:function(){var j=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",j,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",j,c.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":j=U(j);case"formula":{if(!j)break;var H=this.quill.getSelection(!0);if(H!=null){var W=H.index+H.length;this.quill.insertEmbed(W,this.root.getAttribute("data-mode"),j,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(W+1," ",c.default.sources.USER),this.quill.setSelection(W+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q}(O.default);function U(B){var q=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":B}function M(B,q){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(j){var F=document.createElement("option");j===z?F.setAttribute("selected","selected"):F.setAttribute("value",j),B.appendChild(F)})}i.BaseTooltip=D,i.default=P},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},s.prototype.contains=function(l){for(var a,u=this.iterator();a=u();)if(a===l)return!0;return!1},s.prototype.insertBefore=function(l,a){!l||(l.next=a,a!=null?(l.prev=a.prev,a.prev!=null&&(a.prev.next=l),a.prev=l,a===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},s.prototype.offset=function(l){for(var a=0,u=this.head;u!=null;){if(u===l)return a;a+=u.length(),u=u.next}return-1},s.prototype.remove=function(l){!this.contains(l)||(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},s.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var a=l;return l!=null&&(l=l.next),a}},s.prototype.find=function(l,a){a===void 0&&(a=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(l<f||a&&l===f&&(u.next==null||u.next.length()!==0))return[u,l];l-=f}return[null,0]},s.prototype.forEach=function(l){for(var a,u=this.iterator();a=u();)l(a)},s.prototype.forEachAt=function(l,a,u){if(!(a<=0))for(var d=this.find(l),f=d[0],c=d[1],h,v=l-c,m=this.iterator(f);(h=m())&&v<l+a;){var y=h.length();l>v?u(h,l-v,Math.min(a,v+y-l)):u(h,0,Math.min(y,l+a-v)),v+=y}},s.prototype.map=function(l){return this.reduce(function(a,u){return a.push(l(u)),a},[])},s.prototype.reduce=function(l,a){for(var u,d=this.iterator();u=d();)a=l(a,u);return a},s}();i.default=o},function(n,i,e){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(17),l=e(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.scroll=v,v.observer=new MutationObserver(function(m){v.update(m)}),v.observer.observe(v.domNode,a),v.attach(),v}return c.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(h,v){this.update(),h===0&&v===this.length()?this.children.forEach(function(m){m.remove()}):f.prototype.deleteAt.call(this,h,v)},c.prototype.formatAt=function(h,v,m,y){this.update(),f.prototype.formatAt.call(this,h,v,m,y)},c.prototype.insertAt=function(h,v,m){this.update(),f.prototype.insertAt.call(this,h,v,m)},c.prototype.optimize=function(h,v){var m=this;h===void 0&&(h=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var y=[].slice.call(this.observer.takeRecords());y.length>0;)h.push(y.pop());for(var p=function(k,w){w===void 0&&(w=!0),!(k==null||k===m)&&k.domNode.parentNode!=null&&(k.domNode[l.DATA_KEY].mutations==null&&(k.domNode[l.DATA_KEY].mutations=[]),w&&p(k.parent))},g=function(k){k.domNode[l.DATA_KEY]==null||k.domNode[l.DATA_KEY].mutations==null||(k instanceof s.default&&k.children.forEach(g),k.optimize(v))},_=h,b=0;_.length>0;b+=1){if(b>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(k){var w=l.find(k.target,!0);w!=null&&(w.domNode===k.target&&(k.type==="childList"?(p(l.find(k.previousSibling,!1)),[].forEach.call(k.addedNodes,function(S){var O=l.find(S,!1);p(O,!1),O instanceof s.default&&O.children.forEach(function(A){p(A,!1)})})):k.type==="attributes"&&p(w.prev)),p(w))}),this.children.forEach(g),_=[].slice.call(this.observer.takeRecords()),y=_.slice();y.length>0;)h.push(y.pop())}},c.prototype.update=function(h,v){var m=this;v===void 0&&(v={}),h=h||this.observer.takeRecords(),h.map(function(y){var p=l.find(y.target,!0);return p==null?null:p.domNode[l.DATA_KEY].mutations==null?(p.domNode[l.DATA_KEY].mutations=[y],p):(p.domNode[l.DATA_KEY].mutations.push(y),null)}).forEach(function(y){y==null||y===m||y.domNode[l.DATA_KEY]==null||y.update(y.domNode[l.DATA_KEY].mutations||[],v)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,v),this.optimize(h,v)},c.blotName="scroll",c.defaultChild="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);i.default=d},function(n,i,e){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){d(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(18),l=e(1);function a(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var c in d)if(d[c]!==f[c])return!1;return!0}var u=function(d){o(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(c){if(c.tagName!==f.tagName)return d.formats.call(this,c)},f.prototype.format=function(c,h){var v=this;c===this.statics.blotName&&!h?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(f.blotName,!0)),v.attributes.copy(m)}),this.unwrap()):d.prototype.format.call(this,c,h)},f.prototype.formatAt=function(c,h,v,m){if(this.formats()[v]!=null||l.query(v,l.Scope.ATTRIBUTE)){var y=this.isolate(c,h);y.format(v,m)}else d.prototype.formatAt.call(this,c,h,v,m)},f.prototype.optimize=function(c){d.prototype.optimize.call(this,c);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&a(h,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);i.default=u},function(n,i,e){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(18),l=e(1),a=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var c=l.query(d.blotName).tagName;if(f.tagName!==c)return u.formats.call(this,f)},d.prototype.format=function(f,c){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!c?this.replaceWith(d.blotName):u.prototype.format.call(this,f,c))},d.prototype.formatAt=function(f,c,h,v){l.query(h,l.Scope.BLOCK)!=null?this.format(h,v):u.prototype.formatAt.call(this,f,c,h,v)},d.prototype.insertAt=function(f,c,h){if(h==null||l.query(c,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,c,h);else{var v=this.split(f),m=l.create(c,h);v.parent.insertBefore(m,v)}},d.prototype.update=function(f,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,c)},d.blotName="block",d.scope=l.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);i.default=a},function(n,i,e){var o=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){a(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(19),l=function(a){o(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){a.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,c,h){d===0&&f===this.length()?this.format(c,h):a.prototype.formatAt.call(this,d,f,c,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);i.default=l},function(n,i,e){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=e(19),l=e(1),a=function(u){o(d,u);function d(f){var c=u.call(this,f)||this;return c.text=c.statics.value(c.domNode),c}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var c=f.data;return c.normalize&&(c=c.normalize()),c},d.prototype.deleteAt=function(f,c){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+c)},d.prototype.index=function(f,c){return this.domNode===f?c:-1},d.prototype.insertAt=function(f,c,h){h==null?(this.text=this.text.slice(0,f)+c+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,c,h)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,c){return[this.domNode,f]},d.prototype.split=function(f,c){if(c===void 0&&(c=!1),!c){if(f===0)return this;if(f===this.length())return this.next}var h=l.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},d.prototype.update=function(f,c){var h=this;f.some(function(v){return v.type==="characterData"&&v.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=l.Scope.INLINE_BLOT,d}(s.default);i.default=a},function(n,i,e){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,a){return arguments.length>1&&!this.contains(l)==!a?a:s.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,a){return a=a||0,this.substr(a,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,a){var u=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>u.length)&&(a=u.length),a-=l.length;var d=u.indexOf(l,a);return d!==-1&&d===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],c,h=0;h<d;h++)if(c=u[h],a.call(f,c,h,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,i){var e=-1,o=1,s=0;function l(b,k,w){if(b==k)return b?[[s,b]]:[];(w<0||b.length<w)&&(w=null);var S=f(b,k),O=b.substring(0,S);b=b.substring(S),k=k.substring(S),S=c(b,k);var A=b.substring(b.length-S);b=b.substring(0,b.length-S),k=k.substring(0,k.length-S);var T=a(b,k);return O&&T.unshift([s,O]),A&&T.push([s,A]),v(T),w!=null&&(T=p(T,w)),T=g(T),T}function a(b,k){var w;if(!b)return[[o,k]];if(!k)return[[e,b]];var S=b.length>k.length?b:k,O=b.length>k.length?k:b,A=S.indexOf(O);if(A!=-1)return w=[[o,S.substring(0,A)],[s,O],[o,S.substring(A+O.length)]],b.length>k.length&&(w[0][0]=w[2][0]=e),w;if(O.length==1)return[[e,b],[o,k]];var T=h(b,k);if(T){var x=T[0],E=T[1],C=T[2],N=T[3],R=T[4],I=l(x,C),L=l(E,N);return I.concat([[s,R]],L)}return u(b,k)}function u(b,k){for(var w=b.length,S=k.length,O=Math.ceil((w+S)/2),A=O,T=2*O,x=new Array(T),E=new Array(T),C=0;C<T;C++)x[C]=-1,E[C]=-1;x[A+1]=0,E[A+1]=0;for(var N=w-S,R=N%2!=0,I=0,L=0,P=0,D=0,U=0;U<O;U++){for(var M=-U+I;M<=U-L;M+=2){var B=A+M,q;M==-U||M!=U&&x[B-1]<x[B+1]?q=x[B+1]:q=x[B-1]+1;for(var z=q-M;q<w&&z<S&&b.charAt(q)==k.charAt(z);)q++,z++;if(x[B]=q,q>w)L+=2;else if(z>S)I+=2;else if(R){var j=A+N-M;if(j>=0&&j<T&&E[j]!=-1){var F=w-E[j];if(q>=F)return d(b,k,q,z)}}}for(var H=-U+P;H<=U-D;H+=2){var j=A+H,F;H==-U||H!=U&&E[j-1]<E[j+1]?F=E[j+1]:F=E[j-1]+1;for(var W=F-H;F<w&&W<S&&b.charAt(w-F-1)==k.charAt(S-W-1);)F++,W++;if(E[j]=F,F>w)D+=2;else if(W>S)P+=2;else if(!R){var B=A+N-H;if(B>=0&&B<T&&x[B]!=-1){var q=x[B],z=A+q-B;if(F=w-F,q>=F)return d(b,k,q,z)}}}}return[[e,b],[o,k]]}function d(b,k,w,S){var O=b.substring(0,w),A=k.substring(0,S),T=b.substring(w),x=k.substring(S),E=l(O,A),C=l(T,x);return E.concat(C)}function f(b,k){if(!b||!k||b.charAt(0)!=k.charAt(0))return 0;for(var w=0,S=Math.min(b.length,k.length),O=S,A=0;w<O;)b.substring(A,O)==k.substring(A,O)?(w=O,A=w):S=O,O=Math.floor((S-w)/2+w);return O}function c(b,k){if(!b||!k||b.charAt(b.length-1)!=k.charAt(k.length-1))return 0;for(var w=0,S=Math.min(b.length,k.length),O=S,A=0;w<O;)b.substring(b.length-O,b.length-A)==k.substring(k.length-O,k.length-A)?(w=O,A=w):S=O,O=Math.floor((S-w)/2+w);return O}function h(b,k){var w=b.length>k.length?b:k,S=b.length>k.length?k:b;if(w.length<4||S.length*2<w.length)return null;function O(L,P,D){for(var U=L.substring(D,D+Math.floor(L.length/4)),M=-1,B="",q,z,j,F;(M=P.indexOf(U,M+1))!=-1;){var H=f(L.substring(D),P.substring(M)),W=c(L.substring(0,D),P.substring(0,M));B.length<W+H&&(B=P.substring(M-W,M)+P.substring(M,M+H),q=L.substring(0,D-W),z=L.substring(D+H),j=P.substring(0,M-W),F=P.substring(M+H))}return B.length*2>=L.length?[q,z,j,F,B]:null}var A=O(w,S,Math.ceil(w.length/4)),T=O(w,S,Math.ceil(w.length/2)),x;if(!A&&!T)return null;T?A?x=A[4].length>T[4].length?A:T:x=T:x=A;var E,C,N,R;b.length>k.length?(E=x[0],C=x[1],N=x[2],R=x[3]):(N=x[0],R=x[1],E=x[2],C=x[3]);var I=x[4];return[E,C,N,R,I]}function v(b){b.push([s,""]);for(var k=0,w=0,S=0,O="",A="",T;k<b.length;)switch(b[k][0]){case o:S++,A+=b[k][1],k++;break;case e:w++,O+=b[k][1],k++;break;case s:w+S>1?(w!==0&&S!==0&&(T=f(A,O),T!==0&&(k-w-S>0&&b[k-w-S-1][0]==s?b[k-w-S-1][1]+=A.substring(0,T):(b.splice(0,0,[s,A.substring(0,T)]),k++),A=A.substring(T),O=O.substring(T)),T=c(A,O),T!==0&&(b[k][1]=A.substring(A.length-T)+b[k][1],A=A.substring(0,A.length-T),O=O.substring(0,O.length-T))),w===0?b.splice(k-S,w+S,[o,A]):S===0?b.splice(k-w,w+S,[e,O]):b.splice(k-w-S,w+S,[e,O],[o,A]),k=k-w-S+(w?1:0)+(S?1:0)+1):k!==0&&b[k-1][0]==s?(b[k-1][1]+=b[k][1],b.splice(k,1)):k++,S=0,w=0,O="",A="";break}b[b.length-1][1]===""&&b.pop();var x=!1;for(k=1;k<b.length-1;)b[k-1][0]==s&&b[k+1][0]==s&&(b[k][1].substring(b[k][1].length-b[k-1][1].length)==b[k-1][1]?(b[k][1]=b[k-1][1]+b[k][1].substring(0,b[k][1].length-b[k-1][1].length),b[k+1][1]=b[k-1][1]+b[k+1][1],b.splice(k-1,1),x=!0):b[k][1].substring(0,b[k+1][1].length)==b[k+1][1]&&(b[k-1][1]+=b[k+1][1],b[k][1]=b[k][1].substring(b[k+1][1].length)+b[k+1][1],b.splice(k+1,1),x=!0)),k++;x&&v(b)}var m=l;m.INSERT=o,m.DELETE=e,m.EQUAL=s,n.exports=m;function y(b,k){if(k===0)return[s,b];for(var w=0,S=0;S<b.length;S++){var O=b[S];if(O[0]===e||O[0]===s){var A=w+O[1].length;if(k===A)return[S+1,b];if(k<A){b=b.slice();var T=k-w,x=[O[0],O[1].slice(0,T)],E=[O[0],O[1].slice(T)];return b.splice(S,1,x,E),[S+1,b]}else w=A}}throw new Error("cursor_pos is out of bounds!")}function p(b,k){var w=y(b,k),S=w[1],O=w[0],A=S[O],T=S[O+1];if(A==null)return b;if(A[0]!==s)return b;if(T!=null&&A[1]+T[1]===T[1]+A[1])return S.splice(O,2,T,A),_(S,O,2);if(T!=null&&T[1].indexOf(A[1])===0){S.splice(O,2,[T[0],A[1]],[0,A[1]]);var x=T[1].slice(A[1].length);return x.length>0&&S.splice(O+2,0,[T[0],x]),_(S,O,3)}else return b}function g(b){for(var k=!1,w=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},S=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},O=2;O<b.length;O+=1)b[O-2][0]===s&&S(b[O-2][1])&&b[O-1][0]===e&&w(b[O-1][1])&&b[O][0]===o&&w(b[O][1])&&(k=!0,b[O-1][1]=b[O-2][1].slice(-1)+b[O-1][1],b[O][1]=b[O-2][1].slice(-1)+b[O][1],b[O-2][1]=b[O-2][1].slice(0,-1));if(!k)return b;for(var A=[],O=0;O<b.length;O+=1)b[O][1].length>0&&A.push(b[O]);return A}function _(b,k,w){for(var S=k+w-1;S>=0&&S>=k-1;S--)if(S+1<b.length){var O=b[S],A=b[S+1];O[0]===A[1]&&b.splice(S,2,[O[0],O[1]+A[1]])}return b}},function(n,i){i=n.exports=typeof Object.keys=="function"?Object.keys:e,i.shim=e;function e(o){var s=[];for(var l in o)s.push(l);return s}},function(n,i){var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=n.exports=e?o:s,i.supported=o;function o(l){return Object.prototype.toString.call(l)=="[object Arguments]"}i.unsupported=s;function s(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,i){var e=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function l(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],f,c;if(this._eventsCount===0)return d;for(c in f=this._events)e.call(f,c)&&d.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},a.prototype.listeners=function(d,f){var c=o?o+d:d,h=this._events[c];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var v=0,m=h.length,y=new Array(m);v<m;v++)y[v]=h[v].fn;return y},a.prototype.emit=function(d,f,c,h,v,m){var y=o?o+d:d;if(!this._events[y])return!1;var p=this._events[y],g=arguments.length,_,b;if(p.fn){switch(p.once&&this.removeListener(d,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,f),!0;case 3:return p.fn.call(p.context,f,c),!0;case 4:return p.fn.call(p.context,f,c,h),!0;case 5:return p.fn.call(p.context,f,c,h,v),!0;case 6:return p.fn.call(p.context,f,c,h,v,m),!0}for(b=1,_=new Array(g-1);b<g;b++)_[b-1]=arguments[b];p.fn.apply(p.context,_)}else{var k=p.length,w;for(b=0;b<k;b++)switch(p[b].once&&this.removeListener(d,p[b].fn,void 0,!0),g){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,f);break;case 3:p[b].fn.call(p[b].context,f,c);break;case 4:p[b].fn.call(p[b].context,f,c,h);break;default:if(!_)for(w=1,_=new Array(g-1);w<g;w++)_[w-1]=arguments[w];p[b].fn.apply(p[b].context,_)}}return!0},a.prototype.on=function(d,f,c){var h=new l(f,c||this),v=o?o+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},a.prototype.once=function(d,f,c){var h=new l(f,c||this,!0),v=o?o+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},a.prototype.removeListener=function(d,f,c,h){var v=o?o+d:d;if(!this._events[v])return this;if(!f)return--this._eventsCount==0?this._events=new s:delete this._events[v],this;var m=this._events[v];if(m.fn)m.fn===f&&(!h||m.once)&&(!c||m.context===c)&&(--this._eventsCount==0?this._events=new s:delete this._events[v]);else{for(var y=0,p=[],g=m.length;y<g;y++)(m[y].fn!==f||h&&!m[y].once||c&&m[y].context!==c)&&p.push(m[y]);p.length?this._events[v]=p.length===1?p[0]:p:--this._eventsCount==0?this._events=new s:delete this._events[v]}return this},a.prototype.removeAllListeners=function(d){var f;return d?(f=o?o+d:d,this._events[f]&&(--this._eventsCount==0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,typeof n!="undefined"&&(n.exports=a)},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},s=function(){function Y(Z,te){var ne=[],J=!0,le=!1,se=void 0;try{for(var ae=Z[Symbol.iterator](),oe;!(J=(oe=ae.next()).done)&&(ne.push(oe.value),!(te&&ne.length===te));J=!0);}catch(ue){le=!0,se=ue}finally{try{!J&&ae.return&&ae.return()}finally{if(le)throw se}}return ne}return function(Z,te){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return Y(Z,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function Y(Z,te){for(var ne=0;ne<te.length;ne++){var J=te[ne];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Z,J.key,J)}}return function(Z,te,ne){return te&&Y(Z.prototype,te),ne&&Y(Z,ne),Z}}(),a=e(3),u=E(a),d=e(2),f=E(d),c=e(0),h=E(c),v=e(5),m=E(v),y=e(10),p=E(y),g=e(9),_=E(g),b=e(36),k=e(37),w=e(13),S=E(w),O=e(26),A=e(38),T=e(39),x=e(40);function E(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,Z,te){return Z in Y?Object.defineProperty(Y,Z,{value:te,enumerable:!0,configurable:!0,writable:!0}):Y[Z]=te,Y}function N(Y,Z){if(!(Y instanceof Z))throw new TypeError("Cannot call a class as a function")}function R(Y,Z){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:Y}function I(Y,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);Y.prototype=Object.create(Z&&Z.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,Z):Y.__proto__=Z)}var L=(0,p.default)("quill:clipboard"),P="__ql-matcher",D=[[Node.TEXT_NODE,re],[Node.TEXT_NODE,G],["br",Q],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,ee],["li",$],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",ie]],U=[b.AlignAttribute,A.DirectionAttribute].reduce(function(Y,Z){return Y[Z.keyName]=Z,Y},{}),M=[b.AlignStyle,k.BackgroundStyle,O.ColorStyle,A.DirectionStyle,T.FontStyle,x.SizeStyle].reduce(function(Y,Z){return Y[Z.keyName]=Z,Y},{}),B=function(Y){I(Z,Y);function Z(te,ne){N(this,Z);var J=R(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,te,ne));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],D.concat(J.options.matchers).forEach(function(le){var se=s(le,2),ae=se[0],oe=se[1];!ne.matchVisual&&oe===K||J.addMatcher(ae,oe)}),J}return l(Z,[{key:"addMatcher",value:function(ne,J){this.matchers.push([ne,J])}},{key:"convert",value:function(ne){if(typeof ne=="string")return this.container.innerHTML=ne.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[S.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new f.default().insert(le,C({},S.default.blotName,J[S.default.blotName]))}var se=this.prepareMatching(),ae=s(se,2),oe=ae[0],ue=ae[1],fe=H(this.container,oe,ue);return j(fe,`
`)&&fe.ops[fe.ops.length-1].attributes==null&&(fe=fe.compose(new f.default().retain(fe.length()-1).delete(1))),L.log("convert",this.container.innerHTML,fe),this.container.innerHTML="",fe}},{key:"dangerouslyPasteHTML",value:function(ne,J){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof ne=="string")this.quill.setContents(this.convert(ne),J),this.quill.setSelection(0,m.default.sources.SILENT);else{var se=this.convert(J);this.quill.updateContents(new f.default().retain(ne).concat(se),le),this.quill.setSelection(ne+se.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(ne){var J=this;if(!(ne.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),se=new f.default().retain(le.index),ae=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){se=se.concat(J.convert()).delete(le.length),J.quill.updateContents(se,m.default.sources.USER),J.quill.setSelection(se.length()-le.length,m.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=ae,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ne=this,J=[],le=[];return this.matchers.forEach(function(se){var ae=s(se,2),oe=ae[0],ue=ae[1];switch(oe){case Node.TEXT_NODE:le.push(ue);break;case Node.ELEMENT_NODE:J.push(ue);break;default:[].forEach.call(ne.container.querySelectorAll(oe),function(fe){fe[P]=fe[P]||[],fe[P].push(ue)});break}}),[J,le]}}]),Z}(_.default);B.DEFAULTS={matchers:[],matchVisual:!0};function q(Y,Z,te){return(typeof Z=="undefined"?"undefined":o(Z))==="object"?Object.keys(Z).reduce(function(ne,J){return q(ne,J,Z[J])},Y):Y.reduce(function(ne,J){return J.attributes&&J.attributes[Z]?ne.push(J):ne.insert(J.insert,(0,u.default)({},C({},Z,te),J.attributes))},new f.default)}function z(Y){if(Y.nodeType!==Node.ELEMENT_NODE)return{};var Z="__ql-computed-style";return Y[Z]||(Y[Z]=window.getComputedStyle(Y))}function j(Y,Z){for(var te="",ne=Y.ops.length-1;ne>=0&&te.length<Z.length;--ne){var J=Y.ops[ne];if(typeof J.insert!="string")break;te=J.insert+te}return te.slice(-1*Z.length)===Z}function F(Y){if(Y.childNodes.length===0)return!1;var Z=z(Y);return["block","list-item"].indexOf(Z.display)>-1}function H(Y,Z,te){return Y.nodeType===Y.TEXT_NODE?te.reduce(function(ne,J){return J(Y,ne)},new f.default):Y.nodeType===Y.ELEMENT_NODE?[].reduce.call(Y.childNodes||[],function(ne,J){var le=H(J,Z,te);return J.nodeType===Y.ELEMENT_NODE&&(le=Z.reduce(function(se,ae){return ae(J,se)},le),le=(J[P]||[]).reduce(function(se,ae){return ae(J,se)},le)),ne.concat(le)},new f.default):new f.default}function W(Y,Z,te){return q(te,Y,!0)}function V(Y,Z){var te=h.default.Attributor.Attribute.keys(Y),ne=h.default.Attributor.Class.keys(Y),J=h.default.Attributor.Style.keys(Y),le={};return te.concat(ne).concat(J).forEach(function(se){var ae=h.default.query(se,h.default.Scope.ATTRIBUTE);ae!=null&&(le[ae.attrName]=ae.value(Y),le[ae.attrName])||(ae=U[se],ae!=null&&(ae.attrName===se||ae.keyName===se)&&(le[ae.attrName]=ae.value(Y)||void 0),ae=M[se],ae!=null&&(ae.attrName===se||ae.keyName===se)&&(ae=M[se],le[ae.attrName]=ae.value(Y)||void 0))}),Object.keys(le).length>0&&(Z=q(Z,le)),Z}function X(Y,Z){var te=h.default.query(Y);if(te==null)return Z;if(te.prototype instanceof h.default.Embed){var ne={},J=te.value(Y);J!=null&&(ne[te.blotName]=J,Z=new f.default().insert(ne,te.formats(Y)))}else typeof te.formats=="function"&&(Z=q(Z,te.blotName,te.formats(Y)));return Z}function Q(Y,Z){return j(Z,`
`)||Z.insert(`
`),Z}function ie(){return new f.default}function $(Y,Z){var te=h.default.query(Y);if(te==null||te.blotName!=="list-item"||!j(Z,`
`))return Z;for(var ne=-1,J=Y.parentNode;!J.classList.contains("ql-clipboard");)(h.default.query(J)||{}).blotName==="list"&&(ne+=1),J=J.parentNode;return ne<=0?Z:Z.compose(new f.default().retain(Z.length()-1).retain(1,{indent:ne}))}function G(Y,Z){return j(Z,`
`)||(F(Y)||Z.length()>0&&Y.nextSibling&&F(Y.nextSibling))&&Z.insert(`
`),Z}function K(Y,Z){if(F(Y)&&Y.nextElementSibling!=null&&!j(Z,`

`)){var te=Y.offsetHeight+parseFloat(z(Y).marginTop)+parseFloat(z(Y).marginBottom);Y.nextElementSibling.offsetTop>Y.offsetTop+te*1.5&&Z.insert(`
`)}return Z}function ee(Y,Z){var te={},ne=Y.style||{};return ne.fontStyle&&z(Y).fontStyle==="italic"&&(te.italic=!0),ne.fontWeight&&(z(Y).fontWeight.startsWith("bold")||parseInt(z(Y).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(Z=q(Z,te)),parseFloat(ne.textIndent||0)>0&&(Z=new f.default().insert("	").concat(Z)),Z}function re(Y,Z){var te=Y.data;if(Y.parentNode.tagName==="O:P")return Z.insert(te.trim());if(te.trim().length===0&&Y.parentNode.classList.contains("ql-clipboard"))return Z;if(!z(Y.parentNode).whiteSpace.startsWith("pre")){var ne=function(le,se){return se=se.replace(/[^\u00a0]/g,""),se.length<1&&le?" ":se};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,ne.bind(ne,!0)),(Y.previousSibling==null&&F(Y.parentNode)||Y.previousSibling!=null&&F(Y.previousSibling))&&(te=te.replace(/^\s+/,ne.bind(ne,!1))),(Y.nextSibling==null&&F(Y.parentNode)||Y.nextSibling!=null&&F(Y.nextSibling))&&(te=te.replace(/\s+$/,ne.bind(ne,!1)))}return Z.insert(te)}i.default=B,i.matchAttributor=V,i.matchBlot=X,i.matchNewline=G,i.matchSpacing=K,i.matchText=re},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(m,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),s=function v(m,y,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,y,p)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(p)}},l=e(6),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(p){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(a.default);h.blotName="bold",h.tagName=["STRONG","B"],i.default=h},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var o=function(){function x(E,C){var N=[],R=!0,I=!1,L=void 0;try{for(var P=E[Symbol.iterator](),D;!(R=(D=P.next()).done)&&(N.push(D.value),!(C&&N.length===C));R=!0);}catch(U){I=!0,L=U}finally{try{!R&&P.return&&P.return()}finally{if(I)throw L}}return N}return function(E,C){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return x(E,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function x(E,C){for(var N=0;N<C.length;N++){var R=C[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,C,N){return C&&x(E.prototype,C),N&&x(E,N),E}}(),l=e(2),a=p(l),u=e(0),d=p(u),f=e(5),c=p(f),h=e(10),v=p(h),m=e(9),y=p(m);function p(x){return x&&x.__esModule?x:{default:x}}function g(x,E,C){return E in x?Object.defineProperty(x,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[E]=C,x}function _(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function b(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function k(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var w=(0,v.default)("quill:toolbar"),S=function(x){k(E,x);function E(C,N){_(this,E);var R=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,N));if(Array.isArray(R.options.container)){var I=document.createElement("div");A(I,R.options.container),C.container.parentNode.insertBefore(I,C.container),R.container=I}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;if(!(R.container instanceof HTMLElement)){var L;return L=w.error("Container required for toolbar",R.options),b(R,L)}return R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(P){R.addHandler(P,R.options.handlers[P])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(P){R.attach(P)}),R.quill.on(c.default.events.EDITOR_CHANGE,function(P,D){P===c.default.events.SELECTION_CHANGE&&R.update(D)}),R.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var P=R.quill.selection.getRange(),D=o(P,1),U=D[0];R.update(U)}),R}return s(E,[{key:"addHandler",value:function(N,R){this.handlers[N]=R}},{key:"attach",value:function(N){var R=this,I=[].find.call(N.classList,function(P){return P.indexOf("ql-")===0});if(!!I){if(I=I.slice("ql-".length),N.tagName==="BUTTON"&&N.setAttribute("type","button"),this.handlers[I]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[I]==null){w.warn("ignoring attaching to disabled format",I,N);return}if(d.default.query(I)==null){w.warn("ignoring attaching to nonexistent format",I,N);return}}var L=N.tagName==="SELECT"?"change":"click";N.addEventListener(L,function(P){var D=void 0;if(N.tagName==="SELECT"){if(N.selectedIndex<0)return;var U=N.options[N.selectedIndex];U.hasAttribute("selected")?D=!1:D=U.value||!1}else N.classList.contains("ql-active")?D=!1:D=N.value||!N.hasAttribute("value"),P.preventDefault();R.quill.focus();var M=R.quill.selection.getRange(),B=o(M,1),q=B[0];if(R.handlers[I]!=null)R.handlers[I].call(R,D);else if(d.default.query(I).prototype instanceof d.default.Embed){if(D=prompt("Enter "+I),!D)return;R.quill.updateContents(new a.default().retain(q.index).delete(q.length).insert(g({},I,D)),c.default.sources.USER)}else R.quill.format(I,D,c.default.sources.USER);R.update(q)}),this.controls.push([I,N])}}},{key:"update",value:function(N){var R=N==null?{}:this.quill.getFormat(N);this.controls.forEach(function(I){var L=o(I,2),P=L[0],D=L[1];if(D.tagName==="SELECT"){var U=void 0;if(N==null)U=null;else if(R[P]==null)U=D.querySelector("option[selected]");else if(!Array.isArray(R[P])){var M=R[P];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),U=D.querySelector('option[value="'+M+'"]')}U==null?(D.value="",D.selectedIndex=-1):U.selected=!0}else if(N==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var B=R[P]===D.getAttribute("value")||R[P]!=null&&R[P].toString()===D.getAttribute("value")||R[P]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",B)}else D.classList.toggle("ql-active",R[P]!=null)})}}]),E}(y.default);S.DEFAULTS={};function O(x,E,C){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+E),C!=null&&(N.value=C),x.appendChild(N)}function A(x,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(C){var N=document.createElement("span");N.classList.add("ql-formats"),C.forEach(function(R){if(typeof R=="string")O(N,R);else{var I=Object.keys(R)[0],L=R[I];Array.isArray(L)?T(N,I,L):O(N,I,L)}}),x.appendChild(N)})}function T(x,E,C){var N=document.createElement("select");N.classList.add("ql-"+E),C.forEach(function(R){var I=document.createElement("option");R!==!1?I.setAttribute("value",R):I.setAttribute("selected","selected"),N.appendChild(I)}),x.appendChild(N)}S.DEFAULTS={container:null,handlers:{clean:function(){var E=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var N=this.quill.getFormat();Object.keys(N).forEach(function(R){d.default.query(R,d.default.Scope.INLINE)!=null&&E.quill.format(R,!1)})}else this.quill.removeFormat(C,c.default.sources.USER)},direction:function(E){var C=this.quill.getFormat().align;E==="rtl"&&C==null?this.quill.format("align","right",c.default.sources.USER):!E&&C==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",E,c.default.sources.USER)},indent:function(E){var C=this.quill.getSelection(),N=this.quill.getFormat(C),R=parseInt(N.indent||0);if(E==="+1"||E==="-1"){var I=E==="+1"?1:-1;N.direction==="rtl"&&(I*=-1),this.quill.format("indent",R+I,c.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,c.default.sources.USER)},list:function(E){var C=this.quill.getSelection(),N=this.quill.getFormat(C);E==="check"?N.list==="checked"||N.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",E,c.default.sources.USER)}}},i.default=S,i.addControls=A},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(m,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),s=function v(m,y,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,y,p)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(p)}},l=e(28),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(y,p){d(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return g.label.innerHTML=p,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),g}return o(m,[{key:"buildItem",value:function(p){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,p);return g.style.backgroundColor=p.getAttribute("value")||"",g}},{key:"selectItem",value:function(p,g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,g);var _=this.label.querySelector(".ql-color-label"),b=p&&p.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=b:_.style.fill=b)}}]),m}(a.default);i.default=h},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(m,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),s=function v(m,y,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,y,p)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(p)}},l=e(28),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(y,p){d(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=p[_.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(m,[{key:"selectItem",value:function(p,g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,p,g),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),m}(a.default);i.default=h},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function a(u,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,d,f){return d&&a(u.prototype,d),f&&a(u,f),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function a(u,d){var f=this;s(this,a),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,c=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),m=0;if(v.right>h.right&&(m=h.right-v.right,this.root.style.left=f+m+"px"),v.left<h.left&&(m=h.left-v.left,this.root.style.left=f+m+"px"),v.bottom>h.bottom){var y=v.bottom-v.top,p=d.bottom-d.top+y;this.root.style.top=c-p+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();i.default=l},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function T(x,E){var C=[],N=!0,R=!1,I=void 0;try{for(var L=x[Symbol.iterator](),P;!(N=(P=L.next()).done)&&(C.push(P.value),!(E&&C.length===E));N=!0);}catch(D){R=!0,I=D}finally{try{!N&&L.return&&L.return()}finally{if(R)throw I}}return C}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return T(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(x,E,C){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,E);if(N===void 0){var R=Object.getPrototypeOf(x);return R===null?void 0:T(R,E,C)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(C)}},l=function(){function T(x,E){for(var C=0;C<E.length;C++){var N=E[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,E,C){return E&&T(x.prototype,E),C&&T(x,C),x}}(),a=e(3),u=_(a),d=e(8),f=_(d),c=e(43),h=_(c),v=e(27),m=_(v),y=e(15),p=e(41),g=_(p);function _(T){return T&&T.__esModule?T:{default:T}}function b(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function k(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:T}function w(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(T){w(x,T);function x(E,C){b(this,x),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var N=k(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,C));return N.quill.container.classList.add("ql-snow"),N}return l(x,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),g.default),this.tooltip=new A(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,R){C.handlers.link.call(C,!R.format.link)})}}]),x}(h.default);O.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var E=this.quill.getSelection();if(E==null||E.length==0)return;var C=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var N=this.quill.theme.tooltip;N.edit("link",C)}else this.quill.format("link",!1)}}}}});var A=function(T){w(x,T);function x(E,C){b(this,x);var N=k(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,C));return N.preview=N.root.querySelector("a.ql-preview"),N}return l(x,[{key:"listen",value:function(){var C=this;s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(C.linkRange!=null){var R=C.linkRange;C.restoreFocus(),C.quill.formatText(R,"link",!1,f.default.sources.USER),delete C.linkRange}N.preventDefault(),C.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(N,R,I){if(N!=null){if(N.length===0&&I===f.default.sources.USER){var L=C.quill.scroll.descendant(m.default,N.index),P=o(L,2),D=P[0],U=P[1];if(D!=null){C.linkRange=new y.Range(N.index-U,D.length());var M=m.default.formats(D.domNode);C.preview.textContent=M,C.preview.setAttribute("href",M),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(c.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=O},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(29),s=J(o),l=e(36),a=e(38),u=e(64),d=e(65),f=J(d),c=e(66),h=J(c),v=e(67),m=J(v),y=e(37),p=e(26),g=e(39),_=e(40),b=e(56),k=J(b),w=e(68),S=J(w),O=e(27),A=J(O),T=e(69),x=J(T),E=e(70),C=J(E),N=e(71),R=J(N),I=e(72),L=J(I),P=e(73),D=J(P),U=e(13),M=J(U),B=e(74),q=J(B),z=e(75),j=J(z),F=e(57),H=J(F),W=e(41),V=J(W),X=e(28),Q=J(X),ie=e(59),$=J(ie),G=e(60),K=J(G),ee=e(61),re=J(ee),Y=e(108),Z=J(Y),te=e(62),ne=J(te);function J(le){return le&&le.__esModule?le:{default:le}}s.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":l.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":u.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":g.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":M.default,"formats/header":h.default,"formats/list":m.default,"formats/bold":k.default,"formats/code":U.Code,"formats/italic":S.default,"formats/link":A.default,"formats/script":x.default,"formats/strike":C.default,"formats/underline":R.default,"formats/image":L.default,"formats/video":D.default,"formats/list/item":v.ListItem,"modules/formula":q.default,"modules/syntax":j.default,"modules/toolbar":H.default,"themes/bubble":Z.default,"themes/snow":ne.default,"ui/icons":V.default,"ui/picker":Q.default,"ui/icon-picker":K.default,"ui/color-picker":$.default,"ui/tooltip":re.default},!0),i.default=s.default},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var o=function(){function m(y,p){for(var g=0;g<p.length;g++){var _=p[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,p,g){return p&&m(y.prototype,p),g&&m(y,g),y}}(),s=function m(y,p,g){y===null&&(y=Function.prototype);var _=Object.getOwnPropertyDescriptor(y,p);if(_===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:m(b,p,g)}else{if("value"in _)return _.value;var k=_.get;return k===void 0?void 0:k.call(g)}},l=e(0),a=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function c(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){c(y,m);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"add",value:function(g,_){if(_==="+1"||_==="-1"){var b=this.value(g)||0;_=_==="+1"?b+1:b-1}return _===0?(this.remove(g),!0):s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"add",this).call(this,g,_)}},{key:"canAdd",value:function(g,_){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,g,_)||s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"canAdd",this).call(this,g,parseInt(_))}},{key:"value",value:function(g){return parseInt(s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,g))||void 0}}]),y}(a.default.Attributor.Class),v=new h("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=v},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(4),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",i.default=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function h(v,m){for(var y=0;y<m.length;y++){var p=m[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,m,y){return m&&h(v.prototype,m),y&&h(v,y),v}}(),s=e(4),l=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function u(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function d(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function f(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var c=function(h){f(v,h);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"formats",value:function(y){return this.tagName.indexOf(y.tagName)+1}}]),v}(l.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],i.default=c},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var o=function(){function b(k,w){for(var S=0;S<w.length;S++){var O=w[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,w,S){return w&&b(k.prototype,w),S&&b(k,S),k}}(),s=function b(k,w,S){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,w);if(O===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:b(A,w,S)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(S)}},l=e(0),a=h(l),u=e(4),d=h(u),f=e(25),c=h(f);function h(b){return b&&b.__esModule?b:{default:b}}function v(b,k,w){return k in b?Object.defineProperty(b,k,{value:w,enumerable:!0,configurable:!0,writable:!0}):b[k]=w,b}function m(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}function y(b,k){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:b}function p(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);b.prototype=Object.create(k&&k.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(b,k):b.__proto__=k)}var g=function(b){p(k,b);function k(){return m(this,k),y(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"format",value:function(S,O){S===_.blotName&&!O?this.replaceWith(a.default.create(this.statics.scope)):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,S,O)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,O){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,O),this):(this.parent.unwrap(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,S,O))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(k.__proto__||Object.getPrototypeOf(k),"formats",this).call(this,S)}}]),k}(d.default);g.blotName="list-item",g.tagName="LI";var _=function(b){p(k,b),o(k,null,[{key:"create",value:function(S){var O=S==="ordered"?"OL":"UL",A=s(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,O);return(S==="checked"||S==="unchecked")&&A.setAttribute("data-checked",S==="checked"),A}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function k(w){m(this,k);var S=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w)),O=function(T){if(T.target.parentNode===w){var x=S.statics.formats(w),E=a.default.find(T.target);x==="checked"?E.format("list","unchecked"):x==="unchecked"&&E.format("list","checked")}};return w.addEventListener("touchstart",O),w.addEventListener("mousedown",O),S}return o(k,[{key:"format",value:function(S,O){this.children.length>0&&this.children.tail.format(S,O)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,O){if(S instanceof g)s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,S,O);else{var A=O==null?this.length():O.offset(this),T=this.split(A);T.parent.insertBefore(S,T)}}},{key:"optimize",value:function(S){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,S);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var O=a.default.create(this.statics.defaultChild);S.moveChildren(O),this.appendChild(O)}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,S)}}]),k}(c.default);_.blotName="list",_.scope=a.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[g],i.ListItem=g,i.default=_},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(56),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],i.default=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(m,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,p){return y&&v(m.prototype,y),p&&v(m,p),m}}(),s=function v(m,y,p){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:v(_,y,p)}else{if("value"in g)return g.value;var b=g.get;return b===void 0?void 0:b.call(p)}},l=e(6),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function f(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function c(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var h=function(v){c(m,v);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),m}(a.default);h.blotName="script",h.tagName=["SUB","SUP"],i.default=h},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(6),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",i.default=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=e(6),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",i.default=f},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(p,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,_){return g&&y(p.prototype,g),_&&y(p,_),p}}(),s=function y(p,g,_){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,g);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:y(k,g,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},l=e(0),a=d(l),u=e(27);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function c(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function h(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var v=["alt","height","width"],m=function(y){h(p,y);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return typeof _=="string"&&b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,k){return _.hasAttribute(k)&&(b[k]=_.getAttribute(k)),b},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(a.default.Embed);m.blotName="image",m.tagName="IMG",i.default=m},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(p,g){for(var _=0;_<g.length;_++){var b=g[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,_){return g&&y(p.prototype,g),_&&y(p,_),p}}(),s=function y(p,g,_){p===null&&(p=Function.prototype);var b=Object.getOwnPropertyDescriptor(p,g);if(b===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:y(k,g,_)}else{if("value"in b)return b.value;var w=b.get;return w===void 0?void 0:w.call(_)}},l=e(4),a=e(27),u=d(a);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function c(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function h(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var v=["height","width"],m=function(y){h(p,y);function p(){return f(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,_);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,k){return _.hasAttribute(k)&&(b[k]=_.getAttribute(k)),b},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),p}(l.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",i.default=m},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var o=function(){function _(b,k){for(var w=0;w<k.length;w++){var S=k[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,k,w){return k&&_(b.prototype,k),w&&_(b,w),b}}(),s=function _(b,k,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,k);if(S===void 0){var O=Object.getPrototypeOf(b);return O===null?void 0:_(O,k,w)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(w)}},l=e(35),a=h(l),u=e(5),d=h(u),f=e(9),c=h(f);function h(_){return _&&_.__esModule?_:{default:_}}function v(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function m(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function y(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var p=function(_){y(b,_);function b(){return v(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,null,[{key:"create",value:function(w){var S=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w);return typeof w=="string"&&(window.katex.render(w,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",w)),S}},{key:"value",value:function(w){return w.getAttribute("data-value")}}]),b}(a.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var g=function(_){y(b,_),o(b,null,[{key:"register",value:function(){d.default.register(p,!0)}}]);function b(){v(this,b);var k=m(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return b}(c.default);i.FormulaBlot=p,i.default=g},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var o=function(){function w(S,O){for(var A=0;A<O.length;A++){var T=O[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,O,A){return O&&w(S.prototype,O),A&&w(S,A),S}}(),s=function w(S,O,A){S===null&&(S=Function.prototype);var T=Object.getOwnPropertyDescriptor(S,O);if(T===void 0){var x=Object.getPrototypeOf(S);return x===null?void 0:w(x,O,A)}else{if("value"in T)return T.value;var E=T.get;return E===void 0?void 0:E.call(A)}},l=e(0),a=m(l),u=e(5),d=m(u),f=e(9),c=m(f),h=e(13),v=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function y(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function p(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function g(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var _=function(w){g(S,w);function S(){return y(this,S),p(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),S}(v.default);_.className="ql-syntax";var b=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),k=function(w){g(S,w),o(S,null,[{key:"register",value:function(){d.default.register(b,!0),d.default.register(_,!0)}}]);function S(O,A){y(this,S);var T=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,A));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){T.highlight(),x=null},T.options.interval)}),T.highlight(),T}return o(S,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(x){x.highlight(A.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),S}(c.default);k.DEFAULTS={highlight:function(){return window.hljs==null?null:function(w){var S=window.hljs.highlightAuto(w);return S.value}}(),interval:1e3},i.CodeBlock=_,i.CodeToken=b,i.default=k},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var o=function S(O,A,T){O===null&&(O=Function.prototype);var x=Object.getOwnPropertyDescriptor(O,A);if(x===void 0){var E=Object.getPrototypeOf(O);return E===null?void 0:S(E,A,T)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(T)}},s=function(){function S(O,A){for(var T=0;T<A.length;T++){var x=A[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(O,x.key,x)}}return function(O,A,T){return A&&S(O.prototype,A),T&&S(O,T),O}}(),l=e(3),a=y(l),u=e(8),d=y(u),f=e(43),c=y(f),h=e(15),v=e(41),m=y(v);function y(S){return S&&S.__esModule?S:{default:S}}function p(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function g(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function _(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(S){_(O,S);function O(A,T){p(this,O),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=b);var x=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,T));return x.quill.container.classList.add("ql-bubble"),x}return s(O,[{key:"extendToolbar",value:function(T){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),m.default)}}]),O}(c.default);k.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(S){_(O,S);function O(A,T){p(this,O);var x=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,A,T));return x.quill.on(d.default.events.EDITOR_CHANGE,function(E,C,N,R){if(E===d.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&R===d.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var I=x.quill.getLines(C.index,C.length);if(I.length===1)x.position(x.quill.getBounds(C));else{var L=I[I.length-1],P=x.quill.getIndex(L),D=Math.min(L.length()-1,C.index+C.length-P),U=x.quill.getBounds(new h.Range(P,D));x.position(U)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return s(O,[{key:"listen",value:function(){var T=this;o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var x=T.quill.getSelection();x!=null&&T.position(T.quill.getBounds(x))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var x=o(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,T),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",x===0)return x;E.style.marginLeft=-1*x-E.offsetWidth/2+"px"}}]),O}(f.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=w,i.default=k},function(n,i,e){n.exports=e(63)}]).default})})(Bh);var Pl=Oi(Bh.exports),Dh=Object.prototype.toString,Fh=function(t){var n=Dh.call(t),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Dh.call(t.callee)==="[object Function]"),i},jh;if(!Object.keys){var Qo=Object.prototype.hasOwnProperty,Uh=Object.prototype.toString,mk=Fh,qh=Object.prototype.propertyIsEnumerable,yk=!qh.call({toString:null},"toString"),bk=qh.call(function(){},"prototype"),es=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ml=function(r){var t=r.constructor;return t&&t.prototype===r},_k={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},kk=function(){if(typeof window=="undefined")return!1;for(var r in window)try{if(!_k["$"+r]&&Qo.call(window,r)&&window[r]!==null&&typeof window[r]=="object")try{Ml(window[r])}catch{return!0}}catch{return!0}return!1}(),wk=function(r){if(typeof window=="undefined"||!kk)return Ml(r);try{return Ml(r)}catch{return!1}};jh=function(t){var n=t!==null&&typeof t=="object",i=Uh.call(t)==="[object Function]",e=mk(t),o=n&&Uh.call(t)==="[object String]",s=[];if(!n&&!i&&!e)throw new TypeError("Object.keys called on a non-object");var l=bk&&i;if(o&&t.length>0&&!Qo.call(t,0))for(var a=0;a<t.length;++a)s.push(String(a));if(e&&t.length>0)for(var u=0;u<t.length;++u)s.push(String(u));else for(var d in t)!(l&&d==="prototype")&&Qo.call(t,d)&&s.push(String(d));if(yk)for(var f=wk(t),c=0;c<es.length;++c)!(f&&es[c]==="constructor")&&Qo.call(t,es[c])&&s.push(es[c]);return s}}var Ek=jh,xk=Array.prototype.slice,Sk=Fh,Hh=Object.keys,ts=Hh?function(t){return Hh(t)}:Ek,zh=Object.keys;ts.shim=function(){if(Object.keys){var t=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);t||(Object.keys=function(i){return Sk(i)?zh(xk.call(i)):zh(i)})}else Object.keys=ts;return Object.keys||ts};var Tk=ts,Wh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var e=42;t[n]=e;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==e||s.enumerable!==!0)return!1}return!0},Ok=Wh,Ll=function(){return Ok()&&!!Symbol.toStringTag},$h=typeof Symbol!="undefined"&&Symbol,Ck=Wh,Ik=function(){return typeof $h!="function"||typeof Symbol!="function"||typeof $h("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Ck()},Ak="Function.prototype.bind called on incompatible ",Bl=Array.prototype.slice,Rk=Object.prototype.toString,Nk="[object Function]",Pk=function(t){var n=this;if(typeof n!="function"||Rk.call(n)!==Nk)throw new TypeError(Ak+n);for(var i=Bl.call(arguments,1),e,o=function(){if(this instanceof e){var d=n.apply(this,i.concat(Bl.call(arguments)));return Object(d)===d?d:this}else return n.apply(t,i.concat(Bl.call(arguments)))},s=Math.max(0,n.length-i.length),l=[],a=0;a<s;a++)l.push("$"+a);if(e=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var u=function(){};u.prototype=n.prototype,e.prototype=new u,u.prototype=null}return e},Mk=Pk,Dl=Function.prototype.bind||Mk,Lk=Dl,Bk=Lk.call(Function.call,Object.prototype.hasOwnProperty),Se,Ci=SyntaxError,Vh=Function,Mr=TypeError,Fl=function(r){try{return Vh('"use strict"; return ('+r+").constructor;")()}catch{}},Vn=Object.getOwnPropertyDescriptor;if(Vn)try{Vn({},"")}catch{Vn=null}var jl=function(){throw new Mr},Dk=Vn?function(){try{return arguments.callee,jl}catch{try{return Vn(arguments,"callee").get}catch{return jl}}}():jl,Lr=Ik(),pn=Object.getPrototypeOf||function(r){return r.__proto__},Br={},Fk=typeof Uint8Array=="undefined"?Se:pn(Uint8Array),Dr={"%AggregateError%":typeof AggregateError=="undefined"?Se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Se:ArrayBuffer,"%ArrayIteratorPrototype%":Lr?pn([][Symbol.iterator]()):Se,"%AsyncFromSyncIteratorPrototype%":Se,"%AsyncFunction%":Br,"%AsyncGenerator%":Br,"%AsyncGeneratorFunction%":Br,"%AsyncIteratorPrototype%":Br,"%Atomics%":typeof Atomics=="undefined"?Se:Atomics,"%BigInt%":typeof BigInt=="undefined"?Se:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Se:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Se:FinalizationRegistry,"%Function%":Vh,"%GeneratorFunction%":Br,"%Int8Array%":typeof Int8Array=="undefined"?Se:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Se:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lr?pn(pn([][Symbol.iterator]())):Se,"%JSON%":typeof JSON=="object"?JSON:Se,"%Map%":typeof Map=="undefined"?Se:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Lr?Se:pn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Se:Promise,"%Proxy%":typeof Proxy=="undefined"?Se:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Se:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Lr?Se:pn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lr?pn(""[Symbol.iterator]()):Se,"%Symbol%":Lr?Symbol:Se,"%SyntaxError%":Ci,"%ThrowTypeError%":Dk,"%TypedArray%":Fk,"%TypeError%":Mr,"%Uint8Array%":typeof Uint8Array=="undefined"?Se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Se:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Se:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Se:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Se:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Se:WeakSet},jk=function r(t){var n;if(t==="%AsyncFunction%")n=Fl("async function () {}");else if(t==="%GeneratorFunction%")n=Fl("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=Fl("async function* () {}");else if(t==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var e=r("%AsyncGenerator%");e&&(n=pn(e.prototype))}return Dr[t]=n,n},Kh={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ns=Dl,rs=Bk,Uk=ns.call(Function.call,Array.prototype.concat),qk=ns.call(Function.apply,Array.prototype.splice),Gh=ns.call(Function.call,String.prototype.replace),is=ns.call(Function.call,String.prototype.slice),Hk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zk=/\\(\\)?/g,Wk=function(t){var n=is(t,0,1),i=is(t,-1);if(n==="%"&&i!=="%")throw new Ci("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&n!=="%")throw new Ci("invalid intrinsic syntax, expected opening `%`");var e=[];return Gh(t,Hk,function(o,s,l,a){e[e.length]=l?Gh(a,zk,"$1"):s||o}),e},$k=function(t,n){var i=t,e;if(rs(Kh,i)&&(e=Kh[i],i="%"+e[0]+"%"),rs(Dr,i)){var o=Dr[i];if(o===Br&&(o=jk(i)),typeof o=="undefined"&&!n)throw new Mr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:e,name:i,value:o}}throw new Ci("intrinsic "+t+" does not exist!")},Yh=function(t,n){if(typeof t!="string"||t.length===0)throw new Mr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Mr('"allowMissing" argument must be a boolean');var i=Wk(t),e=i.length>0?i[0]:"",o=$k("%"+e+"%",n),s=o.name,l=o.value,a=!1,u=o.alias;u&&(e=u[0],qk(i,Uk([0,1],u)));for(var d=1,f=!0;d<i.length;d+=1){var c=i[d],h=is(c,0,1),v=is(c,-1);if((h==='"'||h==="'"||h==="`"||v==='"'||v==="'"||v==="`")&&h!==v)throw new Ci("property names with quotes must have matching quotes");if((c==="constructor"||!f)&&(a=!0),e+="."+c,s="%"+e+"%",rs(Dr,s))l=Dr[s];else if(l!=null){if(!(c in l)){if(!n)throw new Mr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Vn&&d+1>=i.length){var m=Vn(l,c);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?l=m.get:l=l[c]}else f=rs(l,c),l=l[c];f&&!a&&(Dr[s]=l)}}return l},os={exports:{}};(function(r){var t=Dl,n=Yh,i=n("%Function.prototype.apply%"),e=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(e,i),s=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),a=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}r.exports=function(f){var c=o(t,e,arguments);if(s&&l){var h=s(c,"length");h.configurable&&l(c,"length",{value:1+a(0,f.length-(arguments.length-1))})}return c};var u=function(){return o(t,i,arguments)};l?l(r.exports,"apply",{value:u}):r.exports.apply=u})(os);var Xh=Yh,Zh=os.exports,Vk=Zh(Xh("String.prototype.indexOf")),Jh=function(t,n){var i=Xh(t,!!n);return typeof i=="function"&&Vk(t,".prototype.")>-1?Zh(i):i},Kk=Ll(),Gk=Jh,Ul=Gk("Object.prototype.toString"),ql=function(t){return Kk&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:Ul(t)==="[object Arguments]"},Yk=function(t){return ql(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Ul(t)!=="[object Array]"&&Ul(t.callee)==="[object Function]"};(function(){return ql(arguments)})();ql.isLegacyArguments=Yk;var Xk=Tk,Zk=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Jk=Object.prototype.toString,Qk=Array.prototype.concat,Hl=Object.defineProperty,ew=function(r){return typeof r=="function"&&Jk.call(r)==="[object Function]"},tw=function(){var r={};try{Hl(r,"x",{enumerable:!1,value:r});for(var t in r)return!1;return r.x===r}catch{return!1}},Qh=Hl&&tw(),nw=function(r,t,n,i){t in r&&(!ew(i)||!i())||(Qh?Hl(r,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):r[t]=n)},ep=function(r,t){var n=arguments.length>2?arguments[2]:{},i=Xk(t);Zk&&(i=Qk.call(i,Object.getOwnPropertySymbols(t)));for(var e=0;e<i.length;e+=1)nw(r,i[e],t[i[e]],n[i[e]])};ep.supportsDescriptors=!!Qh;var Ii=ep,tp=function(r){return r!==r},np=function(t,n){return t===0&&n===0?1/t==1/n:!!(t===n||tp(t)&&tp(n))},rw=np,rp=function(){return typeof Object.is=="function"?Object.is:rw},iw=rp,ow=Ii,sw=function(){var t=iw();return ow(Object,{is:t},{is:function(){return Object.is!==t}}),t},aw=Ii,lw=os.exports,uw=np,ip=rp,cw=sw,fw=lw(ip(),Object);aw(fw,{getPolyfill:ip,implementation:uw,shim:cw});var zl=Jh,dw=Ll(),op,sp;if(dw){zl("Object.prototype.hasOwnProperty"),zl("RegExp.prototype.exec"),op={};var Wl=function(){throw op};sp={toString:Wl,valueOf:Wl},typeof Symbol.toPrimitive=="symbol"&&(sp[Symbol.toPrimitive]=Wl)}zl("Object.prototype.toString");var hw=Object,pw=TypeError,ap=function(){if(this!=null&&this!==hw(this))throw new pw("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},gw=ap,vw=Ii.supportsDescriptors,mw=Object.getOwnPropertyDescriptor,yw=TypeError,lp=function(){if(!vw)throw new yw("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if(/a/mig.flags==="gim"){var t=mw(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&typeof/a/.dotAll=="boolean")return t.get}return gw},bw=Ii.supportsDescriptors,_w=lp,kw=Object.getOwnPropertyDescriptor,ww=Object.defineProperty,Ew=TypeError,up=Object.getPrototypeOf,xw=/a/,Sw=function(){if(!bw||!up)throw new Ew("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=_w(),n=up(xw),i=kw(n,"flags");return(!i||i.get!==t)&&ww(n,"flags",{configurable:!0,enumerable:!1,get:t}),t},Tw=Ii,Ow=os.exports,cp=ap,Cw=lp,Iw=Sw,Aw=Ow(cp);Tw(Aw,{getPolyfill:Cw,implementation:cp,shim:Iw});Ll();/*!
 * VueQuill @vueup/vue-quill v1.0.0-beta.7
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2021 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2021-06-06T15:38:42.116Z
 */const fp={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},Hx=Ks({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object],default:()=>{}},contentType:{type:String,default:"delta",validator:r=>["delta","html","text"].includes(r)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:r=>["snow","bubble",""].includes(r)},toolbar:{type:[String,Array,Object],required:!1,validator:r=>typeof r=="string"&&r!==""?r.charAt(0)==="#"?!0:Object.keys(fp).indexOf(r)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(r,t)=>{fc(()=>{o()}),dc(()=>{n=null});let n,i;const e=Ws(),o=()=>{var w;if(!!e.value){if(i=s(),r.modules)if(Array.isArray(r.modules))for(const S of r.modules)Pl.register(`modules/${S.name}`,S.module);else Pl.register(`modules/${r.modules.name}`,r.modules.module);n=new Pl(e.value,i),m(r.content),n.on("text-change",l),n.on("selection-change",u),n.on("editor-change",d),r.theme!=="bubble"&&e.value.classList.remove("ql-bubble"),r.theme!=="snow"&&e.value.classList.remove("ql-snow"),(w=n.getModule("toolbar"))===null||w===void 0||w.container.addEventListener("mousedown",S=>{S.preventDefault()}),t.emit("ready",n)}},s=()=>{const w={};if(r.theme!==""&&(w.theme=r.theme),r.readOnly&&(w.readOnly=r.readOnly),r.placeholder&&(w.placeholder=r.placeholder),r.toolbar&&r.toolbar!==""&&(w.modules={toolbar:(()=>{if(typeof r.toolbar=="object")return r.toolbar;if(typeof r.toolbar=="string")return r.toolbar.charAt(0)==="#"?r.toolbar:fp[r.toolbar]})()}),r.modules){const S=(()=>{var O,A;const T={};if(Array.isArray(r.modules))for(const x of r.modules)T[x.name]=(O=x.options)!==null&&O!==void 0?O:{};else T[r.modules.name]=(A=r.modules.options)!==null&&A!==void 0?A:{};return T})();Object.assign(w.modules,S)}return Object.assign({},r.globalOptions,r.options,w)},l=(w,S,O)=>{t.emit("update:content",v()),t.emit("textChange",{delta:w,oldContents:S,source:O})},a=Ws(),u=(w,S,O)=>{a.value=!!(n==null?void 0:n.hasFocus()),t.emit("selectionChange",{range:w,oldRange:S,source:O})};cr(a,w=>{w?t.emit("focus",e):t.emit("blur",e)});const d=(...w)=>{w[0]==="text-change"&&t.emit("editorChange",{name:w[0],delta:w[1],oldContents:w[2],source:w[3]}),w[0]==="selection-change"&&t.emit("editorChange",{name:w[0],range:w[1],oldRange:w[2],source:w[3]})},f=()=>e.value,c=()=>{var w;return(w=n==null?void 0:n.getModule("toolbar"))===null||w===void 0?void 0:w.container},h=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet, 
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(w,S)=>r.contentType==="html"?g():r.contentType==="text"?y(w,S):n==null?void 0:n.getContents(w,S),m=(w,S="api")=>{r.contentType==="html"?_(w):r.contentType==="text"?p(w,S):n==null||n.setContents(w,S)},y=(w,S)=>{var O;return(O=n==null?void 0:n.getText(w,S))!==null&&O!==void 0?O:""},p=(w,S="api")=>{n==null||n.setText(w,S)},g=()=>{var w;return(w=n==null?void 0:n.root.innerHTML)!==null&&w!==void 0?w:""},_=w=>{n&&(n.root.innerHTML=w)},b=(w,S="api")=>{const O=n==null?void 0:n.clipboard.convert(w);O&&(n==null||n.setContents(O,S))},k=()=>{ua(()=>{var w;!t.slots.toolbar&&n&&((w=n.getModule("toolbar"))===null||w===void 0||w.container.remove()),o()})};return cr(()=>r.enable,w=>{n&&n.enable(w)}),{editor:e,getEditor:f,getToolbar:c,getQuill:h,getContents:v,setContents:m,getHTML:g,setHTML:_,pasteHTML:b,getText:y,setText:p,reinit:k}},render(){var r,t;return[(t=(r=this.$slots).toolbar)===null||t===void 0?void 0:t.call(r),fa("div",Iu({ref:"editor"},this.$attrs))]}});var dp={exports:{}};/*! For license information please see editor.js.LICENSE.txt */(function(r,t){(function(n,i){r.exports=i()})(window,function(){return function(n){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=n,e.c=i,e.d=function(o,s,l){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},e.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)e.d(l,a,function(u){return o[u]}.bind(null,a));return l},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="",e(e.s=186)}([function(n,i,e){var o=e(10),s=e(17),l=e(27),a=e(21),u=e(31),d=function(f,c,h){var v,m,y,p,g=f&d.F,_=f&d.G,b=f&d.S,k=f&d.P,w=f&d.B,S=_?o:b?o[c]||(o[c]={}):(o[c]||{}).prototype,O=_?s:s[c]||(s[c]={}),A=O.prototype||(O.prototype={});for(v in _&&(h=c),h)y=((m=!g&&S&&S[v]!==void 0)?S:h)[v],p=w&&m?u(y,o):k&&typeof y=="function"?u(Function.call,y):y,S&&a(S,v,y,f&d.U),O[v]!=y&&l(O,v,p),k&&A[v]!=y&&(A[v]=y)};o.core=s,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,n.exports=d},function(n,i){n.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(n,i){n.exports=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,i){function e(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&e(o.prototype,s),l&&e(o,l),o}},function(n,i){function e(o){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},e(o)}n.exports=e},function(n,i,e){var o=e(110);n.exports=function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),l&&o(s,l)}},function(n,i,e){var o=e(80),s=e(149);n.exports=function(l,a){return!a||o(a)!=="object"&&typeof a!="function"?s(l):a}},function(n,i,e){var o,s,l;s=[i,e(23),e(370),e(24),e(398),e(15)],(l=typeof(o=function(a,u,d,f,c,h){var v,m=e(1);function y(T,x){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"log",C=arguments.length>3?arguments[3]:void 0,N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"color: inherit";if("console"in window&&window.console[E]){var R=["info","log","warn","error"].includes(E),I=[];switch(y.logLevel){case v.ERROR:if(E!=="error")return;break;case v.WARN:if(!["error","warn"].includes(E))return;break;case v.INFO:if(!R||T)return}C&&I.push(C);var L="Editor.js ".concat("2.22.2"),P=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;T&&(R?(I.unshift(P,N),x="%c".concat(L,"%c ").concat(x)):x="( ".concat(L," )").concat(x));try{if(R)if(C){var D;(D=console)[E].apply(D,["".concat(x," %o")].concat(I))}else{var U;(U=console)[E].apply(U,[x].concat(I))}else console[E](x)}catch{}}}Object.defineProperty(a,"__esModule",{value:!0}),a.setLogLevel=function(T){y.logLevel=T},a.typeOf=_,a.isFunction=b,a.isObject=k,a.isString=function(T){return _(T)==="string"},a.isBoolean=function(T){return _(T)==="boolean"},a.isNumber=function(T){return _(T)==="number"},a.isUndefined=w,a.isClass=function(T){return b(T)&&/^\s*class\s+/.test(T.toString())},a.isEmpty=function(T){return!T||Object.keys(T).length===0&&T.constructor===Object},a.isPromise=function(T){return Promise.resolve(T)===T},a.isPrintableKey=function(T){return T>47&&T<58||T===32||T===13||T===229||T>64&&T<91||T>95&&T<112||T>185&&T<193||T>218&&T<223},a.sequence=function(T){return S.apply(this,arguments)},a.array=function(T){return Array.prototype.slice.call(T)},a.delay=function(T,x){return function(){var E=this,C=arguments;window.setTimeout(function(){return T.apply(E,C)},x)}},a.getFileExtension=function(T){return T.name.split(".").pop()},a.isValidMimeType=function(T){return/^[-\w]+\/([-+\w]+|\*)$/.test(T)},a.debounce=function(T,x,E){var C,N=this;return function(){for(var R=arguments.length,I=new Array(R),L=0;L<R;L++)I[L]=arguments[L];var P=N,D=function(){C=null,E||T.apply(P,I)},U=E&&!C;window.clearTimeout(C),C=window.setTimeout(D,x),U&&T.apply(P,I)}},a.copyTextToClipboard=function(T){var x=h.default.make("div","codex-editor-clipboard",{innerHTML:T});document.body.appendChild(x);var E=window.getSelection(),C=document.createRange();C.selectNode(x),window.getSelection().removeAllRanges(),E.addRange(C),document.execCommand("copy"),document.body.removeChild(x)},a.getUserOS=O,a.capitalize=function(T){return T[0].toUpperCase()+T.slice(1)},a.deepMerge=function T(x){for(var E=arguments.length,C=new Array(E>1?E-1:0),N=1;N<E;N++)C[N-1]=arguments[N];if(!C.length)return x;var R=C.shift();if(k(x)&&k(R))for(var I in R)k(R[I])?(x[I]||Object.assign(x,(0,d.default)({},I,{})),T(x[I],R[I])):Object.assign(x,(0,d.default)({},I,R[I]));return T.apply(void 0,[x].concat(C))},a.beautifyShortcut=function(T){var x=O();return T=T.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),T=x.mac?T.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):T.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},a.getValidUrl=function(T){try{return new URL(T).href}catch{}return T.substring(0,2)==="//"?window.location.protocol+T:window.location.origin+T},a.generateBlockId=function(){return(0,c.nanoid)(10)},a.openTab=function(T){window.open(T,"_blank")},a.generateId=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"".concat(T).concat(Math.floor(1e8*Math.random()).toString(16))},a.deprecationAssert=function(T,x,E){var C="\xAB".concat(x,"\xBB is deprecated and will be removed in the next major release. Please use the \xAB").concat(E,"\xBB instead.");T&&g(C,"warn")},a.cacheable=function(T,x,E){var C=E.value?"value":"get",N=E[C],R="#".concat(x,"Cache");if(E[C]=function(){if(this[R]===void 0){for(var L=arguments.length,P=new Array(L),D=0;D<L;D++)P[D]=arguments[D];this[R]=N.apply.apply(N,[this].concat(P))}return this[R]},C==="get"&&E.set){var I=E.set;E.set=function(L){delete T[R],I.apply(this,L)}}return E},a.isTouchSupported=a.logLabeled=a.log=a.mouseButtons=a.keyCodes=a.LogLevels=void 0,u=m(u),d=m(d),f=m(f),h=m(h),a.LogLevels=v,function(T){T.VERBOSE="VERBOSE",T.INFO="INFO",T.WARN="WARN",T.ERROR="ERROR"}(v||(a.LogLevels=v={})),a.keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},a.mouseButtons={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},y.logLevel=v.VERBOSE;var p=y.bind(window,!1);a.log=p;var g=y.bind(window,!0);function _(T){return Object.prototype.toString.call(T).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function b(T){return _(T)==="function"}function k(T){return _(T)==="object"}function w(T){return _(T)==="undefined"}function S(){return(S=(0,f.default)(u.default.mark(function T(x){var E,C,N,R,I=arguments;return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return R=function(){return(R=(0,f.default)(u.default.mark(function P(D,U,M){return u.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,D.function(D.data);case 3:return B.next=5,U(w(D.data)?{}:D.data);case 5:B.next=10;break;case 7:B.prev=7,B.t0=B.catch(0),M(w(D.data)?{}:D.data);case 10:case"end":return B.stop()}},P,null,[[0,7]])}))).apply(this,arguments)},N=function(P,D,U){return R.apply(this,arguments)},E=I.length>1&&I[1]!==void 0?I[1]:function(){},C=I.length>2&&I[2]!==void 0?I[2]:function(){},L.abrupt("return",x.reduce(function(){var P=(0,f.default)(u.default.mark(function D(U,M){return u.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,U;case 2:return B.abrupt("return",N(M,E,C));case 3:case"end":return B.stop()}},D)}));return function(D,U){return P.apply(this,arguments)}}(),Promise.resolve()));case 5:case"end":return L.stop()}},T)}))).apply(this,arguments)}function O(){var T={win:!1,mac:!1,x11:!1,linux:!1},x=Object.keys(T).find(function(E){return navigator.appVersion.toLowerCase().indexOf(E)!==-1});return x&&(T[x]=!0),T}a.logLabeled=g;var A="ontouchstart"in document.documentElement;a.isTouchSupported=A})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(80);function s(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return s=function(){return l},l}n.exports=function(l){if(l&&l.__esModule)return l;if(l===null||o(l)!=="object"&&typeof l!="function")return{default:l};var a=s();if(a&&a.has(l))return a.get(l);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in l)if(Object.prototype.hasOwnProperty.call(l,f)){var c=d?Object.getOwnPropertyDescriptor(l,f):null;c&&(c.get||c.set)?Object.defineProperty(u,f,c):u[f]=l[f]}return u.default=l,a&&a.set(l,u),u}},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(375)],(l=typeof(o=function(a,u,d,f){var c=e(1);function h(y){if(typeof Symbol=="undefined"||y[Symbol.iterator]==null){if(Array.isArray(y)||(y=function(S,O){if(S){if(typeof S=="string")return v(S,O);var A=Object.prototype.toString.call(S).slice(8,-1);return A==="Object"&&S.constructor&&(A=S.constructor.name),A==="Map"||A==="Set"?Array.from(A):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?v(S,O):void 0}}(y))){var p=0,g=function(){};return{s:g,n:function(){return p>=y.length?{done:!0}:{done:!1,value:y[p++]}},e:function(S){throw S},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,b,k=!0,w=!1;return{s:function(){_=y[Symbol.iterator]()},n:function(){var S=_.next();return k=S.done,S},e:function(S){w=!0,b=S},f:function(){try{k||_.return==null||_.return()}finally{if(w)throw b}}}}function v(y,p){(p==null||p>y.length)&&(p=y.length);for(var g=0,_=new Array(p);g<p;g++)_[g]=y[g];return _}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var m=function(){function y(p){var g=this,_=p.config,b=p.eventsDispatcher;if((0,u.default)(this,y),this.nodes={},this.listeners=new f.default,this.readOnlyMutableListeners={on:function(k,w,S){var O=arguments.length>3&&arguments[3]!==void 0&&arguments[3];g.mutableListenerIds.push(g.listeners.on(k,w,S,O))},clearAll:function(){var k,w=h(g.mutableListenerIds);try{for(w.s();!(k=w.n()).done;){var S=k.value;g.listeners.offById(S)}}catch(O){w.e(O)}finally{w.f()}g.mutableListenerIds=[]}},this.mutableListenerIds=[],(this instanceof y?this.constructor:void 0)===y)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=_,this.eventsDispatcher=b}return(0,d.default)(y,[{key:"removeAllNodes",value:function(){for(var p in this.nodes){var g=this.nodes[p];g instanceof HTMLElement&&g.remove()}}},{key:"state",set:function(p){this.Editor=p}},{key:"isRtl",get:function(){return this.config.i18n.direction==="rtl"}}]),y}();a.default=m,m.displayName="Module",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i){var e=n.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=e)},function(n,i){n.exports=function(e){try{return!!e()}catch{return!0}}},function(n,i,e){var o=e(13);n.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(n,i){n.exports=function(e){return typeof e=="object"?e!==null:typeof e=="function"}},function(n,i,e){var o=e(68)("wks"),s=e(44),l=e(10).Symbol,a=typeof l=="function";(n.exports=function(u){return o[u]||(o[u]=a&&l[u]||(a?l:s)("Symbol."+u))}).store=o},function(n,i,e){var o,s,l;s=[i,e(42),e(2),e(3),e(7)],(l=typeof(o=function(a,u,d,f,c){var h=e(8),v=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=v(u),d=v(d),f=v(f),c=h(c);var m=function(){function y(){(0,d.default)(this,y)}return(0,f.default)(y,null,[{key:"isSingleTag",value:function(p){return p.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(p.tagName)}},{key:"isLineBreakTag",value:function(p){return p&&p.tagName&&["BR","WBR"].includes(p.tagName)}},{key:"make",value:function(p){var g,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=document.createElement(p);for(var w in Array.isArray(_)?(g=k.classList).add.apply(g,(0,u.default)(_)):_&&k.classList.add(_),b)Object.prototype.hasOwnProperty.call(b,w)&&(k[w]=b[w]);return k}},{key:"text",value:function(p){return document.createTextNode(p)}},{key:"svg",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:14,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:14,b=document.createElementNS("http://www.w3.org/2000/svg","svg");return b.classList.add("icon","icon--"+p),b.setAttribute("width",g+"px"),b.setAttribute("height",_+"px"),b.innerHTML='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'.concat(p,'"></use>'),b}},{key:"append",value:function(p,g){Array.isArray(g)?g.forEach(function(_){return p.appendChild(_)}):p.appendChild(g)}},{key:"prepend",value:function(p,g){Array.isArray(g)?(g=g.reverse()).forEach(function(_){return p.prepend(_)}):p.prepend(g)}},{key:"swap",value:function(p,g){var _=document.createElement("div"),b=p.parentNode;b.insertBefore(_,p),b.insertBefore(p,g),b.insertBefore(g,_),b.removeChild(_)}},{key:"find",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,g=arguments.length>1?arguments[1]:void 0;return p.querySelector(g)}},{key:"get",value:function(p){return document.getElementById(p)}},{key:"findAll",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,g=arguments.length>1?arguments[1]:void 0;return p.querySelectorAll(g)}},{key:"findAllInputs",value:function(p){return c.array(p.querySelectorAll(y.allInputsSelector)).reduce(function(g,_){return y.isNativeInput(_)||y.containsOnlyInlineElements(_)?[].concat((0,u.default)(g),[_]):[].concat((0,u.default)(g),(0,u.default)(y.getDeepestBlockElements(_)))},[])}},{key:"getDeepestNode",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=g?"lastChild":"firstChild",b=g?"previousSibling":"nextSibling";if(p&&p.nodeType===Node.ELEMENT_NODE&&p[_]){var k=p[_];if(y.isSingleTag(k)&&!y.isNativeInput(k)&&!y.isLineBreakTag(k))if(k[b])k=k[b];else{if(!k.parentNode[b])return k.parentNode;k=k.parentNode[b]}return this.getDeepestNode(k,g)}return p}},{key:"isElement",value:function(p){return!c.isNumber(p)&&p&&p.nodeType&&p.nodeType===Node.ELEMENT_NODE}},{key:"isFragment",value:function(p){return!c.isNumber(p)&&p&&p.nodeType&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE}},{key:"isContentEditable",value:function(p){return p.contentEditable==="true"}},{key:"isNativeInput",value:function(p){return!(!p||!p.tagName)&&["INPUT","TEXTAREA"].includes(p.tagName)}},{key:"canSetCaret",value:function(p){var g=!0;if(y.isNativeInput(p))switch(p.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":g=!1}else g=y.isContentEditable(p);return g}},{key:"isNodeEmpty",value:function(p){return!(this.isSingleTag(p)&&!this.isLineBreakTag(p))&&(this.isElement(p)&&this.isNativeInput(p)?p.value:p.textContent.replace("\u200B","")).trim().length===0}},{key:"isLeaf",value:function(p){return!!p&&p.childNodes.length===0}},{key:"isEmpty",value:function(p){p.normalize();for(var g=[p];g.length>0;)if(p=g.shift()){if(this.isLeaf(p)&&!this.isNodeEmpty(p))return!1;p.childNodes&&g.push.apply(g,(0,u.default)(Array.from(p.childNodes)))}return!0}},{key:"isHTMLString",value:function(p){var g=y.make("div");return g.innerHTML=p,g.childElementCount>0}},{key:"getContentLength",value:function(p){return y.isNativeInput(p)?p.value.length:p.nodeType===Node.TEXT_NODE?p.length:p.textContent.length}},{key:"containsOnlyInlineElements",value:function(p){var g;return c.isString(p)?(g=document.createElement("div")).innerHTML=p:g=p,Array.from(g.children).every(function _(b){return!y.blockElements.includes(b.tagName.toLowerCase())&&Array.from(b.children).every(_)})}},{key:"getDeepestBlockElements",value:function(p){return y.containsOnlyInlineElements(p)?[p]:Array.from(p.children).reduce(function(g,_){return[].concat((0,u.default)(g),(0,u.default)(y.getDeepestBlockElements(_)))},[])}},{key:"getHolder",value:function(p){return c.isString(p)?document.getElementById(p):p}},{key:"isExtensionNode",value:function(p){return p&&["GRAMMARLY-EXTENSION"].includes(p.nodeName)}},{key:"isAnchor",value:function(p){return p.tagName.toLowerCase()==="a"}},{key:"allInputsSelector",get:function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(function(p){return'input[type="'.concat(p,'"]')}).join(", ")}},{key:"blockElements",get:function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tr","tfoot","ul","video"]}}]),y}();a.default=m,m.displayName="Dom",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(33),s=Math.min;n.exports=function(l){return l>0?s(o(l),9007199254740991):0}},function(n,i){var e=n.exports={version:"2.6.11"};typeof __e=="number"&&(__e=e)},function(n,i,e){n.exports=!e(11)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(n,i,e){var o=e(12),s=e(113),l=e(40),a=Object.defineProperty;i.f=e(18)?Object.defineProperty:function(u,d,f){if(o(u),d=l(d,!0),o(f),s)try{return a(u,d,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(u[d]=f.value),u}},function(n,i,e){var o=e(38);n.exports=function(s){return Object(o(s))}},function(n,i,e){var o=e(10),s=e(27),l=e(26),a=e(44)("src"),u=e(191),d=(""+u).split("toString");e(17).inspectSource=function(f){return u.call(f)},(n.exports=function(f,c,h,v){var m=typeof h=="function";m&&(l(h,"name")||s(h,"name",c)),f[c]!==h&&(m&&(l(h,a)||s(h,a,f[c]?""+f[c]:d.join(String(c)))),f===o?f[c]=h:v?f[c]?f[c]=h:s(f,c,h):(delete f[c],s(f,c,h)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[a]||u.call(this)})},function(n,i,e){var o=e(0),s=e(11),l=e(38),a=/"/g,u=function(d,f,c,h){var v=String(l(d)),m="<"+f;return c!==""&&(m+=" "+c+'="'+String(h).replace(a,"&quot;")+'"'),m+">"+v+"</"+f+">"};n.exports=function(d,f){var c={};c[d]=f(u),o(o.P+o.F*s(function(){var h=""[d]('"');return h!==h.toLowerCase()||h.split('"').length>3}),"String",c)}},function(n,i,e){n.exports=e(144)},function(n,i){function e(o,s,l,a,u,d,f){try{var c=o[d](f),h=c.value}catch(v){return void l(v)}c.done?s(h):Promise.resolve(h).then(a,u)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,u){var d=o.apply(s,l);function f(h){e(d,a,u,f,c,"next",h)}function c(h){e(d,a,u,f,c,"throw",h)}f(void 0)})}}},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(7),e(15)],(l=typeof(o=function(a,u,d,f,c){var h=e(8),v=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=v(u),d=v(d),f=h(f),c=v(c);var m=function(){function y(){(0,u.default)(this,y),this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}return(0,d.default)(y,[{key:"removeFakeBackground",value:function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}},{key:"setFakeBackground",value:function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}},{key:"save",value:function(){this.savedSelectionRange=y.range}},{key:"restore",value:function(){if(this.savedSelectionRange){var p=window.getSelection();p.removeAllRanges(),p.addRange(this.savedSelectionRange)}}},{key:"clearSaved",value:function(){this.savedSelectionRange=null}},{key:"collapseToEnd",value:function(){var p=window.getSelection(),g=document.createRange();g.selectNodeContents(p.focusNode),g.collapse(!1),p.removeAllRanges(),p.addRange(g)}},{key:"findParentTag",value:function(p,g){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,b=window.getSelection(),k=null;if(!b||!b.anchorNode||!b.focusNode)return null;var w=[b.anchorNode,b.focusNode];return w.forEach(function(S){for(var O=_;O>0&&S.parentNode&&(S.tagName!==p||(k=S,g&&S.classList&&!S.classList.contains(g)&&(k=null),!k));)S=S.parentNode,O--}),k}},{key:"expandToTag",value:function(p){var g=window.getSelection();g.removeAllRanges();var _=document.createRange();_.selectNodeContents(p),g.addRange(_)}}],[{key:"isSelectionAtEditor",value:function(p){if(!p)return!1;var g=p.anchorNode||p.focusNode;g&&g.nodeType===Node.TEXT_NODE&&(g=g.parentNode);var _=null;return g&&g instanceof Element&&(_=g.closest(".".concat(y.CSS.editorZone))),!!_&&_.nodeType===Node.ELEMENT_NODE}},{key:"isRangeAtEditor",value:function(p){if(p){var g=p.startContainer;g&&g.nodeType===Node.TEXT_NODE&&(g=g.parentNode);var _=null;return g&&g instanceof Element&&(_=g.closest(".".concat(y.CSS.editorZone))),!!_&&_.nodeType===Node.ELEMENT_NODE}}},{key:"getRangeFromSelection",value:function(p){return p&&p.rangeCount?p.getRangeAt(0):null}},{key:"get",value:function(){return window.getSelection()}},{key:"setCursor",value:function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=document.createRange(),b=window.getSelection();return c.default.isNativeInput(p)?c.default.canSetCaret(p)?(p.focus(),p.selectionStart=p.selectionEnd=g,p.getBoundingClientRect()):void 0:(_.setStart(p,g),_.setEnd(p,g),b.removeAllRanges(),b.addRange(_),_.getBoundingClientRect())}},{key:"addFakeCursor",value:function(p){var g=y.range,_=c.default.make("span","codex-editor__fake-cursor");_.dataset.mutationFree="true",!g||p&&!p.contains(g.startContainer)||(g.collapse(),g.insertNode(_))}},{key:"removeFakeCursor",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body,g=c.default.find(p,".codex-editor__fake-cursor");g&&g.remove()}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}},{key:"anchorNode",get:function(){var p=window.getSelection();return p?p.anchorNode:null}},{key:"anchorElement",get:function(){var p=window.getSelection();if(!p)return null;var g=p.anchorNode;return g?c.default.isElement(g)?g:g.parentElement:null}},{key:"anchorOffset",get:function(){var p=window.getSelection();return p?p.anchorOffset:null}},{key:"isCollapsed",get:function(){var p=window.getSelection();return p?p.isCollapsed:null}},{key:"isAtEditor",get:function(){return this.isSelectionAtEditor(y.get())}},{key:"isSelectionExists",get:function(){return!!y.get().anchorNode}},{key:"range",get:function(){return this.getRangeFromSelection(this.get())}},{key:"rect",get:function(){var p,g=document.selection,_={x:0,y:0,width:0,height:0};if(g&&g.type!=="Control")return p=(g=g).createRange(),_.x=p.boundingLeft,_.y=p.boundingTop,_.width=p.boundingWidth,_.height=p.boundingHeight,_;if(!window.getSelection)return f.log("Method window.getSelection is not supported","warn"),_;if((g=window.getSelection()).rangeCount===null||isNaN(g.rangeCount))return f.log("Method SelectionUtils.rangeCount is not supported","warn"),_;if(g.rangeCount===0)return _;if((p=g.getRangeAt(0).cloneRange()).getBoundingClientRect&&(_=p.getBoundingClientRect()),_.x===0&&_.y===0){var b=document.createElement("span");if(b.getBoundingClientRect){b.appendChild(document.createTextNode("\u200B")),p.insertNode(b),_=b.getBoundingClientRect();var k=b.parentNode;k.removeChild(b),k.normalize()}}return _}},{key:"text",get:function(){return window.getSelection?window.getSelection().toString():""}}]),y}();a.default=m,m.displayName="SelectionUtils",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i){var e={}.hasOwnProperty;n.exports=function(o,s){return e.call(o,s)}},function(n,i,e){var o=e(19),s=e(43);n.exports=e(18)?function(l,a,u){return o.f(l,a,s(1,u))}:function(l,a,u){return l[a]=u,l}},function(n,i,e){var o=e(61),s=e(38);n.exports=function(l){return o(s(l))}},function(n,i,e){var o=e(11);n.exports=function(s,l){return!!s&&o(function(){l?s.call(null,function(){},1):s.call(null)})}},function(n,i,e){var o=e(360),s=e(361),l=e(145),a=e(362);n.exports=function(u,d){return o(u)||s(u,d)||l(u,d)||a()}},function(n,i,e){var o=e(32);n.exports=function(s,l,a){if(o(s),l===void 0)return s;switch(a){case 1:return function(u){return s.call(l,u)};case 2:return function(u,d){return s.call(l,u,d)};case 3:return function(u,d,f){return s.call(l,u,d,f)}}return function(){return s.apply(l,arguments)}}},function(n,i){n.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(n,i){var e=Math.ceil,o=Math.floor;n.exports=function(s){return isNaN(s=+s)?0:(s>0?o:e)(s)}},function(n,i,e){var o=e(62),s=e(43),l=e(28),a=e(40),u=e(26),d=e(113),f=Object.getOwnPropertyDescriptor;i.f=e(18)?f:function(c,h){if(c=l(c),h=a(h,!0),d)try{return f(c,h)}catch{}if(u(c,h))return s(!o.f.call(c,h),c[h])}},function(n,i,e){var o=e(0),s=e(17),l=e(11);n.exports=function(a,u){var d=(s.Object||{})[a]||Object[a],f={};f[a]=u(d),o(o.S+o.F*l(function(){d(1)}),"Object",f)}},function(n,i,e){var o=e(31),s=e(61),l=e(20),a=e(16),u=e(129);n.exports=function(d,f){var c=d==1,h=d==2,v=d==3,m=d==4,y=d==6,p=d==5||y,g=f||u;return function(_,b,k){for(var w,S,O=l(_),A=s(O),T=o(b,k,3),x=a(A.length),E=0,C=c?g(_,x):h?g(_,0):void 0;x>E;E++)if((p||E in A)&&(S=T(w=A[E],E,O),d)){if(c)C[E]=S;else if(S)switch(d){case 3:return!0;case 5:return w;case 6:return E;case 2:C.push(w)}else if(m)return!1}return y?-1:v||m?m:C}}},function(n,i){var e={}.toString;n.exports=function(o){return e.call(o).slice(8,-1)}},function(n,i){n.exports=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e}},function(n,i,e){if(e(18)){var o=e(45),s=e(10),l=e(11),a=e(0),u=e(79),d=e(109),f=e(31),c=e(57),h=e(43),v=e(27),m=e(58),y=e(33),p=e(16),g=e(140),_=e(47),b=e(40),k=e(26),w=e(63),S=e(13),O=e(20),A=e(101),T=e(48),x=e(50),E=e(49).f,C=e(103),N=e(44),R=e(14),I=e(36),L=e(69),P=e(64),D=e(105),U=e(55),M=e(72),B=e(56),q=e(104),z=e(131),j=e(19),F=e(34),H=j.f,W=F.f,V=s.RangeError,X=s.TypeError,Q=s.Uint8Array,ie=Array.prototype,$=d.ArrayBuffer,G=d.DataView,K=I(0),ee=I(2),re=I(3),Y=I(4),Z=I(5),te=I(6),ne=L(!0),J=L(!1),le=D.values,se=D.keys,ae=D.entries,oe=ie.lastIndexOf,ue=ie.reduce,fe=ie.reduceRight,ge=ie.join,pe=ie.sort,Ce=ie.slice,Ge=ie.toString,Jn=ie.toLocaleString,Dt=R("iterator"),kn=R("toStringTag"),Ze=N("typed_constructor"),nt=N("def_constructor"),qr=u.CONSTR,Qn=u.TYPED,Og=u.VIEW,Cg=I(1,function(de,he){return ji(P(de,de[nt]),he)}),gu=l(function(){return new Q(new Uint16Array([1]).buffer)[0]===1}),Ig=!!Q&&!!Q.prototype.set&&l(function(){new Q(1).set({})}),Fi=function(de,he){var ye=y(de);if(ye<0||ye%he)throw V("Wrong offset!");return ye},Be=function(de){if(S(de)&&Qn in de)return de;throw X(de+" is not a typed array!")},ji=function(de,he){if(!S(de)||!(Ze in de))throw X("It is not a typed array constructor!");return new de(he)},vu=function(de,he){return bs(P(de,de[nt]),he)},bs=function(de,he){for(var ye=0,je=he.length,Ae=ji(de,je);je>ye;)Ae[ye]=he[ye++];return Ae},Ui=function(de,he,ye){H(de,he,{get:function(){return this._d[ye]}})},_s=function(de){var he,ye,je,Ae,Jt,Hi,be=O(de),mt=arguments.length,wn=mt>1?arguments[1]:void 0,zi=wn!==void 0,er=C(be);if(er!=null&&!A(er)){for(Hi=er.call(be),je=[],he=0;!(Jt=Hi.next()).done;he++)je.push(Jt.value);be=je}for(zi&&mt>2&&(wn=f(wn,arguments[2],2)),he=0,ye=p(be.length),Ae=ji(this,ye);ye>he;he++)Ae[he]=zi?wn(be[he],he):be[he];return Ae},Ag=function(){for(var de=0,he=arguments.length,ye=ji(this,he);he>de;)ye[de]=arguments[de++];return ye},Rg=!!Q&&l(function(){Jn.call(new Q(1))}),mu=function(){return Jn.apply(Rg?Ce.call(Be(this)):Be(this),arguments)},yu={copyWithin:function(de,he){return z.call(Be(this),de,he,arguments.length>2?arguments[2]:void 0)},every:function(de){return Y(Be(this),de,arguments.length>1?arguments[1]:void 0)},fill:function(de){return q.apply(Be(this),arguments)},filter:function(de){return vu(this,ee(Be(this),de,arguments.length>1?arguments[1]:void 0))},find:function(de){return Z(Be(this),de,arguments.length>1?arguments[1]:void 0)},findIndex:function(de){return te(Be(this),de,arguments.length>1?arguments[1]:void 0)},forEach:function(de){K(Be(this),de,arguments.length>1?arguments[1]:void 0)},indexOf:function(de){return J(Be(this),de,arguments.length>1?arguments[1]:void 0)},includes:function(de){return ne(Be(this),de,arguments.length>1?arguments[1]:void 0)},join:function(de){return ge.apply(Be(this),arguments)},lastIndexOf:function(de){return oe.apply(Be(this),arguments)},map:function(de){return Cg(Be(this),de,arguments.length>1?arguments[1]:void 0)},reduce:function(de){return ue.apply(Be(this),arguments)},reduceRight:function(de){return fe.apply(Be(this),arguments)},reverse:function(){for(var de,he=Be(this).length,ye=Math.floor(he/2),je=0;je<ye;)de=this[je],this[je++]=this[--he],this[he]=de;return this},some:function(de){return re(Be(this),de,arguments.length>1?arguments[1]:void 0)},sort:function(de){return pe.call(Be(this),de)},subarray:function(de,he){var ye=Be(this),je=ye.length,Ae=_(de,je);return new(P(ye,ye[nt]))(ye.buffer,ye.byteOffset+Ae*ye.BYTES_PER_ELEMENT,p((he===void 0?je:_(he,je))-Ae))}},bu=function(de,he){return vu(this,Ce.call(Be(this),de,he))},_u=function(de){Be(this);var he=Fi(arguments[1],1),ye=this.length,je=O(de),Ae=p(je.length),Jt=0;if(Ae+he>ye)throw V("Wrong length!");for(;Jt<Ae;)this[he+Jt]=je[Jt++]},qi={entries:function(){return ae.call(Be(this))},keys:function(){return se.call(Be(this))},values:function(){return le.call(Be(this))}},ku=function(de,he){return S(de)&&de[Qn]&&typeof he!="symbol"&&he in de&&String(+he)==String(he)},wu=function(de,he){return ku(de,he=b(he,!0))?h(2,de[he]):W(de,he)},Eu=function(de,he,ye){return!(ku(de,he=b(he,!0))&&S(ye)&&k(ye,"value"))||k(ye,"get")||k(ye,"set")||ye.configurable||k(ye,"writable")&&!ye.writable||k(ye,"enumerable")&&!ye.enumerable?H(de,he,ye):(de[he]=ye.value,de)};qr||(F.f=wu,j.f=Eu),a(a.S+a.F*!qr,"Object",{getOwnPropertyDescriptor:wu,defineProperty:Eu}),l(function(){Ge.call({})})&&(Ge=Jn=function(){return ge.call(this)});var Ft=m({},yu);m(Ft,qi),v(Ft,Dt,qi.values),m(Ft,{slice:bu,set:_u,constructor:function(){},toString:Ge,toLocaleString:mu}),Ui(Ft,"buffer","b"),Ui(Ft,"byteOffset","o"),Ui(Ft,"byteLength","l"),Ui(Ft,"length","e"),H(Ft,kn,{get:function(){return this[Qn]}}),n.exports=function(de,he,ye,je){var Ae=de+((je=!!je)?"Clamped":"")+"Array",Jt="get"+de,Hi="set"+de,be=s[Ae],mt=be||{},wn=be&&x(be),zi=!be||!u.ABV,er={},Je=be&&be.prototype,Ng=function(dt,Fe){H(dt,Fe,{get:function(){return function(jt,Ut){var yt=jt._d;return yt.v[Jt](Ut*he+yt.o,gu)}(this,Fe)},set:function(jt){return function(Ut,yt,bt){var Qt=Ut._d;je&&(bt=(bt=Math.round(bt))<0?0:bt>255?255:255&bt),Qt.v[Hi](yt*he+Qt.o,bt,gu)}(this,Fe,jt)},enumerable:!0})};zi?(be=ye(function(dt,Fe,jt,Ut){c(dt,be,Ae,"_d");var yt,bt,Qt,Su,Tu=0,$i=0;if(S(Fe)){if(!(Fe instanceof $||(Su=w(Fe))=="ArrayBuffer"||Su=="SharedArrayBuffer"))return Qn in Fe?bs(be,Fe):_s.call(be,Fe);yt=Fe,$i=Fi(jt,he);var ws=Fe.byteLength;if(Ut===void 0){if(ws%he||(bt=ws-$i)<0)throw V("Wrong length!")}else if((bt=p(Ut)*he)+$i>ws)throw V("Wrong length!");Qt=bt/he}else Qt=g(Fe),yt=new $(bt=Qt*he);for(v(dt,"_d",{b:yt,o:$i,l:bt,e:Qt,v:new G(yt)});Tu<Qt;)Ng(dt,Tu++)}),Je=be.prototype=T(Ft),v(Je,"constructor",be)):l(function(){be(1)})&&l(function(){new be(-1)})&&M(function(dt){new be,new be(null),new be(1.5),new be(dt)},!0)||(be=ye(function(dt,Fe,jt,Ut){var yt;return c(dt,be,Ae),S(Fe)?Fe instanceof $||(yt=w(Fe))=="ArrayBuffer"||yt=="SharedArrayBuffer"?Ut!==void 0?new mt(Fe,Fi(jt,he),Ut):jt!==void 0?new mt(Fe,Fi(jt,he)):new mt(Fe):Qn in Fe?bs(be,Fe):_s.call(be,Fe):new mt(g(Fe))}),K(wn!==Function.prototype?E(mt).concat(E(wn)):E(mt),function(dt){dt in be||v(be,dt,mt[dt])}),be.prototype=Je,o||(Je.constructor=be));var Wi=Je[Dt],ks=!!Wi&&(Wi.name=="values"||Wi.name==null),xu=qi.values;v(be,Ze,!0),v(Je,Qn,Ae),v(Je,Og,!0),v(Je,nt,be),(je?new be(1)[kn]==Ae:kn in Je)||H(Je,kn,{get:function(){return Ae}}),er[Ae]=be,a(a.G+a.W+a.F*(be!=mt),er),a(a.S,Ae,{BYTES_PER_ELEMENT:he}),a(a.S+a.F*l(function(){mt.of.call(be,1)}),Ae,{from:_s,of:Ag}),"BYTES_PER_ELEMENT"in Je||v(Je,"BYTES_PER_ELEMENT",he),a(a.P,Ae,yu),B(Ae),a(a.P+a.F*Ig,Ae,{set:_u}),a(a.P+a.F*!ks,Ae,qi),o||Je.toString==Ge||(Je.toString=Ge),a(a.P+a.F*l(function(){new be(1).slice()}),Ae,{slice:bu}),a(a.P+a.F*(l(function(){return[1,2].toLocaleString()!=new be([1,2]).toLocaleString()})||!l(function(){Je.toLocaleString.call([1,2])})),Ae,{toLocaleString:mu}),U[Ae]=ks?Wi:xu,o||ks||v(Je,Dt,xu)}}else n.exports=function(){}},function(n,i,e){var o=e(13);n.exports=function(s,l){if(!o(s))return s;var a,u;if(l&&typeof(a=s.toString)=="function"&&!o(u=a.call(s))||typeof(a=s.valueOf)=="function"&&!o(u=a.call(s))||!l&&typeof(a=s.toString)=="function"&&!o(u=a.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(n,i,e){var o=e(44)("meta"),s=e(13),l=e(26),a=e(19).f,u=0,d=Object.isExtensible||function(){return!0},f=!e(11)(function(){return d(Object.preventExtensions({}))}),c=function(v){a(v,o,{value:{i:"O"+ ++u,w:{}}})},h=n.exports={KEY:o,NEED:!1,fastKey:function(v,m){if(!s(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!l(v,o)){if(!d(v))return"F";if(!m)return"E";c(v)}return v[o].i},getWeak:function(v,m){if(!l(v,o)){if(!d(v))return!0;if(!m)return!1;c(v)}return v[o].w},onFreeze:function(v){return f&&h.NEED&&d(v)&&!l(v,o)&&c(v),v}}},function(n,i,e){var o=e(367),s=e(368),l=e(145),a=e(369);n.exports=function(u){return o(u)||s(u)||l(u)||a()}},function(n,i){n.exports=function(e,o){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:o}}},function(n,i){var e=0,o=Math.random();n.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++e+o).toString(36))}},function(n,i){n.exports=!1},function(n,i,e){var o=e(115),s=e(88);n.exports=Object.keys||function(l){return o(l,s)}},function(n,i,e){var o=e(33),s=Math.max,l=Math.min;n.exports=function(a,u){return(a=o(a))<0?s(a+u,0):l(a,u)}},function(n,i,e){var o=e(12),s=e(116),l=e(88),a=e(87)("IE_PROTO"),u=function(){},d=function(){var f,c=e(85)("iframe"),h=l.length;for(c.style.display="none",e(89).appendChild(c),c.src="javascript:",(f=c.contentWindow.document).open(),f.write("<script>document.F=Object<\/script>"),f.close(),d=f.F;h--;)delete d.prototype[l[h]];return d()};n.exports=Object.create||function(f,c){var h;return f!==null?(u.prototype=o(f),h=new u,u.prototype=null,h[a]=f):h=d(),c===void 0?h:s(h,c)}},function(n,i,e){var o=e(115),s=e(88).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return o(l,s)}},function(n,i,e){var o=e(26),s=e(20),l=e(87)("IE_PROTO"),a=Object.prototype;n.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,l)?u[l]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?a:null}},function(n,i,e){var o=e(14)("unscopables"),s=Array.prototype;s[o]==null&&e(27)(s,o,{}),n.exports=function(l){s[o][l]=!0}},function(n,i,e){var o=e(13);n.exports=function(s,l){if(!o(s)||s._t!==l)throw TypeError("Incompatible receiver, "+l+" required!");return s}},function(n,i,e){var o=e(19).f,s=e(26),l=e(14)("toStringTag");n.exports=function(a,u,d){a&&!s(a=d?a:a.prototype,l)&&o(a,l,{configurable:!0,value:u})}},function(n,i,e){var o=e(0),s=e(38),l=e(11),a=e(91),u="["+a+"]",d=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),c=function(v,m,y){var p={},g=l(function(){return!!a[v]()||"\u200B\x85"[v]()!="\u200B\x85"}),_=p[v]=g?m(h):a[v];y&&(p[y]=_),o(o.P+o.F*g,"String",p)},h=c.trim=function(v,m){return v=String(s(v)),1&m&&(v=v.replace(d,"")),2&m&&(v=v.replace(f,"")),v};n.exports=c},function(n,i){n.exports={}},function(n,i,e){var o=e(10),s=e(19),l=e(18),a=e(14)("species");n.exports=function(u){var d=o[u];l&&d&&!d[a]&&s.f(d,a,{configurable:!0,get:function(){return this}})}},function(n,i){n.exports=function(e,o,s,l){if(!(e instanceof o)||l!==void 0&&l in e)throw TypeError(s+": incorrect invocation!");return e}},function(n,i,e){var o=e(21);n.exports=function(s,l,a){for(var u in l)o(s,u,l[u],a);return s}},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(147)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(){(0,u.default)(this,v)}return(0,d.default)(v,null,[{key:"ui",value:function(m,y){return v._t(m,y)}},{key:"t",value:function(m,y){return v._t(m,y)}},{key:"setDictionary",value:function(m){v.currentDictionary=m}},{key:"_t",value:function(m,y){var p=v.getNamespace(m);return p&&p[y]?p[y]:y}},{key:"getNamespace",value:function(m){return m.split(".").reduce(function(y,p){return y&&Object.keys(y).length?y[p]:{}},v.currentDictionary)}}]),v}();a.default=h,h.displayName="I18n",h.currentDictionary=f.default,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(380),e(7)],(l=typeof(o=function(a,u,d,f,c){var h=e(8),v=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=v(u),d=v(d),f=v(f),c=h(c);var m=function(){function y(p){var g=this;(0,u.default)(this,y),this.iterator=null,this.activated=!1,this.allowArrows=!0,this.onKeyDown=function(_){if(g.isEventReadyForHandling(_))switch(y.usedKeys.includes(_.keyCode)&&_.preventDefault(),_.keyCode){case c.keyCodes.TAB:g.handleTabPress(_);break;case c.keyCodes.LEFT:case c.keyCodes.UP:g.flipLeft();break;case c.keyCodes.RIGHT:case c.keyCodes.DOWN:g.flipRight();break;case c.keyCodes.ENTER:g.handleEnterPress(_)}},this.allowArrows=!c.isBoolean(p.allowArrows)||p.allowArrows,this.iterator=new f.default(p.items,p.focusedItemClass),this.activateCallback=p.activateCallback}return(0,d.default)(y,[{key:"activate",value:function(p){this.activated=!0,p&&this.iterator.setItems(p),document.addEventListener("keydown",this.onKeyDown)}},{key:"deactivate",value:function(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}},{key:"focusFirst",value:function(){this.dropCursor(),this.flipRight()}},{key:"flipLeft",value:function(){this.iterator.previous()}},{key:"flipRight",value:function(){this.iterator.next()}},{key:"dropCursor",value:function(){this.iterator.dropCursor()}},{key:"isEventReadyForHandling",value:function(p){var g=[c.keyCodes.TAB,c.keyCodes.ENTER],_=this.iterator.currentItem==document.activeElement;return this.allowArrows&&!_&&g.push(c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.UP,c.keyCodes.DOWN),this.activated&&g.indexOf(p.keyCode)!==-1}},{key:"handleTabPress",value:function(p){switch(p.shiftKey?f.default.directions.LEFT:f.default.directions.RIGHT){case f.default.directions.RIGHT:this.flipRight();break;case f.default.directions.LEFT:this.flipLeft()}}},{key:"handleEnterPress",value:function(p){this.activated&&(this.iterator.currentItem&&this.iterator.currentItem.click(),c.isFunction(this.activateCallback)&&this.activateCallback(this.iterator.currentItem),p.preventDefault(),p.stopPropagation())}},{key:"currentItem",get:function(){return this.iterator.currentItem}}],[{key:"usedKeys",get:function(){return[c.keyCodes.TAB,c.keyCodes.LEFT,c.keyCodes.RIGHT,c.keyCodes.ENTER,c.keyCodes.UP,c.keyCodes.DOWN]}}]),y}();a.default=m,m.displayName="Flipper",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(37);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(n,i){i.f={}.propertyIsEnumerable},function(n,i,e){var o=e(37),s=e(14)("toStringTag"),l=o(function(){return arguments}())=="Arguments";n.exports=function(a){var u,d,f;return a===void 0?"Undefined":a===null?"Null":typeof(d=function(c,h){try{return c[h]}catch{}}(u=Object(a),s))=="string"?d:l?o(u):(f=o(u))=="Object"&&typeof u.callee=="function"?"Arguments":f}},function(n,i,e){var o=e(12),s=e(32),l=e(14)("species");n.exports=function(a,u){var d,f=o(a).constructor;return f===void 0||(d=o(f)[l])==null?u:s(d)}},function(n,i,e){var o,s,l;s=[i,e(7),e(378)],(l=typeof(o=function(a,u,d){var f=e(1),c=e(8);function h(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p={tags:y},g=new d.default(p);return g.clean(m)}function v(m,y){return Array.isArray(m)?(_=y,m.map(function(b){return v(b,_)})):u.isObject(m)?function(b,k){var w,S={};for(var O in b)if(Object.prototype.hasOwnProperty.call(b,O)){var A=b[O],T=(w=k[O],u.isObject(w)||u.isBoolean(w)||u.isFunction(w)?k[O]:k);S[O]=v(A,T)}return S}(m,y):u.isString(m)?(p=m,g=y,u.isObject(g)?h(p,g):g===!1?h(p,{}):p):m;var p,g,_}Object.defineProperty(a,"__esModule",{value:!0}),a.sanitizeBlocks=function(m,y){return m.map(function(p){var g=u.isFunction(y)?y(p.tool):y;return u.isEmpty(g)||(p.data=v(p.data,g)),p})},a.clean=h,u=c(u),d=f(d)})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(23),e(24),e(42),e(2),e(3),e(149),e(168),e(5),e(6),e(4),e(15),e(7),e(111),e(25),e(151)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w,S,O){var A,T=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockToolAPI=void 0,u=x(u),d=x(d),f=x(f),c=x(c),h=x(h),v=x(v),m=x(m),y=x(y),p=x(p),g=x(g),_=x(_),b=x(b),k=T(k),w=x(w),S=x(S),O=x(O),a.BlockToolAPI=A,function(N){N.APPEND_CALLBACK="appendCallback",N.RENDERED="rendered",N.MOVED="moved",N.UPDATED="updated",N.REMOVED="removed",N.ON_PASTE="onPaste"}(A||(a.BlockToolAPI=A={}));var C=function(N){(0,p.default)(U,N);var R,I,L,P,D=(R=U,function(){var M,B=(0,_.default)(R);if(E()){var q=(0,_.default)(this).constructor;M=Reflect.construct(B,arguments,q)}else M=B.apply(this,arguments);return(0,g.default)(this,M)});function U(M){var B,q=M.id,z=q===void 0?k.generateBlockId():q,j=M.data,F=M.tool,H=M.api,W=M.readOnly,V=M.tunesData;return(0,h.default)(this,U),(B=D.call(this)).cachedInputs=[],B.tunesInstances=new Map,B.defaultTunesInstances=new Map,B.unavailableTunesData={},B.inputIndex=0,B.modificationDebounceTimer=450,B.didMutated=k.debounce(function(X){!X.some(function(Q){var ie=Q.addedNodes,$=ie===void 0?[]:ie,G=Q.removedNodes;return[].concat((0,c.default)(Array.from($)),(0,c.default)(Array.from(G))).some(function(K){return b.default.isElement(K)&&K.dataset.mutationFree==="true"})})&&(B.cachedInputs=[],B.updateCurrentInput(),B.call(A.UPDATED),B.emit("didMutated",(0,m.default)(B)))},B.modificationDebounceTimer),B.handleFocus=function(){B.cachedInputs=[],B.updateCurrentInput()},B.name=F.name,B.id=z,B.settings=F.settings,B.config=F.settings.config||{},B.api=H,B.blockAPI=new w.default((0,m.default)(B)),B.mutationObserver=new MutationObserver(B.didMutated),B.tool=F,B.toolInstance=F.create(j,B.blockAPI,W),B.tunes=F.tunes,B.composeTunes(V),B.holder=B.compose(),B}return(0,v.default)(U,[{key:"call",value:function(M,B){if(k.isFunction(this.toolInstance[M])){M===A.APPEND_CALLBACK&&k.log("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[M].call(this.toolInstance,B)}catch(q){k.log("Error during '".concat(M,"' call: ").concat(q.message),"error")}}}},{key:"mergeWith",value:(P=(0,f.default)(d.default.mark(function M(B){return d.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this.toolInstance.merge(B);case 2:case"end":return q.stop()}},M,this)})),function(M){return P.apply(this,arguments)})},{key:"save",value:(L=(0,f.default)(d.default.mark(function M(){var B,q,z,j,F=this;return d.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.toolInstance.save(this.pluginsContent);case 2:return B=H.sent,q=this.unavailableTunesData,[].concat((0,c.default)(this.tunesInstances.entries()),(0,c.default)(this.defaultTunesInstances.entries())).forEach(function(W){var V=(0,u.default)(W,2),X=V[0],Q=V[1];if(k.isFunction(Q.save))try{q[X]=Q.save()}catch(ie){k.log("Tune ".concat(Q.constructor.name," save method throws an Error %o"),"warn",ie)}}),z=window.performance.now(),H.abrupt("return",Promise.resolve(B).then(function(W){return j=window.performance.now(),{id:F.id,tool:F.name,data:W,tunes:q,time:j-z}}).catch(function(W){k.log("Saving proccess for ".concat(F.name," tool failed due to the ").concat(W),"log","red")}));case 7:case"end":return H.stop()}},M,this)})),function(){return L.apply(this,arguments)})},{key:"validate",value:(I=(0,f.default)(d.default.mark(function M(B){var q;return d.default.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(q=!0,!(this.toolInstance.validate instanceof Function)){z.next=5;break}return z.next=4,this.toolInstance.validate(B);case 4:q=z.sent;case 5:return z.abrupt("return",q);case 6:case"end":return z.stop()}},M,this)})),function(M){return I.apply(this,arguments)})},{key:"renderTunes",value:function(){var M=document.createDocumentFragment(),B=document.createDocumentFragment();return this.tunesInstances.forEach(function(q){b.default.append(M,q.render())}),this.defaultTunesInstances.forEach(function(q){b.default.append(B,q.render())}),[M,B]}},{key:"updateCurrentInput",value:function(){this.currentInput=b.default.isNativeInput(document.activeElement)||!S.default.anchorNode?document.activeElement:S.default.anchorNode}},{key:"willSelect",value:function(){this.mutationObserver.observe(this.holder.firstElementChild,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.addInputEvents()}},{key:"willUnselect",value:function(){this.mutationObserver.disconnect(),this.removeInputEvents()}},{key:"destroy",value:function(){(0,y.default)((0,_.default)(U.prototype),"destroy",this).call(this),k.isFunction(this.toolInstance.destroy)&&this.toolInstance.destroy()}},{key:"renderSettings",value:function(){if(k.isFunction(this.toolInstance.renderSettings))return this.toolInstance.renderSettings()}},{key:"compose",value:function(){var M=b.default.make("div",U.CSS.wrapper),B=b.default.make("div",U.CSS.content),q=this.toolInstance.render();B.appendChild(q);var z=B;return[].concat((0,c.default)(this.tunesInstances.values()),(0,c.default)(this.defaultTunesInstances.values())).forEach(function(j){if(k.isFunction(j.wrap))try{z=j.wrap(z)}catch(F){k.log("Tune ".concat(j.constructor.name," wrap method throws an Error %o"),"warn",F)}}),M.appendChild(z),M}},{key:"composeTunes",value:function(M){var B=this;Array.from(this.tunes.values()).forEach(function(q){(q.isInternal?B.defaultTunesInstances:B.tunesInstances).set(q.name,q.create(M[q.name],B.blockAPI))}),Object.entries(M).forEach(function(q){var z=(0,u.default)(q,2),j=z[0],F=z[1];B.tunesInstances.has(j)||(B.unavailableTunesData[j]=F)})}},{key:"addInputEvents",value:function(){var M=this;this.inputs.forEach(function(B){B.addEventListener("focus",M.handleFocus),b.default.isNativeInput(B)&&B.addEventListener("input",M.didMutated)})}},{key:"removeInputEvents",value:function(){var M=this;this.inputs.forEach(function(B){B.removeEventListener("focus",M.handleFocus),b.default.isNativeInput(B)&&B.removeEventListener("input",M.didMutated)})}},{key:"inputs",get:function(){if(this.cachedInputs.length!==0)return this.cachedInputs;var M=b.default.findAllInputs(this.holder);return this.inputIndex>M.length-1&&(this.inputIndex=M.length-1),this.cachedInputs=M,M}},{key:"currentInput",get:function(){return this.inputs[this.inputIndex]},set:function(M){var B=this.inputs.findIndex(function(q){return q===M||q.contains(M)});B!==-1&&(this.inputIndex=B)}},{key:"firstInput",get:function(){return this.inputs[0]}},{key:"lastInput",get:function(){var M=this.inputs;return M[M.length-1]}},{key:"nextInput",get:function(){return this.inputs[this.inputIndex+1]}},{key:"previousInput",get:function(){return this.inputs[this.inputIndex-1]}},{key:"data",get:function(){return this.save().then(function(M){return M&&!k.isEmpty(M.data)?M.data:{}})}},{key:"sanitize",get:function(){return this.tool.sanitizeConfig}},{key:"mergeable",get:function(){return k.isFunction(this.toolInstance.merge)}},{key:"isEmpty",get:function(){var M=b.default.isEmpty(this.pluginsContent),B=!this.hasMedia;return M&&B}},{key:"hasMedia",get:function(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}},{key:"focused",set:function(M){this.holder.classList.toggle(U.CSS.focused,M)},get:function(){return this.holder.classList.contains(U.CSS.focused)}},{key:"selected",set:function(M){M?(this.holder.classList.add(U.CSS.selected),S.default.addFakeCursor(this.holder)):(this.holder.classList.remove(U.CSS.selected),S.default.removeFakeCursor(this.holder))},get:function(){return this.holder.classList.contains(U.CSS.selected)}},{key:"stretched",set:function(M){this.holder.classList.toggle(U.CSS.wrapperStretched,M)},get:function(){return this.holder.classList.contains(U.CSS.wrapperStretched)}},{key:"dropTarget",set:function(M){this.holder.classList.toggle(U.CSS.dropTarget,M)}},{key:"pluginsContent",get:function(){var M=this.holder.querySelector(".".concat(U.CSS.content));if(M&&M.childNodes.length)for(var B=M.childNodes.length-1;B>=0;B--){var q=M.childNodes[B];if(!b.default.isExtensionNode(q))return q}return null}}],[{key:"CSS",get:function(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}}]),U}(O.default);a.default=C,C.displayName="Block"})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(7)],(l=typeof(o=function(a,u,d,f){var c,h,v,m,y,p,g=e(8),_=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.InternalTuneSettings=a.InternalInlineToolSettings=a.InternalBlockToolSettings=a.CommonInternalSettings=a.UserSettings=a.ToolType=void 0,u=_(u),d=_(d),f=g(f),a.ToolType=c,function(k){k[k.Block=0]="Block",k[k.Inline=1]="Inline",k[k.Tune=2]="Tune"}(c||(a.ToolType=c={})),a.UserSettings=h,function(k){k.Shortcut="shortcut",k.Toolbox="toolbox",k.EnabledInlineTools="inlineToolbar",k.EnabledBlockTunes="tunes",k.Config="config"}(h||(a.UserSettings=h={})),a.CommonInternalSettings=v,function(k){k.Shortcut="shortcut",k.SanitizeConfig="sanitize"}(v||(a.CommonInternalSettings=v={})),a.InternalBlockToolSettings=m,function(k){k.IsEnabledLineBreaks="enableLineBreaks",k.Toolbox="toolbox",k.ConversionConfig="conversionConfig",k.IsReadOnlySupported="isReadOnlySupported",k.PasteConfig="pasteConfig"}(m||(a.InternalBlockToolSettings=m={})),a.InternalInlineToolSettings=y,function(k){k.IsInline="isInline",k.Title="title"}(y||(a.InternalInlineToolSettings=y={})),a.InternalTuneSettings=p,function(k){k.IsTune="isTune"}(p||(a.InternalTuneSettings=p={}));var b=function(){function k(w){var S=w.name,O=w.constructable,A=w.config,T=w.api,x=w.isDefault,E=w.isInternal,C=E!==void 0&&E,N=w.defaultPlaceholder;(0,u.default)(this,k),this.api=T,this.name=S,this.constructable=O,this.config=A,this.isDefault=x,this.isInternal=C,this.defaultPlaceholder=N}return(0,d.default)(k,[{key:"reset",value:function(){if(f.isFunction(this.constructable.reset))return this.constructable.reset()}},{key:"prepare",value:function(){if(f.isFunction(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}},{key:"isInline",value:function(){return this.type===c.Inline}},{key:"isBlock",value:function(){return this.type===c.Block}},{key:"isTune",value:function(){return this.type===c.Tune}},{key:"settings",get:function(){var w=this.config[h.Config]||{};return this.isDefault&&!("placeholder"in w)&&this.defaultPlaceholder&&(w.placeholder=this.defaultPlaceholder),w}},{key:"shortcut",get:function(){var w=this.constructable[v.Shortcut];return this.config[h.Shortcut]||w}},{key:"sanitizeConfig",get:function(){return this.constructable[v.SanitizeConfig]||{}}}]),k}();a.default=b,b.displayName="BaseTool"})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(17),s=e(10),l=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(n.exports=function(a,u){return l[a]||(l[a]=u!==void 0?u:{})})("versions",[]).push({version:o.version,mode:e(45)?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})},function(n,i,e){var o=e(28),s=e(16),l=e(47);n.exports=function(a){return function(u,d,f){var c,h=o(u),v=s(h.length),m=l(f,v);if(a&&d!=d){for(;v>m;)if((c=h[m++])!=c)return!0}else for(;v>m;m++)if((a||m in h)&&h[m]===d)return a||m||0;return!a&&-1}}},function(n,i){i.f=Object.getOwnPropertySymbols},function(n,i,e){var o=e(37);n.exports=Array.isArray||function(s){return o(s)=="Array"}},function(n,i,e){var o=e(14)("iterator"),s=!1;try{var l=[7][o]();l.return=function(){s=!0},Array.from(l,function(){throw 2})}catch{}n.exports=function(a,u){if(!u&&!s)return!1;var d=!1;try{var f=[7],c=f[o]();c.next=function(){return{done:d=!0}},f[o]=function(){return c},a(f)}catch{}return d}},function(n,i,e){var o=e(12);n.exports=function(){var s=o(this),l="";return s.global&&(l+="g"),s.ignoreCase&&(l+="i"),s.multiline&&(l+="m"),s.unicode&&(l+="u"),s.sticky&&(l+="y"),l}},function(n,i,e){var o=e(63),s=RegExp.prototype.exec;n.exports=function(l,a){var u=l.exec;if(typeof u=="function"){var d=u.call(l,a);if(typeof d!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return d}if(o(l)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return s.call(l,a)}},function(n,i,e){e(133);var o=e(21),s=e(27),l=e(11),a=e(38),u=e(14),d=e(106),f=u("species"),c=!l(function(){var v=/./;return v.exec=function(){var m=[];return m.groups={a:"7"},m},"".replace(v,"$<a>")!=="7"}),h=function(){var v=/(?:)/,m=v.exec;v.exec=function(){return m.apply(this,arguments)};var y="ab".split(v);return y.length===2&&y[0]==="a"&&y[1]==="b"}();n.exports=function(v,m,y){var p=u(v),g=!l(function(){var O={};return O[p]=function(){return 7},""[v](O)!=7}),_=g?!l(function(){var O=!1,A=/a/;return A.exec=function(){return O=!0,null},v==="split"&&(A.constructor={},A.constructor[f]=function(){return A}),A[p](""),!O}):void 0;if(!g||!_||v==="replace"&&!c||v==="split"&&!h){var b=/./[p],k=y(a,p,""[v],function(O,A,T,x,E){return A.exec===d?g&&!E?{done:!0,value:b.call(A,T,x)}:{done:!0,value:O.call(T,A,x)}:{done:!1}}),w=k[0],S=k[1];o(String.prototype,v,w),s(RegExp.prototype,p,m==2?function(O,A){return S.call(O,this,A)}:function(O){return S.call(O,this)})}}},function(n,i,e){var o=e(31),s=e(128),l=e(101),a=e(12),u=e(16),d=e(103),f={},c={};(i=n.exports=function(h,v,m,y,p){var g,_,b,k,w=p?function(){return h}:d(h),S=o(m,y,v?2:1),O=0;if(typeof w!="function")throw TypeError(h+" is not iterable!");if(l(w)){for(g=u(h.length);g>O;O++)if((k=v?S(a(_=h[O])[0],_[1]):S(h[O]))===f||k===c)return k}else for(b=w.call(h);!(_=b.next()).done;)if((k=s(b,S,_.value,v))===f||k===c)return k}).BREAK=f,i.RETURN=c},function(n,i,e){var o=e(10).navigator;n.exports=o&&o.userAgent||""},function(n,i,e){var o=e(10),s=e(0),l=e(21),a=e(58),u=e(41),d=e(76),f=e(57),c=e(13),h=e(11),v=e(72),m=e(53),y=e(92);n.exports=function(p,g,_,b,k,w){var S=o[p],O=S,A=k?"set":"add",T=O&&O.prototype,x={},E=function(P){var D=T[P];l(T,P,P=="delete"||P=="has"?function(U){return!(w&&!c(U))&&D.call(this,U===0?0:U)}:P=="get"?function(U){return w&&!c(U)?void 0:D.call(this,U===0?0:U)}:P=="add"?function(U){return D.call(this,U===0?0:U),this}:function(U,M){return D.call(this,U===0?0:U,M),this})};if(typeof O=="function"&&(w||T.forEach&&!h(function(){new O().entries().next()}))){var C=new O,N=C[A](w?{}:-0,1)!=C,R=h(function(){C.has(1)}),I=v(function(P){new O(P)}),L=!w&&h(function(){for(var P=new O,D=5;D--;)P[A](D,D);return!P.has(-0)});I||((O=g(function(P,D){f(P,O,p);var U=y(new S,P,O);return D!=null&&d(D,k,U[A],U),U})).prototype=T,T.constructor=O),(R||L)&&(E("delete"),E("has"),k&&E("get")),(L||N)&&E(A),w&&T.clear&&delete T.clear}else O=b.getConstructor(g,p,k,A),a(O.prototype,_),u.NEED=!0;return m(O,p),x[p]=O,s(s.G+s.W+s.F*(O!=S),x),w||b.setStrong(O,p,k),O}},function(n,i,e){for(var o,s=e(10),l=e(27),a=e(44),u=a("typed_array"),d=a("view"),f=!(!s.ArrayBuffer||!s.DataView),c=f,h=0,v="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(o=s[v[h++]])?(l(o.prototype,u,!0),l(o.prototype,d,!0)):c=!1;n.exports={ABV:f,CONSTR:c,TYPED:u,VIEW:d}},function(n,i){function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=e=function(s){return typeof s}:n.exports=e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(o)}n.exports=e},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"getMethodsForTool",value:function(w){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(w)})}},{key:"methods",get:function(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods}}}]),k}((v=m(v)).default);a.default=p,p.displayName="API",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(379)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(){(0,u.default)(this,v),this.lib=new f.default}return(0,d.default)(v,[{key:"destroy",value:function(){this.lib.destroy()}},{key:"show",value:function(m,y,p){this.lib.show(m,y,p)}},{key:"hide",value:function(){this.lib.hide()}},{key:"onHover",value:function(m,y,p){this.lib.onHover(m,y,p)}}]),v}();a.default=h,h.displayName="Tooltip",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(59),e(84),e(82)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_){var b=e(8),k=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=k(u),d=k(d),f=k(f),c=k(c),h=k(h),v=k(v),m=k(m),y=b(y),p=k(p),_=k(_);var S=function(O){(0,f.default)(x,O);var A,T=(A=x,function(){var E,C=(0,h.default)(A);if(w()){var N=(0,h.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,c.default)(this,E)});function x(E){var C,N=E.config,R=E.eventsDispatcher;return(0,u.default)(this,x),(C=T.call(this,{config:N,eventsDispatcher:R})).tooltip=new _.default,C}return(0,d.default)(x,[{key:"toggleReadOnly",value:function(E){E?(this.destroy(),this.Editor.Toolbox.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}},{key:"move",value:function(){var E=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];E&&(this.Editor.Toolbox.close(),this.Editor.BlockSettings.close());var C=this.Editor.BlockManager.currentBlock.holder;if(C){var N=this.Editor.UI.isMobile,R=C.offsetHeight,I=C.offsetTop;if(N)I+=R;else{var L=Math.floor(R/2);this.nodes.plusButton.style.transform="translate3d(0, calc(".concat(L,"px - 50%), 0)"),this.Editor.Toolbox.nodes.toolbox.style.transform="translate3d(0, calc(".concat(L,"px - 50%), 0)")}this.nodes.wrapper.style.transform="translate3D(0, ".concat(Math.floor(I),"px, 0)")}}},{key:"open",value:function(){var E=this,C=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],N=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];y.delay(function(){E.move(N),E.nodes.wrapper.classList.add(E.CSS.toolbarOpened),C?E.blockActions.show():E.blockActions.hide()},50)()}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.Editor.Toolbox.close(),this.Editor.BlockSettings.close()}},{key:"make",value:function(){var E=this;this.nodes.wrapper=m.default.make("div",this.CSS.toolbar),["content","actions"].forEach(function(R){E.nodes[R]=m.default.make("div",E.CSS[R])}),m.default.append(this.nodes.wrapper,this.nodes.content),m.default.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=m.default.make("div",this.CSS.plusButton),m.default.append(this.nodes.plusButton,m.default.svg("plus",14,14)),m.default.append(this.nodes.content,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",function(){E.plusButtonClicked()},!1);var C=m.default.make("div");C.appendChild(document.createTextNode(p.default.ui(g.I18nInternalNS.ui.toolbar.toolbox,"Add"))),C.appendChild(m.default.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21E5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,C),this.nodes.blockActionsButtons=m.default.make("div",this.CSS.blockActionsButtons),this.nodes.settingsToggler=m.default.make("span",this.CSS.settingsToggler);var N=m.default.svg("dots",8,8);m.default.append(this.nodes.settingsToggler,N),m.default.append(this.nodes.blockActionsButtons,this.nodes.settingsToggler),m.default.append(this.nodes.actions,this.nodes.blockActionsButtons),this.tooltip.onHover(this.nodes.settingsToggler,p.default.ui(g.I18nInternalNS.ui.blockTunes.toggler,"Click to tune"),{placement:"top"}),m.default.append(this.nodes.content,this.Editor.Toolbox.nodes.toolbox),m.default.append(this.nodes.actions,this.Editor.BlockSettings.nodes.wrapper),m.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}},{key:"plusButtonClicked",value:function(){this.Editor.Toolbox.toggle()}},{key:"enableModuleBindings",value:function(){var E=this;this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",function(C){C.stopPropagation(),E.settingsTogglerClicked()},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"settingsTogglerClicked",value:function(){this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open()}},{key:"drawUI",value:function(){this.Editor.BlockSettings.make(),this.Editor.Toolbox.make(),this.make()}},{key:"destroy",value:function(){this.removeAllNodes(),this.tooltip.destroy()}},{key:"CSS",get:function(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",plusButtonHidden:"ce-toolbar__plus--hidden",blockActionsButtons:"ce-toolbar__actions-buttons",settingsToggler:"ce-toolbar__settings-btn"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}},{key:"plusButton",get:function(){var E=this;return{hide:function(){return E.nodes.plusButton.classList.add(E.CSS.plusButtonHidden)},show:function(){E.Editor.Toolbox.isEmpty||E.nodes.plusButton.classList.remove(E.CSS.plusButtonHidden)}}}},{key:"blockActions",get:function(){var E=this;return{hide:function(){E.nodes.actions.classList.remove(E.CSS.actionsOpened)},show:function(){E.nodes.actions.classList.add(E.CSS.actionsOpened)}}}}]),x}(v.default);a.default=S,S.displayName="Toolbar",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(147),e(7)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.I18nInternalNS=void 0,u=c(u);var h=function v(m,y){var p={};return Object.entries(m).forEach(function(g){var _=(0,u.default)(g,2),b=_[0],k=_[1];if((0,f.isObject)(k)){var w=y?"".concat(y,".").concat(b):b,S=Object.values(k).every(function(O){return(0,f.isString)(O)});p[b]=S?w:v(k,w)}else p[b]=k}),p}((d=c(d)).default);a.I18nInternalNS=h})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(13),s=e(10).document,l=o(s)&&o(s.createElement);n.exports=function(a){return l?s.createElement(a):{}}},function(n,i,e){i.f=e(14)},function(n,i,e){var o=e(68)("keys"),s=e(44);n.exports=function(l){return o[l]||(o[l]=s(l))}},function(n,i){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,i,e){var o=e(10).document;n.exports=o&&o.documentElement},function(n,i,e){var o=e(13),s=e(12),l=function(a,u){if(s(a),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};n.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(a,u,d){try{(d=e(31)(Function.call,e(34).f(Object.prototype,"__proto__").set,2))(a,[]),u=!(a instanceof Array)}catch{u=!0}return function(f,c){return l(f,c),u?f.__proto__=c:d(f,c),f}}({},!1):void 0),check:l}},function(n,i){n.exports=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(n,i,e){var o=e(13),s=e(90).set;n.exports=function(l,a,u){var d,f=a.constructor;return f!==u&&typeof f=="function"&&(d=f.prototype)!==u.prototype&&o(d)&&s&&s(l,d),l}},function(n,i,e){var o=e(33),s=e(38);n.exports=function(l){var a=String(s(this)),u="",d=o(l);if(d<0||d==1/0)throw RangeError("Count can't be negative");for(;d>0;(d>>>=1)&&(a+=a))1&d&&(u+=a);return u}},function(n,i){n.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}},function(n,i){var e=Math.expm1;n.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||e(-2e-17)!=-2e-17?function(o){return(o=+o)==0?o:o>-1e-6&&o<1e-6?o+o*o/2:Math.exp(o)-1}:e},function(n,i,e){var o=e(33),s=e(38);n.exports=function(l){return function(a,u){var d,f,c=String(s(a)),h=o(u),v=c.length;return h<0||h>=v?l?"":void 0:(d=c.charCodeAt(h))<55296||d>56319||h+1===v||(f=c.charCodeAt(h+1))<56320||f>57343?l?c.charAt(h):d:l?c.slice(h,h+2):f-56320+(d-55296<<10)+65536}}},function(n,i,e){var o=e(45),s=e(0),l=e(21),a=e(27),u=e(55),d=e(127),f=e(53),c=e(50),h=e(14)("iterator"),v=!([].keys&&"next"in[].keys()),m=function(){return this};n.exports=function(y,p,g,_,b,k,w){d(g,p,_);var S,O,A,T=function(D){if(!v&&D in N)return N[D];switch(D){case"keys":case"values":return function(){return new g(this,D)}}return function(){return new g(this,D)}},x=p+" Iterator",E=b=="values",C=!1,N=y.prototype,R=N[h]||N["@@iterator"]||b&&N[b],I=R||T(b),L=b?E?T("entries"):I:void 0,P=p=="Array"&&N.entries||R;if(P&&(A=c(P.call(new y)))!==Object.prototype&&A.next&&(f(A,x,!0),o||typeof A[h]=="function"||a(A,h,m)),E&&R&&R.name!=="values"&&(C=!0,I=function(){return R.call(this)}),o&&!w||!v&&!C&&N[h]||a(N,h,I),u[p]=I,u[x]=m,b)if(S={values:E?I:T("values"),keys:k?I:T("keys"),entries:L},w)for(O in S)O in N||l(N,O,S[O]);else s(s.P+s.F*(v||C),p,S);return S}},function(n,i,e){var o=e(99),s=e(38);n.exports=function(l,a,u){if(o(a))throw TypeError("String#"+u+" doesn't accept regex!");return String(s(l))}},function(n,i,e){var o=e(13),s=e(37),l=e(14)("match");n.exports=function(a){var u;return o(a)&&((u=a[l])!==void 0?!!u:s(a)=="RegExp")}},function(n,i,e){var o=e(14)("match");n.exports=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[o]=!1,!"/./"[s](l)}catch{}}return!0}},function(n,i,e){var o=e(55),s=e(14)("iterator"),l=Array.prototype;n.exports=function(a){return a!==void 0&&(o.Array===a||l[s]===a)}},function(n,i,e){var o=e(19),s=e(43);n.exports=function(l,a,u){a in l?o.f(l,a,s(0,u)):l[a]=u}},function(n,i,e){var o=e(63),s=e(14)("iterator"),l=e(55);n.exports=e(17).getIteratorMethod=function(a){if(a!=null)return a[s]||a["@@iterator"]||l[o(a)]}},function(n,i,e){var o=e(20),s=e(47),l=e(16);n.exports=function(a){for(var u=o(this),d=l(u.length),f=arguments.length,c=s(f>1?arguments[1]:void 0,d),h=f>2?arguments[2]:void 0,v=h===void 0?d:s(h,d);v>c;)u[c++]=a;return u}},function(n,i,e){var o=e(51),s=e(132),l=e(55),a=e(28);n.exports=e(97)(Array,"Array",function(u,d){this._t=a(u),this._i=0,this._k=d},function(){var u=this._t,d=this._k,f=this._i++;return!u||f>=u.length?(this._t=void 0,s(1)):s(0,d=="keys"?f:d=="values"?u[f]:[f,u[f]])},"values"),l.Arguments=l.Array,o("keys"),o("values"),o("entries")},function(n,i,e){var o,s,l=e(73),a=RegExp.prototype.exec,u=String.prototype.replace,d=a,f=(o=/a/,s=/b*/g,a.call(o,"a"),a.call(s,"a"),o.lastIndex!==0||s.lastIndex!==0),c=/()??/.exec("")[1]!==void 0;(f||c)&&(d=function(h){var v,m,y,p,g=this;return c&&(m=new RegExp("^"+g.source+"$(?!\\s)",l.call(g))),f&&(v=g.lastIndex),y=a.call(g,h),f&&y&&(g.lastIndex=g.global?y.index+y[0].length:v),c&&y&&y.length>1&&u.call(y[0],m,function(){for(p=1;p<arguments.length-2;p++)arguments[p]===void 0&&(y[p]=void 0)}),y}),n.exports=d},function(n,i,e){var o=e(96)(!0);n.exports=function(s,l,a){return l+(a?o(s,l).length:1)}},function(n,i,e){var o,s,l,a=e(31),u=e(121),d=e(89),f=e(85),c=e(10),h=c.process,v=c.setImmediate,m=c.clearImmediate,y=c.MessageChannel,p=c.Dispatch,g=0,_={},b=function(){var w=+this;if(_.hasOwnProperty(w)){var S=_[w];delete _[w],S()}},k=function(w){b.call(w.data)};v&&m||(v=function(w){for(var S=[],O=1;arguments.length>O;)S.push(arguments[O++]);return _[++g]=function(){u(typeof w=="function"?w:Function(w),S)},o(g),g},m=function(w){delete _[w]},e(37)(h)=="process"?o=function(w){h.nextTick(a(b,w,1))}:p&&p.now?o=function(w){p.now(a(b,w,1))}:y?(l=(s=new y).port2,s.port1.onmessage=k,o=a(l.postMessage,l,1)):c.addEventListener&&typeof postMessage=="function"&&!c.importScripts?(o=function(w){c.postMessage(w+"","*")},c.addEventListener("message",k,!1)):o="onreadystatechange"in f("script")?function(w){d.appendChild(f("script")).onreadystatechange=function(){d.removeChild(this),b.call(w)}}:function(w){setTimeout(a(b,w,1),0)}),n.exports={set:v,clear:m}},function(n,i,e){var o=e(10),s=e(18),l=e(45),a=e(79),u=e(27),d=e(58),f=e(11),c=e(57),h=e(33),v=e(16),m=e(140),y=e(49).f,p=e(19).f,g=e(104),_=e(53),b=o.ArrayBuffer,k=o.DataView,w=o.Math,S=o.RangeError,O=o.Infinity,A=b,T=w.abs,x=w.pow,E=w.floor,C=w.log,N=w.LN2,R=s?"_b":"buffer",I=s?"_l":"byteLength",L=s?"_o":"byteOffset";function P(K,ee,re){var Y,Z,te,ne=new Array(re),J=8*re-ee-1,le=(1<<J)-1,se=le>>1,ae=ee===23?x(2,-24)-x(2,-77):0,oe=0,ue=K<0||K===0&&1/K<0?1:0;for((K=T(K))!=K||K===O?(Z=K!=K?1:0,Y=le):(Y=E(C(K)/N),K*(te=x(2,-Y))<1&&(Y--,te*=2),(K+=Y+se>=1?ae/te:ae*x(2,1-se))*te>=2&&(Y++,te/=2),Y+se>=le?(Z=0,Y=le):Y+se>=1?(Z=(K*te-1)*x(2,ee),Y+=se):(Z=K*x(2,se-1)*x(2,ee),Y=0));ee>=8;ne[oe++]=255&Z,Z/=256,ee-=8);for(Y=Y<<ee|Z,J+=ee;J>0;ne[oe++]=255&Y,Y/=256,J-=8);return ne[--oe]|=128*ue,ne}function D(K,ee,re){var Y,Z=8*re-ee-1,te=(1<<Z)-1,ne=te>>1,J=Z-7,le=re-1,se=K[le--],ae=127&se;for(se>>=7;J>0;ae=256*ae+K[le],le--,J-=8);for(Y=ae&(1<<-J)-1,ae>>=-J,J+=ee;J>0;Y=256*Y+K[le],le--,J-=8);if(ae===0)ae=1-ne;else{if(ae===te)return Y?NaN:se?-O:O;Y+=x(2,ee),ae-=ne}return(se?-1:1)*Y*x(2,ae-ee)}function U(K){return K[3]<<24|K[2]<<16|K[1]<<8|K[0]}function M(K){return[255&K]}function B(K){return[255&K,K>>8&255]}function q(K){return[255&K,K>>8&255,K>>16&255,K>>24&255]}function z(K){return P(K,52,8)}function j(K){return P(K,23,4)}function F(K,ee,re){p(K.prototype,ee,{get:function(){return this[re]}})}function H(K,ee,re,Y){var Z=m(+re);if(Z+ee>K[I])throw S("Wrong index!");var te=K[R]._b,ne=Z+K[L],J=te.slice(ne,ne+ee);return Y?J:J.reverse()}function W(K,ee,re,Y,Z,te){var ne=m(+re);if(ne+ee>K[I])throw S("Wrong index!");for(var J=K[R]._b,le=ne+K[L],se=Y(+Z),ae=0;ae<ee;ae++)J[le+ae]=se[te?ae:ee-ae-1]}if(a.ABV){if(!f(function(){b(1)})||!f(function(){new b(-1)})||f(function(){return new b,new b(1.5),new b(NaN),b.name!="ArrayBuffer"})){for(var V,X=(b=function(K){return c(this,b),new A(m(K))}).prototype=A.prototype,Q=y(A),ie=0;Q.length>ie;)(V=Q[ie++])in b||u(b,V,A[V]);l||(X.constructor=b)}var $=new k(new b(2)),G=k.prototype.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||d(k.prototype,{setInt8:function(K,ee){G.call(this,K,ee<<24>>24)},setUint8:function(K,ee){G.call(this,K,ee<<24>>24)}},!0)}else b=function(K){c(this,b,"ArrayBuffer");var ee=m(K);this._b=g.call(new Array(ee),0),this[I]=ee},k=function(K,ee,re){c(this,k,"DataView"),c(K,b,"DataView");var Y=K[I],Z=h(ee);if(Z<0||Z>Y)throw S("Wrong offset!");if(Z+(re=re===void 0?Y-Z:v(re))>Y)throw S("Wrong length!");this[R]=K,this[L]=Z,this[I]=re},s&&(F(b,"byteLength","_l"),F(k,"buffer","_b"),F(k,"byteLength","_l"),F(k,"byteOffset","_o")),d(k.prototype,{getInt8:function(K){return H(this,1,K)[0]<<24>>24},getUint8:function(K){return H(this,1,K)[0]},getInt16:function(K){var ee=H(this,2,K,arguments[1]);return(ee[1]<<8|ee[0])<<16>>16},getUint16:function(K){var ee=H(this,2,K,arguments[1]);return ee[1]<<8|ee[0]},getInt32:function(K){return U(H(this,4,K,arguments[1]))},getUint32:function(K){return U(H(this,4,K,arguments[1]))>>>0},getFloat32:function(K){return D(H(this,4,K,arguments[1]),23,4)},getFloat64:function(K){return D(H(this,8,K,arguments[1]),52,8)},setInt8:function(K,ee){W(this,1,K,M,ee)},setUint8:function(K,ee){W(this,1,K,M,ee)},setInt16:function(K,ee){W(this,2,K,B,ee,arguments[2])},setUint16:function(K,ee){W(this,2,K,B,ee,arguments[2])},setInt32:function(K,ee){W(this,4,K,q,ee,arguments[2])},setUint32:function(K,ee){W(this,4,K,q,ee,arguments[2])},setFloat32:function(K,ee){W(this,4,K,j,ee,arguments[2])},setFloat64:function(K,ee){W(this,8,K,z,ee,arguments[2])}});_(b,"ArrayBuffer"),_(k,"DataView"),u(k.prototype,a.VIEW,!0),i.ArrayBuffer=b,i.DataView=k},function(n,i){function e(o,s){return n.exports=e=Object.setPrototypeOf||function(l,a){return l.__proto__=a,l},e(o,s)}n.exports=e},function(n,i,e){var o,s,l;s=[i],(l=typeof(o=function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=function(d){var f={get id(){return d.id},get name(){return d.name},get config(){return d.config},get holder(){return d.holder},get isEmpty(){return d.isEmpty},get selected(){return d.selected},set stretched(c){d.stretched=c},get stretched(){return d.stretched},call:function(c,h){return d.call(c,h)},save:function(){return d.save()},validate:function(c){return d.validate(c)}};Object.setPrototypeOf(this,f)};a.default=u,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(42),e(2),e(3),e(383)],(l=typeof(o=function(a,u,d,f,c){var h=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=h(u),d=h(d),f=h(f),c=h(c);var v=function(){function y(){(0,d.default)(this,y),this.registeredShortcuts=new Map}return(0,f.default)(y,[{key:"add",value:function(p){if(this.findShortcut(p.on,p.name))throw Error("Shortcut ".concat(p.name," is already registered for ").concat(p.on,". Please remove it before add a new handler."));var g=new c.default({name:p.name,on:p.on,callback:p.handler}),_=this.registeredShortcuts.get(p.on)||[];this.registeredShortcuts.set(p.on,[].concat((0,u.default)(_),[g]))}},{key:"remove",value:function(p,g){var _=this.findShortcut(p,g);if(_){_.remove();var b=this.registeredShortcuts.get(p);this.registeredShortcuts.set(p,b.filter(function(k){return k!==_}))}}},{key:"findShortcut",value:function(p,g){return(this.registeredShortcuts.get(p)||[]).find(function(_){return _.name===g})}}]),y}();v.displayName="Shortcuts";var m=new v;a.default=m,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){n.exports=!e(18)&&!e(11)(function(){return Object.defineProperty(e(85)("div"),"a",{get:function(){return 7}}).a!=7})},function(n,i,e){var o=e(10),s=e(17),l=e(45),a=e(86),u=e(19).f;n.exports=function(d){var f=s.Symbol||(s.Symbol=l?{}:o.Symbol||{});d.charAt(0)=="_"||d in f||u(f,d,{value:a.f(d)})}},function(n,i,e){var o=e(26),s=e(28),l=e(69)(!1),a=e(87)("IE_PROTO");n.exports=function(u,d){var f,c=s(u),h=0,v=[];for(f in c)f!=a&&o(c,f)&&v.push(f);for(;d.length>h;)o(c,f=d[h++])&&(~l(v,f)||v.push(f));return v}},function(n,i,e){var o=e(19),s=e(12),l=e(46);n.exports=e(18)?Object.defineProperties:function(a,u){s(a);for(var d,f=l(u),c=f.length,h=0;c>h;)o.f(a,d=f[h++],u[d]);return a}},function(n,i,e){var o=e(28),s=e(49).f,l={}.toString,a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return a&&l.call(u)=="[object Window]"?function(d){try{return s(d)}catch{return a.slice()}}(u):s(o(u))}},function(n,i,e){var o=e(18),s=e(46),l=e(70),a=e(62),u=e(20),d=e(61),f=Object.assign;n.exports=!f||e(11)(function(){var c={},h={},v=Symbol(),m="abcdefghijklmnopqrst";return c[v]=7,m.split("").forEach(function(y){h[y]=y}),f({},c)[v]!=7||Object.keys(f({},h)).join("")!=m})?function(c,h){for(var v=u(c),m=arguments.length,y=1,p=l.f,g=a.f;m>y;)for(var _,b=d(arguments[y++]),k=p?s(b).concat(p(b)):s(b),w=k.length,S=0;w>S;)_=k[S++],o&&!g.call(b,_)||(v[_]=b[_]);return v}:f},function(n,i){n.exports=Object.is||function(e,o){return e===o?e!==0||1/e==1/o:e!=e&&o!=o}},function(n,i,e){var o=e(32),s=e(13),l=e(121),a=[].slice,u={},d=function(f,c,h){if(!(c in u)){for(var v=[],m=0;m<c;m++)v[m]="a["+m+"]";u[c]=Function("F,a","return new F("+v.join(",")+")")}return u[c](f,h)};n.exports=Function.bind||function(f){var c=o(this),h=a.call(arguments,1),v=function(){var m=h.concat(a.call(arguments));return this instanceof v?d(c,m.length,m):l(c,m,f)};return s(c.prototype)&&(v.prototype=c.prototype),v}},function(n,i){n.exports=function(e,o,s){var l=s===void 0;switch(o.length){case 0:return l?e():e.call(s);case 1:return l?e(o[0]):e.call(s,o[0]);case 2:return l?e(o[0],o[1]):e.call(s,o[0],o[1]);case 3:return l?e(o[0],o[1],o[2]):e.call(s,o[0],o[1],o[2]);case 4:return l?e(o[0],o[1],o[2],o[3]):e.call(s,o[0],o[1],o[2],o[3])}return e.apply(s,o)}},function(n,i,e){var o=e(10).parseInt,s=e(54).trim,l=e(91),a=/^[-+]?0[xX]/;n.exports=o(l+"08")!==8||o(l+"0x16")!==22?function(u,d){var f=s(String(u),3);return o(f,d>>>0||(a.test(f)?16:10))}:o},function(n,i,e){var o=e(10).parseFloat,s=e(54).trim;n.exports=1/o(e(91)+"-0")!=-1/0?function(l){var a=s(String(l),3),u=o(a);return u===0&&a.charAt(0)=="-"?-0:u}:o},function(n,i,e){var o=e(37);n.exports=function(s,l){if(typeof s!="number"&&o(s)!="Number")throw TypeError(l);return+s}},function(n,i,e){var o=e(13),s=Math.floor;n.exports=function(l){return!o(l)&&isFinite(l)&&s(l)===l}},function(n,i){n.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(n,i,e){var o=e(48),s=e(43),l=e(53),a={};e(27)(a,e(14)("iterator"),function(){return this}),n.exports=function(u,d,f){u.prototype=o(a,{next:s(1,f)}),l(u,d+" Iterator")}},function(n,i,e){var o=e(12);n.exports=function(s,l,a,u){try{return u?l(o(a)[0],a[1]):l(a)}catch(f){var d=s.return;throw d!==void 0&&o(d.call(s)),f}}},function(n,i,e){var o=e(281);n.exports=function(s,l){return new(o(s))(l)}},function(n,i,e){var o=e(32),s=e(20),l=e(61),a=e(16);n.exports=function(u,d,f,c,h){o(d);var v=s(u),m=l(v),y=a(v.length),p=h?y-1:0,g=h?-1:1;if(f<2)for(;;){if(p in m){c=m[p],p+=g;break}if(p+=g,h?p<0:y<=p)throw TypeError("Reduce of empty array with no initial value")}for(;h?p>=0:y>p;p+=g)p in m&&(c=d(c,m[p],p,v));return c}},function(n,i,e){var o=e(20),s=e(47),l=e(16);n.exports=[].copyWithin||function(a,u){var d=o(this),f=l(d.length),c=s(a,f),h=s(u,f),v=arguments.length>2?arguments[2]:void 0,m=Math.min((v===void 0?f:s(v,f))-h,f-c),y=1;for(h<c&&c<h+m&&(y=-1,h+=m-1,c+=m-1);m-- >0;)h in d?d[c]=d[h]:delete d[c],c+=y,h+=y;return d}},function(n,i){n.exports=function(e,o){return{value:o,done:!!e}}},function(n,i,e){var o=e(106);e(0)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(n,i,e){e(18)&&/./g.flags!="g"&&e(19).f(RegExp.prototype,"flags",{configurable:!0,get:e(73)})},function(n,i,e){var o,s,l,a,u=e(45),d=e(10),f=e(31),c=e(63),h=e(0),v=e(13),m=e(32),y=e(57),p=e(76),g=e(64),_=e(108).set,b=e(301)(),k=e(136),w=e(302),S=e(77),O=e(137),A=d.TypeError,T=d.process,x=T&&T.versions,E=x&&x.v8||"",C=d.Promise,N=c(T)=="process",R=function(){},I=s=k.f,L=!!function(){try{var j=C.resolve(1),F=(j.constructor={})[e(14)("species")]=function(H){H(R,R)};return(N||typeof PromiseRejectionEvent=="function")&&j.then(R)instanceof F&&E.indexOf("6.6")!==0&&S.indexOf("Chrome/66")===-1}catch{}}(),P=function(j){var F;return!(!v(j)||typeof(F=j.then)!="function")&&F},D=function(j,F){if(!j._n){j._n=!0;var H=j._c;b(function(){for(var W=j._v,V=j._s==1,X=0,Q=function(ie){var $,G,K,ee=V?ie.ok:ie.fail,re=ie.resolve,Y=ie.reject,Z=ie.domain;try{ee?(V||(j._h==2&&B(j),j._h=1),ee===!0?$=W:(Z&&Z.enter(),$=ee(W),Z&&(Z.exit(),K=!0)),$===ie.promise?Y(A("Promise-chain cycle")):(G=P($))?G.call($,re,Y):re($)):Y(W)}catch(te){Z&&!K&&Z.exit(),Y(te)}};H.length>X;)Q(H[X++]);j._c=[],j._n=!1,F&&!j._h&&U(j)})}},U=function(j){_.call(d,function(){var F,H,W,V=j._v,X=M(j);if(X&&(F=w(function(){N?T.emit("unhandledRejection",V,j):(H=d.onunhandledrejection)?H({promise:j,reason:V}):(W=d.console)&&W.error&&W.error("Unhandled promise rejection",V)}),j._h=N||M(j)?2:1),j._a=void 0,X&&F.e)throw F.v})},M=function(j){return j._h!==1&&(j._a||j._c).length===0},B=function(j){_.call(d,function(){var F;N?T.emit("rejectionHandled",j):(F=d.onrejectionhandled)&&F({promise:j,reason:j._v})})},q=function(j){var F=this;F._d||(F._d=!0,(F=F._w||F)._v=j,F._s=2,F._a||(F._a=F._c.slice()),D(F,!0))},z=function(j){var F,H=this;if(!H._d){H._d=!0,H=H._w||H;try{if(H===j)throw A("Promise can't be resolved itself");(F=P(j))?b(function(){var W={_w:H,_d:!1};try{F.call(j,f(z,W,1),f(q,W,1))}catch(V){q.call(W,V)}}):(H._v=j,H._s=1,D(H,!1))}catch(W){q.call({_w:H,_d:!1},W)}}};L||(C=function(j){y(this,C,"Promise","_h"),m(j),o.call(this);try{j(f(z,this,1),f(q,this,1))}catch(F){q.call(this,F)}},(o=function(j){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e(58)(C.prototype,{then:function(j,F){var H=I(g(this,C));return H.ok=typeof j!="function"||j,H.fail=typeof F=="function"&&F,H.domain=N?T.domain:void 0,this._c.push(H),this._a&&this._a.push(H),this._s&&D(this,!1),H.promise},catch:function(j){return this.then(void 0,j)}}),l=function(){var j=new o;this.promise=j,this.resolve=f(z,j,1),this.reject=f(q,j,1)},k.f=I=function(j){return j===C||j===a?new l(j):s(j)}),h(h.G+h.W+h.F*!L,{Promise:C}),e(53)(C,"Promise"),e(56)("Promise"),a=e(17).Promise,h(h.S+h.F*!L,"Promise",{reject:function(j){var F=I(this);return(0,F.reject)(j),F.promise}}),h(h.S+h.F*(u||!L),"Promise",{resolve:function(j){return O(u&&this===a?C:this,j)}}),h(h.S+h.F*!(L&&e(72)(function(j){C.all(j).catch(R)})),"Promise",{all:function(j){var F=this,H=I(F),W=H.resolve,V=H.reject,X=w(function(){var Q=[],ie=0,$=1;p(j,!1,function(G){var K=ie++,ee=!1;Q.push(void 0),$++,F.resolve(G).then(function(re){ee||(ee=!0,Q[K]=re,--$||W(Q))},V)}),--$||W(Q)});return X.e&&V(X.v),H.promise},race:function(j){var F=this,H=I(F),W=H.reject,V=w(function(){p(j,!1,function(X){F.resolve(X).then(H.resolve,W)})});return V.e&&W(V.v),H.promise}})},function(n,i,e){var o=e(32);function s(l){var a,u;this.promise=new l(function(d,f){if(a!==void 0||u!==void 0)throw TypeError("Bad Promise constructor");a=d,u=f}),this.resolve=o(a),this.reject=o(u)}n.exports.f=function(l){return new s(l)}},function(n,i,e){var o=e(12),s=e(13),l=e(136);n.exports=function(a,u){if(o(a),s(u)&&u.constructor===a)return u;var d=l.f(a);return(0,d.resolve)(u),d.promise}},function(n,i,e){var o=e(19).f,s=e(48),l=e(58),a=e(31),u=e(57),d=e(76),f=e(97),c=e(132),h=e(56),v=e(18),m=e(41).fastKey,y=e(52),p=v?"_s":"size",g=function(_,b){var k,w=m(b);if(w!=="F")return _._i[w];for(k=_._f;k;k=k.n)if(k.k==b)return k};n.exports={getConstructor:function(_,b,k,w){var S=_(function(O,A){u(O,S,b,"_i"),O._t=b,O._i=s(null),O._f=void 0,O._l=void 0,O[p]=0,A!=null&&d(A,k,O[w],O)});return l(S.prototype,{clear:function(){for(var O=y(this,b),A=O._i,T=O._f;T;T=T.n)T.r=!0,T.p&&(T.p=T.p.n=void 0),delete A[T.i];O._f=O._l=void 0,O[p]=0},delete:function(O){var A=y(this,b),T=g(A,O);if(T){var x=T.n,E=T.p;delete A._i[T.i],T.r=!0,E&&(E.n=x),x&&(x.p=E),A._f==T&&(A._f=x),A._l==T&&(A._l=E),A[p]--}return!!T},forEach:function(O){y(this,b);for(var A,T=a(O,arguments.length>1?arguments[1]:void 0,3);A=A?A.n:this._f;)for(T(A.v,A.k,this);A&&A.r;)A=A.p},has:function(O){return!!g(y(this,b),O)}}),v&&o(S.prototype,"size",{get:function(){return y(this,b)[p]}}),S},def:function(_,b,k){var w,S,O=g(_,b);return O?O.v=k:(_._l=O={i:S=m(b,!0),k:b,v:k,p:w=_._l,n:void 0,r:!1},_._f||(_._f=O),w&&(w.n=O),_[p]++,S!=="F"&&(_._i[S]=O)),_},getEntry:g,setStrong:function(_,b,k){f(_,b,function(w,S){this._t=y(w,b),this._k=S,this._l=void 0},function(){for(var w=this._k,S=this._l;S&&S.r;)S=S.p;return this._t&&(this._l=S=S?S.n:this._t._f)?c(0,w=="keys"?S.k:w=="values"?S.v:[S.k,S.v]):(this._t=void 0,c(1))},k?"entries":"values",!k,!0),h(b)}}},function(n,i,e){var o=e(58),s=e(41).getWeak,l=e(12),a=e(13),u=e(57),d=e(76),f=e(36),c=e(26),h=e(52),v=f(5),m=f(6),y=0,p=function(b){return b._l||(b._l=new g)},g=function(){this.a=[]},_=function(b,k){return v(b.a,function(w){return w[0]===k})};g.prototype={get:function(b){var k=_(this,b);if(k)return k[1]},has:function(b){return!!_(this,b)},set:function(b,k){var w=_(this,b);w?w[1]=k:this.a.push([b,k])},delete:function(b){var k=m(this.a,function(w){return w[0]===b});return~k&&this.a.splice(k,1),!!~k}},n.exports={getConstructor:function(b,k,w,S){var O=b(function(A,T){u(A,O,k,"_i"),A._t=k,A._i=y++,A._l=void 0,T!=null&&d(T,w,A[S],A)});return o(O.prototype,{delete:function(A){if(!a(A))return!1;var T=s(A);return T===!0?p(h(this,k)).delete(A):T&&c(T,this._i)&&delete T[this._i]},has:function(A){if(!a(A))return!1;var T=s(A);return T===!0?p(h(this,k)).has(A):T&&c(T,this._i)}}),O},def:function(b,k,w){var S=s(l(k),!0);return S===!0?p(b).set(k,w):S[b._i]=w,b},ufstore:p}},function(n,i,e){var o=e(33),s=e(16);n.exports=function(l){if(l===void 0)return 0;var a=o(l),u=s(a);if(a!==u)throw RangeError("Wrong length!");return u}},function(n,i,e){var o=e(49),s=e(70),l=e(12),a=e(10).Reflect;n.exports=a&&a.ownKeys||function(u){var d=o.f(l(u)),f=s.f;return f?d.concat(f(u)):d}},function(n,i,e){var o=e(16),s=e(93),l=e(38);n.exports=function(a,u,d,f){var c=String(l(a)),h=c.length,v=d===void 0?" ":String(d),m=o(u);if(m<=h||v=="")return c;var y=m-h,p=s.call(v,Math.ceil(y/v.length));return p.length>y&&(p=p.slice(0,y)),f?p+c:c+p}},function(n,i,e){var o=e(18),s=e(46),l=e(28),a=e(62).f;n.exports=function(u){return function(d){for(var f,c=l(d),h=s(c),v=h.length,m=0,y=[];v>m;)f=h[m++],o&&!a.call(c,f)||y.push(u?[f,c[f]]:c[f]);return y}}},function(n,i,e){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function h(R,I,L,P){var D=I&&I.prototype instanceof y?I:y,U=Object.create(D.prototype),M=new E(P||[]);return U._invoke=function(B,q,z){var j="suspendedStart";return function(F,H){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(F==="throw")throw H;return N()}for(z.method=F,z.arg=H;;){var W=z.delegate;if(W){var V=A(W,z);if(V){if(V===m)continue;return V}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(j==="suspendedStart")throw j="completed",z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);j="executing";var X=v(B,q,z);if(X.type==="normal"){if(j=z.done?"completed":"suspendedYield",X.arg===m)continue;return{value:X.arg,done:z.done}}X.type==="throw"&&(j="completed",z.method="throw",z.arg=X.arg)}}}(R,L,M),U}function v(R,I,L){try{return{type:"normal",arg:R.call(I,L)}}catch(P){return{type:"throw",arg:P}}}s.wrap=h;var m={};function y(){}function p(){}function g(){}var _={};_[d]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(C([])));k&&k!==l&&a.call(k,d)&&(_=k);var w=g.prototype=y.prototype=Object.create(_);function S(R){["next","throw","return"].forEach(function(I){R[I]=function(L){return this._invoke(I,L)}})}function O(R,I){var L;this._invoke=function(P,D){function U(){return new I(function(M,B){(function q(z,j,F,H){var W=v(R[z],R,j);if(W.type!=="throw"){var V=W.arg,X=V.value;return X&&typeof X=="object"&&a.call(X,"__await")?I.resolve(X.__await).then(function(Q){q("next",Q,F,H)},function(Q){q("throw",Q,F,H)}):I.resolve(X).then(function(Q){V.value=Q,F(V)},function(Q){return q("throw",Q,F,H)})}H(W.arg)})(P,D,M,B)})}return L=L?L.then(U,U):U()}}function A(R,I){var L=R.iterator[I.method];if(L===void 0){if(I.delegate=null,I.method==="throw"){if(R.iterator.return&&(I.method="return",I.arg=void 0,A(R,I),I.method==="throw"))return m;I.method="throw",I.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var P=v(L,R.iterator,I.arg);if(P.type==="throw")return I.method="throw",I.arg=P.arg,I.delegate=null,m;var D=P.arg;return D?D.done?(I[R.resultName]=D.value,I.next=R.nextLoc,I.method!=="return"&&(I.method="next",I.arg=void 0),I.delegate=null,m):D:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,m)}function T(R){var I={tryLoc:R[0]};1 in R&&(I.catchLoc=R[1]),2 in R&&(I.finallyLoc=R[2],I.afterLoc=R[3]),this.tryEntries.push(I)}function x(R){var I=R.completion||{};I.type="normal",delete I.arg,R.completion=I}function E(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(T,this),this.reset(!0)}function C(R){if(R){var I=R[d];if(I)return I.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var L=-1,P=function D(){for(;++L<R.length;)if(a.call(R,L))return D.value=R[L],D.done=!1,D;return D.value=void 0,D.done=!0,D};return P.next=P}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=w.constructor=g,g.constructor=p,g[c]=p.displayName="GeneratorFunction",s.isGeneratorFunction=function(R){var I=typeof R=="function"&&R.constructor;return!!I&&(I===p||(I.displayName||I.name)==="GeneratorFunction")},s.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,g):(R.__proto__=g,c in R||(R[c]="GeneratorFunction")),R.prototype=Object.create(w),R},s.awrap=function(R){return{__await:R}},S(O.prototype),O.prototype[f]=function(){return this},s.AsyncIterator=O,s.async=function(R,I,L,P,D){D===void 0&&(D=Promise);var U=new O(h(R,I,L,P),D);return s.isGeneratorFunction(I)?U:U.next().then(function(M){return M.done?M.value:U.next()})},S(w),w[c]="Generator",w[d]=function(){return this},w.toString=function(){return"[object Generator]"},s.keys=function(R){var I=[];for(var L in R)I.push(L);return I.reverse(),function P(){for(;I.length;){var D=I.pop();if(D in R)return P.value=D,P.done=!1,P}return P.done=!0,P}},s.values=C,E.prototype={constructor:E,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!R)for(var I in this)I.charAt(0)==="t"&&a.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var I=this;function L(q,z){return U.type="throw",U.arg=R,I.next=q,z&&(I.method="next",I.arg=void 0),!!z}for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P],U=D.completion;if(D.tryLoc==="root")return L("end");if(D.tryLoc<=this.prev){var M=a.call(D,"catchLoc"),B=a.call(D,"finallyLoc");if(M&&B){if(this.prev<D.catchLoc)return L(D.catchLoc,!0);if(this.prev<D.finallyLoc)return L(D.finallyLoc)}else if(M){if(this.prev<D.catchLoc)return L(D.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return L(D.finallyLoc)}}}},abrupt:function(R,I){for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L];if(P.tryLoc<=this.prev&&a.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var D=P;break}}D&&(R==="break"||R==="continue")&&D.tryLoc<=I&&I<=D.finallyLoc&&(D=null);var U=D?D.completion:{};return U.type=R,U.arg=I,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(U)},complete:function(R,I){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&I&&(this.next=I),m},finish:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I];if(L.finallyLoc===R)return this.complete(L.completion,L.afterLoc),x(L),m}},catch:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I];if(L.tryLoc===R){var P=L.completion;if(P.type==="throw"){var D=P.arg;x(L)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(R,I,L){return this.delegate={iterator:C(R),resultName:I,nextLoc:L},this.method==="next"&&(this.arg=void 0),m}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,i,e){var o=e(146);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,i){n.exports=function(e,o){(o==null||o>e.length)&&(o=e.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=e[s];return l}},function(n){n.exports=JSON.parse('{"ui":{"blockTunes":{"toggler":{"Click to tune":"","or drag to move":""}},"inlineToolbar":{"converter":{"Convert to":""}},"toolbar":{"toolbox":{"Add":""}}},"toolNames":{"Text":"","Link":"","Bold":"","Italic":""},"tools":{"link":{"Add a link":""},"stub":{"The block can not be displayed correctly.":""}},"blockTunes":{"delete":{"Delete":""},"moveUp":{"Move up":""},"moveDown":{"Move down":""}}}')},function(n,i,e){var o,s,l;s=[i,e(2),e(5),e(6),e(4),e(150)],(l=typeof(o=function(a,u,d,f,c,h){var v=e(1);function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.CriticalError=void 0,u=v(u),d=v(d),f=v(f),c=v(c);var y=function(p){(0,d.default)(b,p);var g,_=(g=b,function(){var k,w=(0,c.default)(g);if(m()){var S=(0,c.default)(this).constructor;k=Reflect.construct(w,arguments,S)}else k=w.apply(this,arguments);return(0,f.default)(this,k)});function b(){return(0,u.default)(this,b),_.apply(this,arguments)}return b}((0,(h=v(h)).default)(Error));a.CriticalError=y,y.displayName="CriticalError"})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i){n.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(n,i,e){var o=e(4),s=e(110),l=e(371),a=e(372);function u(d){var f=typeof Map=="function"?new Map:void 0;return n.exports=u=function(c){if(c===null||!l(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(f!==void 0){if(f.has(c))return f.get(c);f.set(c,h)}function h(){return a(c,arguments,o(this).constructor)}return h.prototype=Object.create(c.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),s(h,c)},u(d)}n.exports=u},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(7)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d);var h=function(){function v(){(0,u.default)(this,v),this.subscribers={}}return(0,d.default)(v,[{key:"on",value:function(m,y){m in this.subscribers||(this.subscribers[m]=[]),this.subscribers[m].push(y)}},{key:"once",value:function(m,y){var p=this;m in this.subscribers||(this.subscribers[m]=[]),this.subscribers[m].push(function g(_){var b=y(_),k=p.subscribers[m].indexOf(g);return k!==-1&&p.subscribers[m].splice(k,1),b})}},{key:"emit",value:function(m,y){!(0,f.isEmpty)(this.subscribers)&&this.subscribers[m]&&this.subscribers[m].reduce(function(p,g){return g(p)||p},y)}},{key:"off",value:function(m,y){for(var p=0;p<this.subscribers[m].length;p++)if(this.subscribers[m][p]===y){delete this.subscribers[m][p];break}}},{key:"destroy",value:function(){this.subscribers=null}}]),v}();a.default=h,h.displayName="EventsDispatcher",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(7),e(111),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y){var p=e(8),g=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=g(u),d=g(d),f=g(f),c=g(c),h=g(h),v=p(v),m=g(m);var b=function(k){(0,f.default)(O,k);var w,S=(w=O,function(){var A,T=(0,h.default)(w);if(_()){var x=(0,h.default)(this).constructor;A=Reflect.construct(T,arguments,x)}else A=T.apply(this,arguments);return(0,c.default)(this,A)});function O(){var A;return(0,u.default)(this,O),(A=S.apply(this,arguments)).insert=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.config.defaultBlock,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=arguments.length>3?arguments[3]:void 0,C=arguments.length>4?arguments[4]:void 0;A.Editor.BlockManager.insert({tool:T,data:x,index:E,needToFocus:C})},A.update=function(T,x){var E=A.Editor.BlockManager,C=E.getBlockById(T);if(C){var N=E.getBlockIndex(C);E.insert({id:C.id,tool:C.name,data:x,index:N,replace:!0,tunes:C.tunes})}else v.log("blocks.update(): Block with passed id was not found","warn")},A}return(0,d.default)(O,[{key:"getBlocksCount",value:function(){return this.Editor.BlockManager.blocks.length}},{key:"getCurrentBlockIndex",value:function(){return this.Editor.BlockManager.currentBlockIndex}},{key:"getBlockByIndex",value:function(A){var T=this.Editor.BlockManager.getBlockByIndex(A);if(T!==void 0)return new m.default(T);v.logLabeled("There is no block at index `"+A+"`","warn")}},{key:"getById",value:function(A){var T=this.Editor.BlockManager.getBlockById(A);return T===void 0?(v.logLabeled("There is no block with id `"+A+"`","warn"),null):new m.default(T)}},{key:"swap",value:function(A,T){v.log("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(A,T),this.Editor.Toolbar.move(!1)}},{key:"move",value:function(A,T){this.Editor.BlockManager.move(A,T),this.Editor.Toolbar.move(!1)}},{key:"delete",value:function(A){try{this.Editor.BlockManager.removeBlock(A)}catch(T){return void v.logLabeled(T,"warn")}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}},{key:"clear",value:function(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}},{key:"render",value:function(A){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(A.blocks)}},{key:"renderFromHTML",value:function(A){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(A,!0)}},{key:"stretchBlock",value:function(A){var T=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];v.deprecationAssert(!0,"blocks.stretchBlock()","BlockAPI");var x=this.Editor.BlockManager.getBlockByIndex(A);x&&(x.stretched=T)}},{key:"insertNewBlock",value:function(){v.log("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},{key:"methods",get:function(){var A=this;return{clear:function(){return A.clear()},render:function(T){return A.render(T)},renderFromHTML:function(T){return A.renderFromHTML(T)},delete:function(T){return A.delete(T)},swap:function(T,x){return A.swap(T,x)},move:function(T,x){return A.move(T,x)},getBlockByIndex:function(T){return A.getBlockByIndex(T)},getById:function(T){return A.getById(T)},getCurrentBlockIndex:function(){return A.getCurrentBlockIndex()},getBlocksCount:function(){return A.getBlocksCount()},stretchBlock:function(T){var x=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return A.stretchBlock(T,x)},insertNewBlock:function(){return A.insertNewBlock()},insert:this.insert,update:this.update}}}]),O}((y=g(y)).default);a.default=b,b.displayName="BlocksAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){var w;return(0,u.default)(this,k),(w=b.apply(this,arguments)).setToFirstBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.firstBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.firstBlock,S,O),!0)},w.setToLastBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.lastBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.lastBlock,S,O),!0)},w.setToPreviousBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.previousBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.previousBlock,S,O),!0)},w.setToNextBlock=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.Editor.Caret.positions.DEFAULT,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return!!w.Editor.BlockManager.nextBlock&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.nextBlock,S,O),!0)},w.setToBlock=function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.Editor.Caret.positions.DEFAULT,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return!!w.Editor.BlockManager.blocks[S]&&(w.Editor.Caret.setToBlock(w.Editor.BlockManager.blocks[S],O,A),!0)},w.focus=function(){var S=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return S?w.setToLastBlock(w.Editor.Caret.positions.END):w.setToFirstBlock(w.Editor.Caret.positions.START)},w}return(0,d.default)(k,[{key:"methods",get:function(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}]),k}((v=m(v)).default);a.default=p,p.displayName="CaretAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"on",value:function(w,S){this.eventsDispatcher.on(w,S)}},{key:"emit",value:function(w,S){this.eventsDispatcher.emit(w,S)}},{key:"off",value:function(w,S){this.eventsDispatcher.off(w,S)}},{key:"methods",get:function(){var w=this;return{emit:function(S,O){return w.emit(S,O)},off:function(S,O){return w.off(S,O)},on:function(S,O){return w.on(S,O)}}}}]),k}((v=m(v)).default);a.default=p,p.displayName="EventsAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(59),e(7),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y){var p=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=p(u),d=p(d),f=p(f),c=p(c),h=p(h),v=p(v);var _=function(b){(0,f.default)(S,b);var k,w=(k=S,function(){var O,A=(0,h.default)(k);if(g()){var T=(0,h.default)(this).constructor;O=Reflect.construct(A,arguments,T)}else O=A.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,u.default)(this,S),w.apply(this,arguments)}return(0,d.default)(S,[{key:"getMethodsForTool",value:function(O){return Object.assign(this.methods,{t:function(A){return v.default.t(S.getNamespace(O),A)}})}},{key:"methods",get:function(){return{t:function(){(0,m.logLabeled)("I18n.t() method can be accessed only from Tools","warn")}}}}],[{key:"getNamespace",value:function(O){return O.isTune()?"blockTunes.".concat(O.name):"tools.".concat(O.name)}}]),S}((y=p(y)).default);a.default=_,_.displayName="I18nAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"open",value:function(){this.Editor.InlineToolbar.tryToShow()}},{key:"close",value:function(){this.Editor.InlineToolbar.close()}},{key:"methods",get:function(){var w=this;return{close:function(){return w.close()},open:function(){return w.open()}}}}]),k}((v=m(v)).default);a.default=p,p.displayName="InlineToolbarAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"on",value:function(w,S,O,A){this.listeners.on(w,S,O,A)}},{key:"off",value:function(w,S,O,A){this.listeners.off(w,S,O,A)}},{key:"methods",get:function(){var w=this;return{on:function(S,O,A,T){return w.on(S,O,A,T)},off:function(S,O,A,T){return w.off(S,O,A,T)}}}}]),k}((v=m(v)).default);a.default=p,p.displayName="ListenersAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(376),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h),v=y(v);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(S){var O,A=S.config,T=S.eventsDispatcher;return(0,u.default)(this,w),(O=k.call(this,{config:A,eventsDispatcher:T})).notifier=new v.default,O}return(0,d.default)(w,[{key:"show",value:function(S){return this.notifier.show(S)}},{key:"methods",get:function(){var S=this;return{show:function(O){return S.show(O)}}}}]),w}((m=y(m)).default);a.default=g,g.displayName="NotifierAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"toggle",value:function(w){return this.Editor.ReadOnly.toggle(w)}},{key:"methods",get:function(){var w=this;return{toggle:function(S){return w.toggle(S)},isEnabled:this.isEnabled}}},{key:"isEnabled",get:function(){return this.Editor.ReadOnly.isEnabled}}]),k}((v=m(v)).default);a.default=p,p.displayName="ReadOnlyAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(65)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(){return(0,u.default)(this,w),k.apply(this,arguments)}return(0,d.default)(w,[{key:"clean",value:function(S,O){return(0,m.clean)(S,O)}},{key:"methods",get:function(){var S=this;return{clean:function(O,A){return S.clean(O,A)}}}}]),w}((v=y(v)).default);a.default=g,g.displayName="SanitizerAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(7),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(8),p=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=p(u),d=p(d),f=p(f),c=p(c),h=p(h),v=y(v);var _=function(b){(0,f.default)(S,b);var k,w=(k=S,function(){var O,A=(0,h.default)(k);if(g()){var T=(0,h.default)(this).constructor;O=Reflect.construct(A,arguments,T)}else O=A.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,u.default)(this,S),w.apply(this,arguments)}return(0,d.default)(S,[{key:"save",value:function(){var O="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(v.logLabeled(O,"warn"),Promise.reject(new Error(O))):this.Editor.Saver.save()}},{key:"methods",get:function(){var O=this;return{save:function(){return O.save()}}}}]),S}((m=p(m)).default);a.default=_,_.displayName="SaverAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h),v=y(v);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(){return(0,u.default)(this,w),k.apply(this,arguments)}return(0,d.default)(w,[{key:"findParentTag",value:function(S,O){return new v.default().findParentTag(S,O)}},{key:"expandToTag",value:function(S){new v.default().expandToTag(S)}},{key:"methods",get:function(){var S=this;return{findParentTag:function(O,A){return S.findParentTag(O,A)},expandToTag:function(O){return S.expandToTag(O)}}}}]),w}((m=y(m)).default);a.default=g,g.displayName="SelectionAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=m(h);var p=function(g){(0,f.default)(k,g);var _,b=(_=k,function(){var w,S=(0,h.default)(_);if(y()){var O=(0,h.default)(this).constructor;w=Reflect.construct(S,arguments,O)}else w=S.apply(this,arguments);return(0,c.default)(this,w)});function k(){return(0,u.default)(this,k),b.apply(this,arguments)}return(0,d.default)(k,[{key:"classes",get:function(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}]),k}((v=m(v)).default);a.default=p,p.displayName="StylesAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(8),p=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=p(u),d=p(d),f=p(f),c=p(c),h=p(h),v=p(v),m=y(m);var _=function(b){(0,f.default)(S,b);var k,w=(k=S,function(){var O,A=(0,h.default)(k);if(g()){var T=(0,h.default)(this).constructor;O=Reflect.construct(A,arguments,T)}else O=A.apply(this,arguments);return(0,c.default)(this,O)});function S(){return(0,u.default)(this,S),w.apply(this,arguments)}return(0,d.default)(S,[{key:"open",value:function(){this.Editor.Toolbar.open()}},{key:"close",value:function(){this.Editor.Toolbar.close()}},{key:"toggleBlockSettings",value:function(O){if(this.Editor.BlockManager.currentBlockIndex!==-1){var A=O!=null?O:!this.Editor.BlockSettings.opened;O!==this.Editor.BlockSettings.opened&&(A?(this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close())}else m.logLabeled("Could't toggle the Toolbar because there is no block selected ","warn")}},{key:"methods",get:function(){var O=this;return{close:function(){return O.close()},open:function(){return O.open()},toggleBlockSettings:function(A){return O.toggleBlockSettings(A)}}}}]),S}(v.default);a.default=_,_.displayName="ToolbarAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(82)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h),v=y(v),m=y(m);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(S){var O,A=S.config,T=S.eventsDispatcher;return(0,u.default)(this,w),(O=k.call(this,{config:A,eventsDispatcher:T})).tooltip=new m.default,O}return(0,d.default)(w,[{key:"destroy",value:function(){this.tooltip.destroy()}},{key:"show",value:function(S,O,A){this.tooltip.show(S,O,A)}},{key:"hide",value:function(){this.tooltip.hide()}},{key:"onHover",value:function(S,O,A){this.tooltip.onHover(S,O,A)}},{key:"methods",get:function(){var S=this;return{show:function(O,A,T){return S.show(O,A,T)},hide:function(){return S.hide()},onHover:function(O,A,T){return S.onHover(O,A,T)}}}}]),w}(v.default);a.default=g,g.displayName="TooltipAPI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(25),e(60)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(8),_=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=_(u),d=_(d),f=_(f),c=_(c),h=_(h),v=_(v),m=g(m),y=_(y),p=_(p);var k=function(w){(0,f.default)(A,w);var S,O=(S=A,function(){var T,x=(0,h.default)(S);if(b()){var E=(0,h.default)(this).constructor;T=Reflect.construct(x,arguments,E)}else T=x.apply(this,arguments);return(0,c.default)(this,T)});function A(){return(0,u.default)(this,A),O.apply(this,arguments)}return(0,d.default)(A,[{key:"keydown",value:function(T){switch(this.beforeKeydownProcessing(T),T.keyCode){case m.keyCodes.BACKSPACE:this.backspace(T);break;case m.keyCodes.ENTER:this.enter(T);break;case m.keyCodes.DOWN:case m.keyCodes.RIGHT:this.arrowRightAndDown(T);break;case m.keyCodes.UP:case m.keyCodes.LEFT:this.arrowLeftAndUp(T);break;case m.keyCodes.TAB:this.tabPressed(T)}}},{key:"beforeKeydownProcessing",value:function(T){this.needToolbarClosing(T)&&m.isPrintableKey(T.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(T)))}},{key:"keyup",value:function(T){T.shiftKey||this.Editor.UI.checkEmptiness()}},{key:"tabPressed",value:function(T){this.Editor.BlockSelection.clearSelection(T);var x=this.Editor,E=x.BlockManager,C=x.InlineToolbar,N=x.ConversionToolbar,R=E.currentBlock;if(R){var I=R.tool.isDefault&&R.isEmpty,L=!R.isEmpty&&N.opened,P=!R.isEmpty&&!y.default.isCollapsed&&C.opened;I?this.activateToolbox():L||P||this.activateBlockSettings()}}},{key:"dragOver",value:function(T){this.Editor.BlockManager.getBlockByChildNode(T.target).dropTarget=!0}},{key:"dragLeave",value:function(T){this.Editor.BlockManager.getBlockByChildNode(T.target).dropTarget=!1}},{key:"handleCommandC",value:function(T){var x=this.Editor.BlockSelection;x.anyBlockSelected&&x.copySelectedBlocks(T)}},{key:"handleCommandX",value:function(T){var x=this.Editor,E=x.BlockSelection,C=x.BlockManager,N=x.Caret;E.anyBlockSelected&&E.copySelectedBlocks(T).then(function(){var R=C.removeSelectedBlocks(),I=C.insertDefaultBlockAtIndex(R,!0);N.setToBlock(I,N.positions.START),E.clearSelection(T)})}},{key:"enter",value:function(T){var x=this.Editor,E=x.BlockManager,C=x.UI;if(!E.currentBlock.tool.isLineBreaksEnabled&&!(C.someToolbarOpened&&C.someFlipperButtonFocused||T.shiftKey)){var N=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):N=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(N),N.tool.isDefault&&N.isEmpty&&(this.Editor.Toolbar.open(!1),this.Editor.Toolbar.plusButton.show()),T.preventDefault()}}},{key:"backspace",value:function(T){var x=this.Editor,E=x.BlockManager,C=x.BlockSelection,N=x.Caret,R=E.currentBlock,I=R.tool;if(R.selected||R.isEmpty&&R.currentInput===R.firstInput){T.preventDefault();var L=E.currentBlockIndex;return E.previousBlock&&E.previousBlock.inputs.length===0?E.removeBlock(L-1):E.removeBlock(),N.setToBlock(E.currentBlock,L?N.positions.END:N.positions.START),this.Editor.Toolbar.close(),void C.clearSelection(T)}if(!I.isLineBreaksEnabled||N.isAtStart){var P=E.currentBlockIndex===0;N.isAtStart&&y.default.isCollapsed&&R.currentInput===R.firstInput&&!P&&(T.preventDefault(),this.mergeBlocks())}}},{key:"mergeBlocks",value:function(){var T=this.Editor,x=T.BlockManager,E=T.Caret,C=T.Toolbar,N=x.previousBlock,R=x.currentBlock;if(R.name!==N.name||!N.mergeable)return N.inputs.length===0||N.isEmpty?(x.removeBlock(x.currentBlockIndex-1),E.setToBlock(x.currentBlock),void C.close()):void(E.navigatePrevious()&&C.close());E.createShadow(N.pluginsContent),x.mergeBlocks(N,R).then(function(){E.restoreCaret(N.pluginsContent),N.pluginsContent.normalize(),C.close()})}},{key:"arrowRightAndDown",value:function(T){var x=this,E=p.default.usedKeys.includes(T.keyCode)&&(!T.shiftKey||T.keyCode===m.keyCodes.TAB);if(!this.Editor.UI.someToolbarOpened||!E){this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var C=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;T.shiftKey&&T.keyCode===m.keyCodes.DOWN&&C?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((T.keyCode===m.keyCodes.DOWN||T.keyCode===m.keyCodes.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?T.preventDefault():m.delay(function(){x.Editor.BlockManager.currentBlock&&x.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(T))}}},{key:"arrowLeftAndUp",value:function(T){var x=this;if(this.Editor.UI.someToolbarOpened){if(p.default.usedKeys.includes(T.keyCode)&&(!T.shiftKey||T.keyCode===m.keyCodes.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();var E=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;T.shiftKey&&T.keyCode===m.keyCodes.UP&&E?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((T.keyCode===m.keyCodes.UP||T.keyCode===m.keyCodes.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?T.preventDefault():m.delay(function(){x.Editor.BlockManager.currentBlock&&x.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(T))}},{key:"needToolbarClosing",value:function(T){var x=T.keyCode===m.keyCodes.ENTER&&this.Editor.Toolbox.opened,E=T.keyCode===m.keyCodes.ENTER&&this.Editor.BlockSettings.opened,C=T.keyCode===m.keyCodes.ENTER&&this.Editor.InlineToolbar.opened,N=T.keyCode===m.keyCodes.ENTER&&this.Editor.ConversionToolbar.opened,R=T.keyCode===m.keyCodes.TAB;return!(T.shiftKey||R||x||E||C||N)}},{key:"activateToolbox",value:function(){this.Editor.Toolbar.opened||(this.Editor.Toolbar.open(!1,!1),this.Editor.Toolbar.plusButton.show()),this.Editor.Toolbox.open()}},{key:"activateBlockSettings",value:function(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.open(!0,!1),this.Editor.Toolbar.plusButton.hide()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}]),A}(v.default);a.default=k,k.displayName="BlockEvents",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(66),e(9),e(15),e(7),e(382),e(111)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k){var w=e(8),S=e(1);function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=S(u),d=S(d),f=S(f),c=S(c),h=S(h),v=S(v),m=S(m),y=w(y),p=S(p),g=S(g),_=w(_),b=S(b),k=S(k);var A=function(T){(0,h.default)(R,T);var x,E,C,N=(x=R,function(){var I,L=(0,m.default)(x);if(O()){var P=(0,m.default)(this).constructor;I=Reflect.construct(L,arguments,P)}else I=L.apply(this,arguments);return(0,v.default)(this,I)});function R(){var I;return(0,f.default)(this,R),(I=N.apply(this,arguments))._currentBlockIndex=-1,I._blocks=null,I}return(0,c.default)(R,[{key:"prepare",value:function(){var I=this,L=new b.default(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(L,{set:b.default.set,get:b.default.get}),this.listeners.on(document,"copy",function(P){return I.Editor.BlockEvents.handleCommandC(P)})}},{key:"toggleReadOnly",value:function(I){I?this.disableModuleBindings():this.enableModuleBindings()}},{key:"composeBlock",value:function(I){var L=I.tool,P=I.data,D=P===void 0?{}:P,U=I.id,M=U===void 0?void 0:U,B=I.tunes,q=B===void 0?{}:B,z=this.Editor.ReadOnly.isEnabled,j=this.Editor.Tools.blockTools.get(L),F=new y.default({id:M,data:D,tool:j,api:this.Editor.API,readOnly:z,tunesData:q});return z||this.bindBlockEvents(F),F}},{key:"insert",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=I.id,P=L===void 0?void 0:L,D=I.tool,U=D===void 0?this.config.defaultBlock:D,M=I.data,B=M===void 0?{}:M,q=I.index,z=I.needToFocus,j=z===void 0||z,F=I.replace,H=F!==void 0&&F,W=I.tunes,V=W===void 0?{}:W,X=q;X===void 0&&(X=this.currentBlockIndex+(H?0:1));var Q=this.composeBlock({id:P,tool:U,data:B,tunes:V});return this._blocks.insert(X,Q,H),this.blockDidMutated(Q),j?this.currentBlockIndex=X:X<=this.currentBlockIndex&&this.currentBlockIndex++,Q}},{key:"replace",value:function(I){var L=I.tool,P=L===void 0?this.config.defaultBlock:L,D=I.data,U=D===void 0?{}:D;return this.insert({tool:P,data:U,index:this.currentBlockIndex,replace:!0})}},{key:"paste",value:function(I,L){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2],D=this.insert({tool:I,replace:P});try{D.call(y.BlockToolAPI.ON_PASTE,L)}catch(U){_.log("".concat(I,": onPaste callback call is failed"),"error",U)}return D}},{key:"insertDefaultBlockAtIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[I]=P,this.blockDidMutated(P),L?this.currentBlockIndex=I:I<=this.currentBlockIndex&&this.currentBlockIndex++,P}},{key:"insertAtEnd",value:function(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}},{key:"mergeBlocks",value:(C=(0,d.default)(u.default.mark(function I(L,P){var D,U;return u.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(D=this._blocks.indexOf(P),!P.isEmpty){M.next=3;break}return M.abrupt("return");case 3:return M.next=5,P.data;case 5:if(U=M.sent,_.isEmpty(U)){M.next=9;break}return M.next=9,L.mergeWith(U);case 9:this.removeBlock(D),this.currentBlockIndex=this._blocks.indexOf(L);case 11:case"end":return M.stop()}},I,this)})),function(I,L){return C.apply(this,arguments)})},{key:"removeBlock",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.currentBlockIndex;if(!this.validateIndex(I))throw new Error("Can't find a Block to remove");var L=this._blocks[I];L.destroy(),this._blocks.remove(I),this.blockDidMutated(L),this.currentBlockIndex>=I&&this.currentBlockIndex--,this.blocks.length?I===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}},{key:"removeSelectedBlocks",value:function(){for(var I,L=this.blocks.length-1;L>=0;L--)this.blocks[L].selected&&(this.removeBlock(L),I=L);return I}},{key:"removeAllBlocks",value:function(){for(var I=this.blocks.length-1;I>=0;I--)this._blocks.remove(I);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}},{key:"split",value:function(){var I=this.Editor.Caret.extractFragmentFromCaretPosition(),L=g.default.make("div");L.appendChild(I);var P={text:g.default.isEmpty(L)?"":L.innerHTML};return this.insert({data:P})}},{key:"getBlockByIndex",value:function(I){return this._blocks[I]}},{key:"getBlockIndex",value:function(I){return this._blocks.indexOf(I)}},{key:"getBlockById",value:function(I){return this._blocks.array.find(function(L){return L.id===I})}},{key:"getBlock",value:function(I){g.default.isElement(I)||(I=I.parentNode);var L=this._blocks.nodes,P=I.closest(".".concat(y.default.CSS.wrapper)),D=L.indexOf(P);if(D>=0)return this._blocks[D]}},{key:"highlightCurrentNode",value:function(){this.clearFocused(),this.currentBlock.focused=!0}},{key:"clearFocused",value:function(){this.blocks.forEach(function(I){I.focused=!1})}},{key:"setCurrentBlockByChildNode",value:function(I){g.default.isElement(I)||(I=I.parentNode);var L=I.closest(".".concat(y.default.CSS.wrapper));if(L){var P=L.closest(".".concat(this.Editor.UI.CSS.editorWrapper));if(P==null?void 0:P.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(L),this.currentBlock.updateCurrentInput(),this.currentBlock}}},{key:"getBlockByChildNode",value:function(I){g.default.isElement(I)||(I=I.parentNode);var L=I.closest(".".concat(y.default.CSS.wrapper));return this.blocks.find(function(P){return P.holder===L})}},{key:"swap",value:function(I,L){this._blocks.swap(I,L),this.currentBlockIndex=L}},{key:"move",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.currentBlockIndex;isNaN(I)||isNaN(L)?_.log("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(I)&&this.validateIndex(L)?(this._blocks.move(I,L),this.currentBlockIndex=I,this.blockDidMutated(this.currentBlock)):_.log("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}},{key:"dropPointer",value:function(){this.currentBlockIndex=-1,this.clearFocused()}},{key:"clear",value:function(){var I=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._blocks.removeAll(),this.dropPointer(),I&&this.insert(),this.Editor.UI.checkEmptiness()}},{key:"destroy",value:(E=(0,d.default)(u.default.mark(function I(){return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Promise.all(this.blocks.map(function(P){return P.destroy()}));case 2:case"end":return L.stop()}},I,this)})),function(){return E.apply(this,arguments)})},{key:"bindBlockEvents",value:function(I){var L=this,P=this.Editor.BlockEvents;this.readOnlyMutableListeners.on(I.holder,"keydown",function(D){P.keydown(D)}),this.readOnlyMutableListeners.on(I.holder,"keyup",function(D){P.keyup(D)}),this.readOnlyMutableListeners.on(I.holder,"dragover",function(D){P.dragOver(D)}),this.readOnlyMutableListeners.on(I.holder,"dragleave",function(D){P.dragLeave(D)}),I.on("didMutated",function(D){return L.blockDidMutated(D)})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"enableModuleBindings",value:function(){var I=this;this.readOnlyMutableListeners.on(document,"cut",function(L){return I.Editor.BlockEvents.handleCommandX(L)}),this.blocks.forEach(function(L){I.bindBlockEvents(L)})}},{key:"validateIndex",value:function(I){return!(I<0||I>=this._blocks.length)}},{key:"blockDidMutated",value:function(I){return this.Editor.ModificationsObserver.onChange(new k.default(I)),I}},{key:"currentBlockIndex",get:function(){return this._currentBlockIndex},set:function(I){this._blocks[this._currentBlockIndex]&&this._blocks[this._currentBlockIndex].willUnselect(),this._blocks[I]&&this._blocks[I].willSelect(),this._currentBlockIndex=I}},{key:"firstBlock",get:function(){return this._blocks[0]}},{key:"lastBlock",get:function(){return this._blocks[this._blocks.length-1]}},{key:"currentBlock",get:function(){return this._blocks[this.currentBlockIndex]}},{key:"nextBlock",get:function(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}},{key:"nextContentfulBlock",get:function(){return this.blocks.slice(this.currentBlockIndex+1).find(function(I){return!!I.inputs.length})}},{key:"previousContentfulBlock",get:function(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(function(I){return!!I.inputs.length})}},{key:"previousBlock",get:function(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}},{key:"blocks",get:function(){return this._blocks.array}},{key:"isEditorEmpty",get:function(){return this.blocks.every(function(I){return I.isEmpty})}}]),R}(p.default);a.default=A,A.displayName="BlockManager",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(381);function s(l,a,u){return typeof Reflect!="undefined"&&Reflect.get?n.exports=s=Reflect.get:n.exports=s=function(d,f,c){var h=o(d,f);if(h){var v=Object.getOwnPropertyDescriptor(h,f);return v.get?v.get.call(c):v.value}},s(l,a,u||l)}n.exports=s},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(15),e(112),e(25),e(65)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_){var b=e(8),k=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=k(u),d=k(d),f=k(f),c=k(c),h=k(h),v=k(v),m=b(m),y=k(y),p=k(p),g=k(g);var S=function(O){(0,f.default)(x,O);var A,T=(A=x,function(){var E,C=(0,h.default)(A);if(w()){var N=(0,h.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,c.default)(this,E)});function x(){var E;return(0,u.default)(this,x),(E=T.apply(this,arguments)).anyBlockSelectedCache=null,E.needToSelectAll=!1,E.nativeInputSelected=!1,E.readyToBlockSelection=!1,E}return(0,d.default)(x,[{key:"prepare",value:function(){var E=this;this.selection=new g.default,p.default.add({name:"CMD+A",handler:function(C){var N=E.Editor,R=N.BlockManager;if(N.ReadOnly.isEnabled)return C.preventDefault(),void E.selectAllBlocks();R.currentBlock&&E.handleCommandA(C)},on:this.Editor.UI.nodes.redactor})}},{key:"toggleReadOnly",value:function(E){g.default.get().removeAllRanges(),this.allBlocksSelected=!1}},{key:"unSelectBlockByIndex",value:function(E){var C=this.Editor.BlockManager;(isNaN(E)?C.currentBlock:C.getBlockByIndex(E)).selected=!1,this.clearCache()}},{key:"clearSelection",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=this.Editor,R=N.BlockManager,I=N.Caret,L=N.RectangleSelection;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;var P=E&&E instanceof KeyboardEvent,D=P&&m.isPrintableKey(E.keyCode);if(this.anyBlockSelected&&P&&D&&!g.default.isSelectionExists){var U=R.removeSelectedBlocks();R.insertDefaultBlockAtIndex(U,!0),I.setToBlock(R.currentBlock),m.delay(function(){var M=E.key;I.insertContentAtCaretPosition(M.length>1?"":M)},20)()}this.Editor.CrossBlockSelection.clear(E),this.anyBlockSelected&&!L.isRectActivated()?(C&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}},{key:"copySelectedBlocks",value:function(E){var C=this;E.preventDefault();var N=y.default.make("div");this.selectedBlocks.forEach(function(L){var P=(0,_.clean)(L.holder.innerHTML,C.sanitizerConfig),D=y.default.make("p");D.innerHTML=P,N.appendChild(D)});var R=Array.from(N.childNodes).map(function(L){return L.textContent}).join(`

`),I=N.innerHTML;return E.clipboardData.setData("text/plain",R),E.clipboardData.setData("text/html",I),Promise.all(this.selectedBlocks.map(function(L){return L.save()})).then(function(L){try{E.clipboardData.setData(C.Editor.Paste.MIME_TYPE,JSON.stringify(L))}catch{}})}},{key:"selectBlockByIndex",value:function(E){var C,N=this.Editor.BlockManager;N.clearFocused(),C=isNaN(E)?N.currentBlock:N.getBlockByIndex(E),this.selection.save(),g.default.get().removeAllRanges(),C.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}},{key:"clearCache",value:function(){this.anyBlockSelectedCache=null}},{key:"destroy",value:function(){p.default.remove(this.Editor.UI.nodes.redactor,"CMD+A")}},{key:"handleCommandA",value:function(E){if(this.Editor.RectangleSelection.clearSelection(),!y.default.isNativeInput(E.target)||this.readyToBlockSelection){var C=this.Editor.BlockManager.getBlock(E.target).inputs;C.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:C.length!==1||this.needToSelectAll?this.needToSelectAll?(E.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(E.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}else this.readyToBlockSelection=!0}},{key:"selectAllBlocks",value:function(){this.selection.save(),g.default.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},{key:"sanitizerConfig",get:function(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}},{key:"allBlocksSelected",get:function(){return this.Editor.BlockManager.blocks.every(function(E){return E.selected===!0})},set:function(E){this.Editor.BlockManager.blocks.forEach(function(C){C.selected=E}),this.clearCache()}},{key:"anyBlockSelected",get:function(){var E=this.Editor.BlockManager;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=E.blocks.some(function(C){return C.selected===!0})),this.anyBlockSelectedCache}},{key:"selectedBlocks",get:function(){return this.Editor.BlockManager.blocks.filter(function(E){return E.selected})}}]),x}(v.default);a.default=S,S.displayName="BlockSelection",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(25),e(9),e(15),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(8),_=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=_(u),d=_(d),f=_(f),c=_(c),h=_(h),v=_(v),m=_(m),y=_(y),p=g(p);var k=function(w){(0,f.default)(A,w);var S,O=(S=A,function(){var T,x=(0,h.default)(S);if(b()){var E=(0,h.default)(this).constructor;T=Reflect.construct(x,arguments,E)}else T=x.apply(this,arguments);return(0,c.default)(this,T)});function A(){return(0,u.default)(this,A),O.apply(this,arguments)}return(0,d.default)(A,[{key:"setToBlock",value:function(T){var x,E=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,R=this.Editor.BlockManager;switch(C){case this.positions.START:x=T.firstInput;break;case this.positions.END:x=T.lastInput;break;default:x=T.currentInput}if(x){var I=y.default.getDeepestNode(x,C===this.positions.END),L=y.default.getContentLength(I);switch(!0){case C===this.positions.START:N=0;break;case C===this.positions.END:case N>L:N=L}p.delay(function(){E.set(I,N)},20)(),R.setCurrentBlockByChildNode(T.holder),R.currentBlock.currentInput=x}}},{key:"setToInput",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.positions.DEFAULT,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=this.Editor.BlockManager.currentBlock,N=y.default.getDeepestNode(T);switch(x){case this.positions.START:this.set(N,0);break;case this.positions.END:this.set(N,y.default.getContentLength(N));break;default:E&&this.set(N,E)}C.currentInput=T}},{key:"set",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=v.default.setCursor(T,x),C=E.top,N=E.bottom,R=window,I=R.innerHeight;C<0&&window.scrollBy(0,C),N>I&&window.scrollBy(0,N-I)}},{key:"setToTheLastBlock",value:function(){var T=this.Editor.BlockManager.lastBlock;if(T)if(T.tool.isDefault&&T.isEmpty)this.setToBlock(T);else{var x=this.Editor.BlockManager.insertAtEnd();this.setToBlock(x)}}},{key:"extractFragmentFromCaretPosition",value:function(){var T=v.default.get();if(T.rangeCount){var x=T.getRangeAt(0),E=this.Editor.BlockManager.currentBlock.currentInput;if(x.deleteContents(),E){if(y.default.isNativeInput(E)){var C=E,N=document.createDocumentFragment(),R=C.value.substring(0,C.selectionStart),I=C.value.substring(C.selectionStart);return N.textContent=I,C.value=R,N}var L=x.cloneRange();return L.selectNodeContents(E),L.setStart(x.endContainer,x.endOffset),L.extractContents()}}}},{key:"navigateNext",value:function(){var T=this.Editor.BlockManager,x=T.currentBlock,E=T.nextContentfulBlock,C=x.nextInput,N=this.isAtEnd,R=E;if(!R&&!C){if(x.tool.isDefault||!N)return!1;R=T.insertAtEnd()}return!!N&&(C?this.setToInput(C,this.positions.START):this.setToBlock(R,this.positions.START),!0)}},{key:"navigatePrevious",value:function(){var T=this.Editor.BlockManager,x=T.currentBlock,E=T.previousContentfulBlock;if(!x)return!1;var C=x.previousInput;return!(!E&&!C||!this.isAtStart||(C?this.setToInput(C,this.positions.END):this.setToBlock(E,this.positions.END),0))}},{key:"createShadow",value:function(T){var x=document.createElement("span");x.classList.add(A.CSS.shadowCaret),T.insertAdjacentElement("beforeend",x)}},{key:"restoreCaret",value:function(T){var x=T.querySelector(".".concat(A.CSS.shadowCaret));x&&(new v.default().expandToTag(x),setTimeout(function(){var E=document.createRange();E.selectNode(x),E.extractContents()},50))}},{key:"insertContentAtCaretPosition",value:function(T){var x=document.createDocumentFragment(),E=document.createElement("div"),C=v.default.get(),N=v.default.range;E.innerHTML=T,Array.from(E.childNodes).forEach(function(L){return x.appendChild(L)}),x.childNodes.length===0&&x.appendChild(new Text);var R=x.lastChild;N.deleteContents(),N.insertNode(x);var I=document.createRange();I.setStart(R,R.textContent.length),C.removeAllRanges(),C.addRange(I)}},{key:"getHigherLevelSiblings",value:function(T,x){for(var E=T,C=[];E.parentNode&&E.parentNode.contentEditable!=="true";)E=E.parentNode;for(var N=x==="left"?"previousSibling":"nextSibling";E[N];)E=E[N],C.push(E);return C}},{key:"positions",get:function(){return{START:"start",END:"end",DEFAULT:"default"}}},{key:"isAtStart",get:function(){var T=v.default.get(),x=y.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput),E=T.focusNode;if(y.default.isNativeInput(x))return x.selectionEnd===0;if(!T.anchorNode)return!1;var C=E.textContent.search(/\S/);C===-1&&(C=0);var N=T.focusOffset;return E.nodeType!==Node.TEXT_NODE&&E.childNodes.length&&(E.childNodes[N]?(E=E.childNodes[N],N=0):N=(E=E.childNodes[N-1]).textContent.length),!(!y.default.isLineBreakTag(x)&&!y.default.isEmpty(x)||!this.getHigherLevelSiblings(E,"left").every(function(R){var I=y.default.isLineBreakTag(R),L=R.children.length===1&&y.default.isLineBreakTag(R.children[0]),P=I||L;return y.default.isEmpty(R)&&!P})||N!==C)||x===null||E===x&&N<=C}},{key:"isAtEnd",get:function(){var T=v.default.get(),x=T.focusNode,E=y.default.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(y.default.isNativeInput(E))return E.selectionEnd===E.value.length;if(!T.focusNode)return!1;var C=T.focusOffset;if(x.nodeType!==Node.TEXT_NODE&&x.childNodes.length&&(x.childNodes[C-1]?C=(x=x.childNodes[C-1]).textContent.length:(x=x.childNodes[0],C=0)),y.default.isLineBreakTag(E)||y.default.isEmpty(E)){var N=this.getHigherLevelSiblings(x,"right");if(N.every(function(I,L){return L===N.length-1&&y.default.isLineBreakTag(I)||y.default.isEmpty(I)&&!y.default.isLineBreakTag(I)})&&C===x.textContent.length)return!0}var R=E.textContent.replace(/\s+$/,"");return x===E&&C>=R.length}}],[{key:"CSS",get:function(){return{shadowCaret:"cdx-shadow-caret"}}}]),A}(m.default);a.default=k,k.displayName="Caret",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(25),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g){var _=e(8),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=b(u),d=b(d),f=b(f),c=b(c),h=b(h),v=b(v),m=b(m),y=b(y),p=b(p),g=_(g);var w=function(S){(0,h.default)(x,S);var O,A,T=(O=x,function(){var E,C=(0,m.default)(O);if(k()){var N=(0,m.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,v.default)(this,E)});function x(){var E;return(0,f.default)(this,x),(E=T.apply(this,arguments)).onMouseUp=function(){E.listeners.off(document,"mouseover",E.onMouseOver),E.listeners.off(document,"mouseup",E.onMouseUp)},E.onMouseOver=function(C){var N=E.Editor,R=N.BlockManager,I=N.BlockSelection,L=R.getBlockByChildNode(C.relatedTarget)||E.lastSelectedBlock,P=R.getBlockByChildNode(C.target);if(L&&P&&P!==L){if(L===E.firstSelectedBlock)return p.default.get().removeAllRanges(),L.selected=!0,P.selected=!0,void I.clearCache();if(P===E.firstSelectedBlock)return L.selected=!1,P.selected=!1,void I.clearCache();E.Editor.InlineToolbar.close(),E.toggleBlocksSelectedState(L,P),E.lastSelectedBlock=P}},E}return(0,c.default)(x,[{key:"prepare",value:(A=(0,d.default)(u.default.mark(function E(){var C=this;return u.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:this.listeners.on(document,"mousedown",function(R){C.enableCrossBlockSelection(R)});case 1:case"end":return N.stop()}},E,this)})),function(){return A.apply(this,arguments)})},{key:"watchSelection",value:function(E){if(E.button===g.mouseButtons.LEFT){var C=this.Editor.BlockManager;this.firstSelectedBlock=C.getBlock(E.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}}},{key:"toggleBlockSelectedState",value:function(){var E=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],C=this.Editor,N=C.BlockManager,R=C.BlockSelection;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=N.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,R.clearCache(),p.default.get().removeAllRanges());var I=N.blocks.indexOf(this.lastSelectedBlock)+(E?1:-1),L=N.blocks[I];L&&(this.lastSelectedBlock.selected!==L.selected?(L.selected=!0,R.clearCache()):(this.lastSelectedBlock.selected=!1,R.clearCache()),this.lastSelectedBlock=L,this.Editor.InlineToolbar.close(),L.holder.scrollIntoView({block:"nearest"}))}},{key:"clear",value:function(E){var C=this.Editor,N=C.BlockManager,R=C.BlockSelection,I=C.Caret,L=N.blocks.indexOf(this.firstSelectedBlock),P=N.blocks.indexOf(this.lastSelectedBlock);if(R.anyBlockSelected&&L>-1&&P>-1)if(E&&E instanceof KeyboardEvent)switch(E.keyCode){case g.keyCodes.DOWN:case g.keyCodes.RIGHT:I.setToBlock(N.blocks[Math.max(L,P)],I.positions.END);break;case g.keyCodes.UP:case g.keyCodes.LEFT:I.setToBlock(N.blocks[Math.min(L,P)],I.positions.START);break;default:I.setToBlock(N.blocks[Math.max(L,P)],I.positions.END)}else I.setToBlock(N.blocks[Math.max(L,P)],I.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}},{key:"enableCrossBlockSelection",value:function(E){var C=this.Editor.UI;p.default.isCollapsed||this.Editor.BlockSelection.clearSelection(E),C.nodes.redactor.contains(E.target)?this.watchSelection(E):this.Editor.BlockSelection.clearSelection(E)}},{key:"toggleBlocksSelectedState",value:function(E,C){for(var N=this.Editor,R=N.BlockManager,I=N.BlockSelection,L=R.blocks.indexOf(E),P=R.blocks.indexOf(C),D=E.selected!==C.selected,U=Math.min(L,P);U<=Math.max(L,P);U++){var M=R.blocks[U];M!==this.firstSelectedBlock&&M!==(D?E:C)&&(R.blocks[U].selected=!R.blocks[U].selected,I.clearCache())}}},{key:"isCrossBlockSelectionStarted",get:function(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}}]),x}(y.default);a.default=w,w.displayName="CrossBlockSelection",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(25),e(9)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(1);function _(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=g(u),d=g(d),f=g(f),c=g(c),h=g(h),v=g(v),m=g(m),y=g(y);var b=function(k){(0,h.default)(A,k);var w,S,O=(w=A,function(){var T,x=(0,m.default)(w);if(_()){var E=(0,m.default)(this).constructor;T=Reflect.construct(x,arguments,E)}else T=x.apply(this,arguments);return(0,v.default)(this,T)});function A(){var T;return(0,f.default)(this,A),(T=O.apply(this,arguments)).isStartedAtEditor=!1,T}return(0,c.default)(A,[{key:"toggleReadOnly",value:function(T){T?this.disableModuleBindings():this.enableModuleBindings()}},{key:"enableModuleBindings",value:function(){var T=this,x=this.Editor.UI;this.readOnlyMutableListeners.on(x.nodes.holder,"drop",function(){var E=(0,d.default)(u.default.mark(function C(N){return u.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,T.processDrop(N);case 2:case"end":return R.stop()}},C)}));return function(C){return E.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(x.nodes.holder,"dragstart",function(){T.processDragStart()}),this.readOnlyMutableListeners.on(x.nodes.holder,"dragover",function(E){T.processDragOver(E)},!0)}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"processDrop",value:(S=(0,d.default)(u.default.mark(function T(x){var E,C,N,R,I,L;return u.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return E=this.Editor,C=E.BlockManager,N=E.Caret,R=E.Paste,x.preventDefault(),C.blocks.forEach(function(D){D.dropTarget=!1}),y.default.isAtEditor&&!y.default.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1,(I=C.setCurrentBlockByChildNode(x.target))?this.Editor.Caret.setToBlock(I,N.positions.END):(L=C.setCurrentBlockByChildNode(C.lastBlock.holder),this.Editor.Caret.setToBlock(L,N.positions.END)),P.next=9,R.processDataTransfer(x.dataTransfer,!0);case 9:case"end":return P.stop()}},T,this)})),function(T){return S.apply(this,arguments)})},{key:"processDragStart",value:function(){y.default.isAtEditor&&!y.default.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}},{key:"processDragOver",value:function(T){T.preventDefault()}}]),A}((p=g(p)).default);a.default=b,b.displayName="DragNDrop",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(8),p=e(1);function g(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=p(u),d=p(d),f=p(f),c=p(c),h=p(h),v=p(v),m=y(m);var _=function(b){(0,f.default)(S,b);var k,w=(k=S,function(){var O,A=(0,h.default)(k);if(g()){var T=(0,h.default)(this).constructor;O=Reflect.construct(A,arguments,T)}else O=A.apply(this,arguments);return(0,c.default)(this,O)});function S(){var O;return(0,u.default)(this,S),(O=w.apply(this,arguments)).disabled=!1,O}return(0,d.default)(S,[{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"onChange",value:function(O){!this.disabled&&m.isFunction(this.config.onChange)&&this.config.onChange(this.Editor.API.methods,O)}}]),S}(v.default);a.default=_,_.displayName="ModificationsObserver",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(65)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k){var w=e(8),S=e(1);function O(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=S(u),d=S(d),f=S(f),c=S(c),h=S(h),v=S(v),m=S(m),y=S(y),p=S(p),g=S(g),_=S(_),b=w(b);var A=function(T){(0,m.default)(M,T);var x,E,C,N,R,I,L,P,D,U=(x=M,function(){var B,q=(0,p.default)(x);if(O()){var z=(0,p.default)(this).constructor;B=Reflect.construct(q,arguments,z)}else B=q.apply(this,arguments);return(0,y.default)(this,B)});function M(){var B;return(0,h.default)(this,M),(B=U.apply(this,arguments)).MIME_TYPE="application/x-editor-js",B.toolsTags={},B.tagsByTool={},B.toolsPatterns=[],B.toolsFiles={},B.exceptionList=[],B.processTool=function(q){try{var z=q.create({},{},!1);if(q.pasteConfig===!1)return void B.exceptionList.push(q.name);if(!b.isFunction(z.onPaste))return;B.getTagsConfig(q),B.getFilesConfig(q),B.getPatternsConfig(q)}catch(j){b.log("Paste handling for \xAB".concat(q.name,"\xBB Tool hasn't been set up because of the error"),"warn",j)}},B.handlePasteEvent=function(){var q=(0,c.default)(f.default.mark(function z(j){var F,H,W;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(F=B.Editor,H=F.BlockManager,W=F.Toolbar,H.currentBlock&&(!B.isNativeBehaviour(j.target)||j.clipboardData.types.includes("Files"))){V.next=3;break}return V.abrupt("return");case 3:if(!H.currentBlock||!B.exceptionList.includes(H.currentBlock.name)){V.next=5;break}return V.abrupt("return");case 5:j.preventDefault(),B.processDataTransfer(j.clipboardData),H.clearFocused(),W.close();case 9:case"end":return V.stop()}},z)}));return function(z){return q.apply(this,arguments)}}(),B}return(0,v.default)(M,[{key:"prepare",value:(D=(0,c.default)(f.default.mark(function B(){return f.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:this.processTools();case 1:case"end":return q.stop()}},B,this)})),function(){return D.apply(this,arguments)})},{key:"toggleReadOnly",value:function(B){B?this.unsetCallback():this.setCallback()}},{key:"processDataTransfer",value:(P=(0,c.default)(f.default.mark(function B(q){var z,j,F,H,W,V,X,Q,ie,$=arguments;return f.default.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(z=$.length>1&&$[1]!==void 0&&$[1],j=this.Editor.Tools,!((F=q.types).includes?F.includes("Files"):F.contains("Files"))){G.next=8;break}return G.next=7,this.processFiles(q.files);case 7:return G.abrupt("return");case 8:if(H=q.getData(this.MIME_TYPE),W=q.getData("text/plain"),V=q.getData("text/html"),!H){G.next=19;break}return G.prev=12,this.insertEditorJSData(JSON.parse(H)),G.abrupt("return");case 17:G.prev=17,G.t0=G.catch(12);case 19:if(z&&W.trim()&&V.trim()&&(V="<p>"+(V.trim()?V:W)+"</p>"),X=Object.keys(this.toolsTags).reduce(function(K,ee){return K[ee.toLowerCase()]=!0,K},{}),Q=Object.assign({},X,j.getAllInlineToolsSanitizeConfig(),{br:{}}),(ie=(0,k.clean)(V,Q)).trim()&&ie.trim()!==W&&_.default.isHTMLString(ie)){G.next=28;break}return G.next=26,this.processText(W);case 26:G.next=30;break;case 28:return G.next=30,this.processText(ie,!0);case 30:case"end":return G.stop()}},B,this,[[12,17]])})),function(B){return P.apply(this,arguments)})},{key:"processText",value:(L=(0,c.default)(f.default.mark(function B(q){var z,j,F,H,W,V,X,Q=this,ie=arguments;return f.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(z=ie.length>1&&ie[1]!==void 0&&ie[1],j=this.Editor,F=j.Caret,H=j.BlockManager,(W=z?this.processHTML(q):this.processPlain(q)).length){$.next=5;break}return $.abrupt("return");case 5:if(W.length!==1){$.next=8;break}return W[0].isBlock?this.processSingleBlock(W.pop()):this.processInlinePaste(W.pop()),$.abrupt("return");case 8:V=H.currentBlock&&H.currentBlock.tool.isDefault,X=V&&H.currentBlock.isEmpty,W.map(function(){var G=(0,c.default)(f.default.mark(function K(ee,re){return f.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",Q.insertBlock(ee,re===0&&X));case 1:case"end":return Y.stop()}},K)}));return function(K,ee){return G.apply(this,arguments)}}()),H.currentBlock&&F.setToBlock(H.currentBlock,F.positions.END);case 12:case"end":return $.stop()}},B,this)})),function(B){return L.apply(this,arguments)})},{key:"setCallback",value:function(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"unsetCallback",value:function(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}},{key:"processTools",value:function(){var B=this.Editor.Tools.blockTools;Array.from(B.values()).forEach(this.processTool)}},{key:"getTagsConfig",value:function(B){var q=this,z=B.pasteConfig.tags||[];z.forEach(function(j){Object.prototype.hasOwnProperty.call(q.toolsTags,j)?b.log("Paste handler for \xAB".concat(B.name,"\xBB Tool on \xAB").concat(j,"\xBB tag is skipped ")+"because it is already used by \xAB".concat(q.toolsTags[j].tool.name,"\xBB Tool."),"warn"):q.toolsTags[j.toUpperCase()]={tool:B}}),this.tagsByTool[B.name]=z.map(function(j){return j.toUpperCase()})}},{key:"getFilesConfig",value:function(B){var q=B.pasteConfig.files,z=q===void 0?{}:q,j=z.extensions,F=z.mimeTypes;(j||F)&&(j&&!Array.isArray(j)&&(b.log("\xABextensions\xBB property of the onDrop config for \xAB".concat(B.name,"\xBB Tool should be an array")),j=[]),F&&!Array.isArray(F)&&(b.log("\xABmimeTypes\xBB property of the onDrop config for \xAB".concat(B.name,"\xBB Tool should be an array")),F=[]),F&&(F=F.filter(function(H){return!!b.isValidMimeType(H)||(b.log("MIME type value \xAB".concat(H,"\xBB for the \xAB").concat(B.name,"\xBB Tool is not a valid MIME type"),"warn"),!1)})),this.toolsFiles[B.name]={extensions:j||[],mimeTypes:F||[]})}},{key:"getPatternsConfig",value:function(B){var q=this;B.pasteConfig.patterns&&!b.isEmpty(B.pasteConfig.patterns)&&Object.entries(B.pasteConfig.patterns).forEach(function(z){var j=(0,d.default)(z,2),F=j[0],H=j[1];H instanceof RegExp||b.log("Pattern ".concat(H," for \xAB").concat(B.name,"\xBB Tool is skipped because it should be a Regexp instance."),"warn"),q.toolsPatterns.push({key:F,pattern:H,tool:B})})}},{key:"isNativeBehaviour",value:function(B){return _.default.isNativeInput(B)}},{key:"processFiles",value:(I=(0,c.default)(f.default.mark(function B(q){var z,j,F,H,W=this;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return z=this.Editor.BlockManager,V.next=3,Promise.all(Array.from(q).map(function(X){return W.processFile(X)}));case 3:j=(j=V.sent).filter(function(X){return!!X}),F=z.currentBlock.tool.isDefault,H=F&&z.currentBlock.isEmpty,j.forEach(function(X,Q){z.paste(X.type,X.event,Q===0&&H)});case 8:case"end":return V.stop()}},B,this)})),function(B){return I.apply(this,arguments)})},{key:"processFile",value:(R=(0,c.default)(f.default.mark(function B(q){var z,j,F,H,W;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(z=b.getFileExtension(q),j=Object.entries(this.toolsFiles).find(function(X){var Q=(0,d.default)(X,2),ie=(Q[0],Q[1]),$=ie.mimeTypes,G=ie.extensions,K=q.type.split("/"),ee=(0,d.default)(K,2),re=ee[0],Y=ee[1],Z=G.find(function(ne){return ne.toLowerCase()===z.toLowerCase()}),te=$.find(function(ne){var J=ne.split("/"),le=(0,d.default)(J,2),se=le[0],ae=le[1];return se===re&&(ae===Y||ae==="*")});return!!Z||!!te})){V.next=4;break}return V.abrupt("return");case 4:return F=(0,d.default)(j,1),H=F[0],W=this.composePasteEvent("file",{file:q}),V.abrupt("return",{event:W,type:H});case 7:case"end":return V.stop()}},B,this)})),function(B){return R.apply(this,arguments)})},{key:"processHTML",value:function(B){var q=this,z=this.Editor.Tools,j=_.default.make("DIV");return j.innerHTML=B,this.getNodes(j).map(function(F){var H,W=z.defaultTool,V=!1;switch(F.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:(H=_.default.make("div")).appendChild(F);break;case Node.ELEMENT_NODE:H=F,V=!0,q.toolsTags[H.tagName]&&(W=q.toolsTags[H.tagName].tool)}var X=W.pasteConfig.tags.reduce(function($,G){return $[G.toLowerCase()]={},$},{}),Q=Object.assign({},X,W.baseSanitizeConfig);H.innerHTML=(0,k.clean)(H.innerHTML,Q);var ie=q.composePasteEvent("tag",{data:H});return{content:H,isBlock:V,tool:W.name,event:ie}}).filter(function(F){return!_.default.isNodeEmpty(F.content)||_.default.isSingleTag(F.content)})}},{key:"processPlain",value:function(B){var q=this,z=this.config.defaultBlock;if(!B)return[];var j=z;return B.split(/\r?\n/).filter(function(F){return F.trim()}).map(function(F){var H=_.default.make("div");H.textContent=F;var W=q.composePasteEvent("tag",{data:H});return{content:H,tool:j,isBlock:!1,event:W}})}},{key:"processSingleBlock",value:(N=(0,c.default)(f.default.mark(function B(q){var z,j,F,H;return f.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(z=this.Editor,j=z.Caret,F=z.BlockManager,(H=F.currentBlock)&&q.tool===H.name&&_.default.containsOnlyInlineElements(q.content.innerHTML)){W.next=5;break}return this.insertBlock(q,(H==null?void 0:H.tool.isDefault)&&H.isEmpty),W.abrupt("return");case 5:j.insertContentAtCaretPosition(q.content.innerHTML);case 6:case"end":return W.stop()}},B,this)})),function(B){return N.apply(this,arguments)})},{key:"processInlinePaste",value:(C=(0,c.default)(f.default.mark(function B(q){var z,j,F,H,W,V,X,Q;return f.default.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(z=this.Editor,j=z.BlockManager,F=z.Caret,H=q.content,!(j.currentBlock&&j.currentBlock.tool.isDefault&&H.textContent.length<M.PATTERN_PROCESSING_MAX_LENGTH)){ie.next=12;break}return ie.next=6,this.processPattern(H.textContent);case 6:if(!(W=ie.sent)){ie.next=12;break}return V=j.currentBlock&&j.currentBlock.tool.isDefault&&j.currentBlock.isEmpty,X=j.paste(W.tool,W.event,V),F.setToBlock(X,F.positions.END),ie.abrupt("return");case 12:j.currentBlock&&j.currentBlock.currentInput?(Q=j.currentBlock.tool.sanitizeConfig,document.execCommand("insertHTML",!1,(0,k.clean)(H.innerHTML,Q))):this.insertBlock(q);case 13:case"end":return ie.stop()}},B,this)})),function(B){return C.apply(this,arguments)})},{key:"processPattern",value:(E=(0,c.default)(f.default.mark(function B(q){var z,j;return f.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(z=this.toolsPatterns.find(function(H){var W=H.pattern.exec(q);return!!W&&q===W.shift()})){F.next=3;break}return F.abrupt("return");case 3:return j=this.composePasteEvent("pattern",{key:z.key,data:q}),F.abrupt("return",{event:j,tool:z.tool.name});case 5:case"end":return F.stop()}},B,this)})),function(B){return E.apply(this,arguments)})},{key:"insertBlock",value:function(B){var q,z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],j=this.Editor,F=j.BlockManager,H=j.Caret,W=F.currentBlock;if(z&&W&&W.isEmpty)return q=F.paste(B.tool,B.event,!0),void H.setToBlock(q,H.positions.END);q=F.paste(B.tool,B.event),H.setToBlock(q,H.positions.END)}},{key:"insertEditorJSData",value:function(B){var q=this.Editor,z=q.BlockManager,j=q.Caret,F=q.Tools;(0,k.sanitizeBlocks)(B,function(H){return F.blockTools.get(H).sanitizeConfig}).forEach(function(H,W){var V=H.tool,X=H.data,Q=!1;W===0&&(Q=z.currentBlock&&z.currentBlock.tool.isDefault&&z.currentBlock.isEmpty);var ie=z.insert({tool:V,data:X,replace:Q});j.setToBlock(ie,j.positions.END)})}},{key:"processElementNode",value:function(B,q,z){var j=Object.keys(this.toolsTags),F=B,H=(this.toolsTags[F.tagName]||{}).tool,W=this.tagsByTool[H==null?void 0:H.name]||[],V=j.includes(F.tagName),X=_.default.blockElements.includes(F.tagName.toLowerCase()),Q=Array.from(F.children).some(function($){var G=$.tagName;return j.includes(G)&&!W.includes(G)}),ie=Array.from(F.children).some(function($){var G=$.tagName;return _.default.blockElements.includes(G.toLowerCase())});return X||V||Q?V&&!Q||X&&!ie&&!Q?[].concat((0,u.default)(q),[z,F]):void 0:(z.appendChild(F),[].concat((0,u.default)(q),[z]))}},{key:"getNodes",value:function(B){var q,z=this;return Array.from(B.childNodes).reduce(function j(F,H){if(_.default.isEmpty(H)&&!_.default.isSingleTag(H))return F;var W=F[F.length-1],V=new DocumentFragment;switch(W&&_.default.isFragment(W)&&(V=F.pop()),H.nodeType){case Node.ELEMENT_NODE:if(q=z.processElementNode(H,F,V))return q;break;case Node.TEXT_NODE:return V.appendChild(H),[].concat((0,u.default)(F),[V]);default:return[].concat((0,u.default)(F),[V])}return[].concat((0,u.default)(F),(0,u.default)(Array.from(H.childNodes).reduce(j,[])))},[])}},{key:"composePasteEvent",value:function(B,q){return new CustomEvent(B,{detail:q})}}]),M}(g.default);a.default=A,A.displayName="Paste",A.PATTERN_PROCESSING_MAX_LENGTH=450,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(30),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(148)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g){var _=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=_(u),d=_(d),f=_(f),c=_(c),h=_(h),v=_(v),m=_(m),y=_(y);var k=function(w){(0,v.default)(x,w);var S,O,A,T=(S=x,function(){var E,C=(0,y.default)(S);if(b()){var N=(0,y.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,m.default)(this,E)});function x(){var E;return(0,c.default)(this,x),(E=T.apply(this,arguments)).toolsDontSupportReadOnly=[],E.readOnlyEnabled=!1,E}return(0,h.default)(x,[{key:"prepare",value:(A=(0,f.default)(u.default.mark(function E(){var C,N,R;return u.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:C=this.Editor.Tools,N=C.blockTools,R=[],Array.from(N.entries()).forEach(function(L){var P=(0,d.default)(L,2),D=P[0];P[1].isReadOnlySupported||R.push(D)}),this.toolsDontSupportReadOnly=R,this.config.readOnly&&R.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly);case 7:case"end":return I.stop()}},E,this)})),function(){return A.apply(this,arguments)})},{key:"toggle",value:(O=(0,f.default)(u.default.mark(function E(){var C,N,R,I,L=arguments;return u.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:(C=L.length>0&&L[0]!==void 0?L[0]:!this.readOnlyEnabled)&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError(),N=this.readOnlyEnabled,this.readOnlyEnabled=C,P.t0=u.default.keys(this.Editor);case 5:if((P.t1=P.t0()).done){P.next=12;break}if(R=P.t1.value,this.Editor[R].toggleReadOnly){P.next=9;break}return P.abrupt("continue",5);case 9:this.Editor[R].toggleReadOnly(C),P.next=5;break;case 12:if(N!==C){P.next=14;break}return P.abrupt("return",this.readOnlyEnabled);case 14:return P.next=16,this.Editor.Saver.save();case 16:return I=P.sent,P.next=19,this.Editor.BlockManager.clear();case 19:return P.next=21,this.Editor.Renderer.render(I.blocks);case 21:return P.abrupt("return",this.readOnlyEnabled);case 22:case"end":return P.stop()}},E,this)})),function(){return O.apply(this,arguments)})},{key:"throwCriticalError",value:function(){throw new g.CriticalError("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},{key:"isEnabled",get:function(){return this.readOnlyEnabled}}]),x}((p=_(p)).default);a.default=k,k.displayName="ReadOnly",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(66)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(1);function _(S){if(typeof Symbol=="undefined"||S[Symbol.iterator]==null){if(Array.isArray(S)||(S=function(N,R){if(N){if(typeof N=="string")return b(N,R);var I=Object.prototype.toString.call(N).slice(8,-1);return I==="Object"&&N.constructor&&(I=N.constructor.name),I==="Map"||I==="Set"?Array.from(I):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?b(N,R):void 0}}(S))){var O=0,A=function(){};return{s:A,n:function(){return O>=S.length?{done:!0}:{done:!1,value:S[O++]}},e:function(N){throw N},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,x,E=!0,C=!1;return{s:function(){T=S[Symbol.iterator]()},n:function(){var N=T.next();return E=N.done,N},e:function(N){C=!0,x=N},f:function(){try{E||T.return==null||T.return()}finally{if(C)throw x}}}}function b(S,O){(O==null||O>S.length)&&(O=S.length);for(var A=0,T=new Array(O);A<O;A++)T[A]=S[A];return T}function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=g(u),d=g(d),f=g(f),c=g(c),h=g(h),v=g(v),m=g(m),y=g(y),p=g(p);var w=function(S){(0,f.default)(T,S);var O,A=(O=T,function(){var x,E=(0,h.default)(O);if(k()){var C=(0,h.default)(this).constructor;x=Reflect.construct(E,arguments,C)}else x=E.apply(this,arguments);return(0,c.default)(this,x)});function T(){var x;return(0,u.default)(this,T),(x=A.apply(this,arguments)).isRectSelectionActivated=!1,x.SCROLL_SPEED=3,x.HEIGHT_OF_SCROLL_ZONE=40,x.BOTTOM_SCROLL_ZONE=1,x.TOP_SCROLL_ZONE=2,x.MAIN_MOUSE_BUTTON=0,x.mousedown=!1,x.isScrolling=!1,x.inScrollZone=null,x.startX=0,x.startY=0,x.mouseX=0,x.mouseY=0,x.stackOfSelected=[],x.listenerIds=[],x}return(0,d.default)(T,[{key:"prepare",value:function(){this.enableModuleBindings()}},{key:"startSelection",value:function(x,E){var C=document.elementFromPoint(x-window.pageXOffset,E-window.pageYOffset);C.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);var N=[".".concat(p.default.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],R=C.closest("."+this.Editor.UI.CSS.editorWrapper),I=N.some(function(L){return!!C.closest(L)});R&&!I&&(this.mousedown=!0,this.startX=x,this.startY=E)}},{key:"endSelection",value:function(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}},{key:"isRectActivated",value:function(){return this.isRectSelectionActivated}},{key:"clearSelection",value:function(){this.isRectSelectionActivated=!1}},{key:"enableModuleBindings",value:function(){var x=this,E=this.genHTML().container;this.listeners.on(E,"mousedown",function(C){x.processMouseDown(C)},!1),this.listeners.on(document.body,"mousemove",function(C){x.processMouseMove(C)},!1),this.listeners.on(document.body,"mouseleave",function(){x.processMouseLeave()}),this.listeners.on(window,"scroll",function(C){x.processScroll(C)},!1),this.listeners.on(document.body,"mouseup",function(){x.processMouseUp()},!1)}},{key:"processMouseDown",value:function(x){x.button===this.MAIN_MOUSE_BUTTON&&(x.target.closest(m.default.allInputsSelector)!==null||this.startSelection(x.pageX,x.pageY))}},{key:"processMouseMove",value:function(x){this.changingRectangle(x),this.scrollByZones(x.clientY)}},{key:"processMouseLeave",value:function(){this.clearSelection(),this.endSelection()}},{key:"processScroll",value:function(x){this.changingRectangle(x)}},{key:"processMouseUp",value:function(){this.endSelection()}},{key:"scrollByZones",value:function(x){this.inScrollZone=null,x<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-x<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}},{key:"genHTML",value:function(){var x=this.Editor.UI,E=x.nodes.holder.querySelector("."+x.CSS.editorWrapper),C=m.default.make("div",T.CSS.overlay,{}),N=m.default.make("div",T.CSS.overlayContainer,{}),R=m.default.make("div",T.CSS.rect,{});return N.appendChild(R),C.appendChild(N),E.appendChild(C),this.overlayRectangle=R,{container:E,overlay:C}}},{key:"scrollVertical",value:function(x){var E=this;if(this.inScrollZone&&this.mousedown){var C=window.pageYOffset;window.scrollBy(0,x),this.mouseY+=window.pageYOffset-C,setTimeout(function(){E.scrollVertical(x)},0)}}},{key:"changingRectangle",value:function(x){if(this.mousedown){x.pageY!==void 0&&(this.mouseX=x.pageX,this.mouseY=x.pageY);var E=this.genInfoForMouseSelection(),C=E.rightPos,N=E.leftPos,R=E.index,I=this.startX>C&&this.mouseX>C,L=this.startX<N&&this.mouseX<N;this.rectCrossesBlocks=!(I||L),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),R!==void 0&&(this.trySelectNextBlock(R),this.inverseSelection(),y.default.get().removeAllRanges(),x.preventDefault())}}},{key:"shrinkRectangleToPoint",value:function(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}},{key:"inverseSelection",value:function(){var x=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!x){var E,C=_(this.stackOfSelected);try{for(C.s();!(E=C.n()).done;){var N=E.value;this.Editor.BlockSelection.selectBlockByIndex(N)}}catch(P){C.e(P)}finally{C.f()}}if(!this.rectCrossesBlocks&&x){var R,I=_(this.stackOfSelected);try{for(I.s();!(R=I.n()).done;){var L=R.value;this.Editor.BlockSelection.unSelectBlockByIndex(L)}}catch(P){I.e(P)}finally{I.f()}}}},{key:"updateRectangleSize",value:function(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}},{key:"genInfoForMouseSelection",value:function(){var x,E=document.body.offsetWidth/2,C=this.mouseY-window.pageYOffset,N=document.elementFromPoint(E,C),R=this.Editor.BlockManager.getBlockByChildNode(N);R!==void 0&&(x=this.Editor.BlockManager.blocks.findIndex(function(P){return P.holder===R.holder}));var I=this.Editor.BlockManager.lastBlock.holder.querySelector("."+p.default.CSS.content),L=Number.parseInt(window.getComputedStyle(I).width,10)/2;return{index:x,leftPos:E-L,rightPos:E+L}}},{key:"addBlockInSelection",value:function(x){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(x),this.stackOfSelected.push(x)}},{key:"trySelectNextBlock",value:function(x){var E=this,C=this.stackOfSelected[this.stackOfSelected.length-1]===x,N=this.stackOfSelected.length;if(!C){var R=this.stackOfSelected[N-1]-this.stackOfSelected[N-2]>0,I=0;N>1&&(I=R?1:-1);var L=x>this.stackOfSelected[N-1]&&I===1,P=x<this.stackOfSelected[N-1]&&I===-1,D=!(L||P||I===0);if(D||!(x>this.stackOfSelected[N-1]||this.stackOfSelected[N-1]===void 0)){if(!D&&x<this.stackOfSelected[N-1])for(var U=this.stackOfSelected[N-1]-1;U>=x;U--)this.addBlockInSelection(U);else if(D){var M,B=N-1;for(M=x>this.stackOfSelected[N-1]?function(){return x>E.stackOfSelected[B]}:function(){return x<E.stackOfSelected[B]};M();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[B]),this.stackOfSelected.pop(),B--}}else for(var q=this.stackOfSelected[N-1]+1||x;q<=x;q++)this.addBlockInSelection(q)}}}],[{key:"CSS",get:function(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}}]),T}(v.default);a.default=w,w.displayName="RectangleSelection",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(8),_=e(1);function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=_(u),d=_(d),f=_(f),c=_(c),h=_(h),v=_(v),m=_(m),y=_(y),p=g(p);var k=function(w){(0,h.default)(x,w);var S,O,A,T=(S=x,function(){var E,C=(0,m.default)(S);if(b()){var N=(0,m.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,v.default)(this,E)});function x(){return(0,f.default)(this,x),T.apply(this,arguments)}return(0,c.default)(x,[{key:"render",value:(A=(0,d.default)(u.default.mark(function E(C){var N,R,I=this;return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return N=C.map(function(P){return{function:function(){return I.insertBlock(P)}}}),this.Editor.ModificationsObserver.disable(),L.next=4,p.sequence(N);case 4:return R=L.sent,this.Editor.ModificationsObserver.enable(),this.Editor.UI.checkEmptiness(),L.abrupt("return",R);case 8:case"end":return L.stop()}},E,this)})),function(E){return A.apply(this,arguments)})},{key:"insertBlock",value:(O=(0,d.default)(u.default.mark(function E(C){var N,R,I,L,P,D,U,M,B;return u.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(N=this.Editor,R=N.Tools,I=N.BlockManager,L=C.type,P=C.data,D=C.tunes,U=C.id,!R.available.has(L)){q.next=13;break}q.prev=3,I.insert({id:U,tool:L,data:P,tunes:D}),q.next=11;break;case 7:throw q.prev=7,q.t0=q.catch(3),p.log("Block \xAB".concat(L,"\xBB skipped because of plugins error"),"warn",P),Error(q.t0);case 11:q.next=18;break;case 13:M={savedData:{id:U,type:L,data:P},title:L},R.unavailable.has(L)&&(B=R.unavailable.get(L).toolbox,M.title=(B==null?void 0:B.title)||M.title),I.insert({id:U,tool:R.stubTool,data:M}).stretched=!0,p.log("Tool \xAB".concat(L,"\xBB is not found. Check 'tools' property at your initial Editor.js config."),"warn");case 18:case"end":return q.stop()}},E,this,[[3,7]])})),function(E){return O.apply(this,arguments)})}]),x}(y.default);a.default=k,k.displayName="Renderer",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(9),e(7),e(65)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g){var _=e(8),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=b(u),d=b(d),f=b(f),c=b(c),h=b(h),v=b(v),m=b(m),y=b(y),p=_(p);var w=function(S){(0,h.default)(E,S);var O,A,T,x=(O=E,function(){var C,N=(0,m.default)(O);if(k()){var R=(0,m.default)(this).constructor;C=Reflect.construct(N,arguments,R)}else C=N.apply(this,arguments);return(0,v.default)(this,C)});function E(){return(0,f.default)(this,E),x.apply(this,arguments)}return(0,c.default)(E,[{key:"save",value:(T=(0,d.default)(u.default.mark(function C(){var N,R,I,L,P,D,U,M,B=this;return u.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return N=this.Editor,R=N.BlockManager,I=N.Tools,L=N.ModificationsObserver,P=R.blocks,D=[],q.prev=2,L.disable(),P.forEach(function(z){D.push(B.getSavedData(z))}),q.next=7,Promise.all(D);case 7:return U=q.sent,q.next=10,(0,g.sanitizeBlocks)(U,function(z){return I.blockTools.get(z).sanitizeConfig});case 10:return M=q.sent,q.abrupt("return",this.makeOutput(M));case 14:q.prev=14,q.t0=q.catch(2),p.logLabeled("Saving failed due to the Error %o","error",q.t0);case 17:return q.prev=17,L.enable(),q.finish(17);case 20:case"end":return q.stop()}},C,this,[[2,14,17,20]])})),function(){return T.apply(this,arguments)})},{key:"getSavedData",value:(A=(0,d.default)(u.default.mark(function C(N){var R,I;return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,N.save();case 2:if(R=L.sent,L.t0=R,!L.t0){L.next=8;break}return L.next=7,N.validate(R.data);case 7:L.t0=L.sent;case 8:return I=L.t0,L.abrupt("return",Object.assign(Object.assign({},R),{isValid:I}));case 10:case"end":return L.stop()}},C)})),function(C){return A.apply(this,arguments)})},{key:"makeOutput",value:function(C){var N=this,R=0,I=[];return p.log("[Editor.js saving]:","groupCollapsed"),C.forEach(function(L){var P=L.id,D=L.tool,U=L.data,M=L.tunes,B=L.time,q=L.isValid;if(R+=B,p.log("".concat(D.charAt(0).toUpperCase()+D.slice(1)),"group"),!q)return p.log("Block \xAB".concat(D,"\xBB skipped because saved data is invalid")),void p.log(void 0,"groupEnd");if(p.log(U),p.log(void 0,"groupEnd"),D!==N.Editor.Tools.stubTool){var z=Object.assign({id:P,type:D,data:U},!p.isEmpty(M)&&{tunes:M});I.push(z)}else I.push(U)}),p.log("Total","log",R),p.log(void 0,"groupEnd"),{time:+new Date,blocks:I,version:"2.22.2"}}}]),E}(y.default);a.default=w,w.displayName="Saver",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(60),e(7),e(25)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_){var b=e(8),k=e(1);function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=k(u),d=k(d),f=k(f),c=k(c),h=k(h),v=k(v),m=k(m),y=k(y),p=k(p),g=b(g),_=k(_);var S=function(O){(0,c.default)(x,O);var A,T=(A=x,function(){var E,C=(0,v.default)(A);if(w()){var N=(0,v.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,h.default)(this,E)});function x(){var E;return(0,d.default)(this,x),(E=T.apply(this,arguments)).buttons=[],E.flipper=null,E.selection=new _.default,E}return(0,f.default)(x,[{key:"make",value:function(){this.nodes.wrapper=y.default.make("div",this.CSS.wrapper),this.nodes.toolSettings=y.default.make("div",this.CSS.toolSettings),this.nodes.defaultSettings=y.default.make("div",this.CSS.defaultSettings),y.default.append(this.nodes.wrapper,[this.nodes.toolSettings,this.nodes.defaultSettings]),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"open",value:function(){this.nodes.wrapper.classList.add(this.CSS.wrapperOpened),this.selection.save(),this.Editor.BlockManager.currentBlock.selected=!0,this.Editor.BlockSelection.clearCache(),this.addToolSettings(),this.addTunes(),this.eventsDispatcher.emit(this.events.opened),this.flipper.activate(this.blockTunesButtons)}},{key:"close",value:function(){this.nodes.wrapper.classList.remove(this.CSS.wrapperOpened),_.default.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.nodes.toolSettings.innerHTML="",this.nodes.defaultSettings.innerHTML="",this.eventsDispatcher.emit(this.events.closed),this.buttons=[],this.flipper.deactivate()}},{key:"addToolSettings",value:function(){var E=this.Editor.BlockManager.currentBlock.renderSettings();E&&y.default.append(this.nodes.toolSettings,E)}},{key:"addTunes",value:function(){var E=this.Editor.BlockManager.currentBlock.renderTunes(),C=(0,u.default)(E,2),N=C[0],R=C[1];y.default.append(this.nodes.toolSettings,N),y.default.append(this.nodes.defaultSettings,R)}},{key:"enableFlipper",value:function(){var E=this;this.flipper=new p.default({focusedItemClass:this.CSS.focusedButton,activateCallback:function(C){C&&y.default.canSetCaret(C)?E.close():g.delay(function(){E.Editor.Caret.setToBlock(E.Editor.BlockManager.currentBlock)},50)()}})}},{key:"events",get:function(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}},{key:"CSS",get:function(){return{wrapper:"ce-settings",wrapperOpened:"ce-settings--opened",toolSettings:"ce-settings__plugin-zone",defaultSettings:"ce-settings__default-zone",button:"ce-settings__button",focusedButton:"ce-settings__button--focused",focusedButtonAnimated:"ce-settings__button--focused-animated"}}},{key:"opened",get:function(){return this.nodes.wrapper.classList.contains(this.CSS.wrapperOpened)}},{key:"blockTunesButtons",get:function(){var E=this,C=this.Editor.StylesAPI;if(this.buttons.length!==0)return this.buttons;var N=this.nodes.toolSettings.querySelectorAll(".".concat(C.classes.settingsButton,", ").concat(y.default.allInputsSelector)),R=this.nodes.defaultSettings.querySelectorAll(".".concat(this.CSS.button));return N.forEach(function(I){E.buttons.push(I)}),R.forEach(function(I){E.buttons.push(I)}),this.buttons}}]),x}(m.default);a.default=S,S.displayName="BlockSettings",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(23),e(24),e(42),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(60),e(59),e(84),e(65)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w,S,O){var A=e(8),T=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=T(u),d=T(d),f=T(f),c=T(c),h=T(h),v=T(v),m=T(m),y=T(y),p=T(p),g=T(g),_=T(_),b=A(b),k=T(k),w=T(w);var E=function(C){(0,m.default)(L,C);var N,R,I=(N=L,function(){var P,D=(0,p.default)(N);if(x()){var U=(0,p.default)(this).constructor;P=Reflect.construct(D,arguments,U)}else P=D.apply(this,arguments);return(0,y.default)(this,P)});function L(){var P;return(0,h.default)(this,L),(P=I.apply(this,arguments)).opened=!1,P.tools={},P.flipper=null,P.togglingCallback=null,P}return(0,v.default)(L,[{key:"make",value:function(){this.nodes.wrapper=_.default.make("div",[L.CSS.conversionToolbarWrapper].concat((0,c.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.tools=_.default.make("div",L.CSS.conversionToolbarTools);var P=_.default.make("div",L.CSS.conversionToolbarLabel,{textContent:w.default.ui(S.I18nInternalNS.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),_.default.append(this.nodes.wrapper,P),_.default.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}},{key:"toggle",value:function(P){this.opened?this.close():this.open(),b.isFunction(P)&&(this.togglingCallback=P)}},{key:"open",value:function(){var P=this;this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(L.CSS.conversionToolbarShowed),setTimeout(function(){P.flipper.activate(Object.values(P.tools).filter(function(D){return!D.classList.contains(L.CSS.conversionToolHidden)})),P.flipper.focusFirst(),b.isFunction(P.togglingCallback)&&P.togglingCallback(!0)},50)}},{key:"close",value:function(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(L.CSS.conversionToolbarShowed),b.isFunction(this.togglingCallback)&&this.togglingCallback(!1)}},{key:"hasTools",value:function(){var P=Object.keys(this.tools);return!(P.length===1&&P.shift()===this.config.defaultBlock)}},{key:"replaceWithBlock",value:(R=(0,f.default)(d.default.mark(function P(D){var U,M,B,q,z,j,F,H,W,V,X=this;return d.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return U=this.Editor.BlockManager.currentBlock.tool,M=this.Editor.BlockManager.currentBlock.name,Q.next=4,this.Editor.BlockManager.currentBlock.save();case 4:if(B=Q.sent,q=B.data,M===D&&(D=this.config.defaultBlock),z=this.Editor.Tools.blockTools.get(D),j="",F=U.conversionConfig.export,!b.isFunction(F)){Q.next=14;break}j=F(q),Q.next=20;break;case 14:if(!b.isString(F)){Q.next=18;break}j=q[F],Q.next=20;break;case 18:return b.log("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),Q.abrupt("return");case 20:if(H=(0,O.clean)(j,z.sanitizeConfig),W={},V=z.conversionConfig.import,!b.isFunction(V)){Q.next=27;break}W=V(H),Q.next=33;break;case 27:if(!b.isString(V)){Q.next=31;break}W[V]=H,Q.next=33;break;case 31:return b.log("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),Q.abrupt("return");case 33:this.Editor.BlockManager.replace({tool:D,data:W}),this.Editor.BlockSelection.clearSelection(),this.close(),this.Editor.InlineToolbar.close(),b.delay(function(){X.Editor.Caret.setToBlock(X.Editor.BlockManager.currentBlock)},10)();case 38:case"end":return Q.stop()}},P,this)})),function(P){return R.apply(this,arguments)})},{key:"addTools",value:function(){var P=this,D=this.Editor.Tools.blockTools;Array.from(D.entries()).forEach(function(U){var M=(0,u.default)(U,2),B=M[0],q=M[1],z=q.toolbox,j=q.conversionConfig;!b.isEmpty(z)&&z.icon&&j&&j.import&&P.addTool(B,z.icon,z.title)})}},{key:"addTool",value:function(P,D,U){var M=this,B=_.default.make("div",[L.CSS.conversionTool]),q=_.default.make("div",[L.CSS.conversionToolIcon]);B.dataset.tool=P,q.innerHTML=D,_.default.append(B,q),_.default.append(B,_.default.text(w.default.t(S.I18nInternalNS.toolNames,U||b.capitalize(P)))),_.default.append(this.nodes.tools,B),this.tools[P]=B,this.listeners.on(B,"click",(0,f.default)(d.default.mark(function z(){return d.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,M.replaceWithBlock(P);case 2:case"end":return j.stop()}},z)})))}},{key:"filterTools",value:function(){var P=this.Editor.BlockManager.currentBlock;Object.entries(this.tools).forEach(function(D){var U=(0,u.default)(D,2),M=U[0],B=U[1];B.hidden=!1,B.classList.toggle(L.CSS.conversionToolHidden,M===P.name)})}},{key:"enableFlipper",value:function(){this.flipper=new k.default({focusedItemClass:L.CSS.conversionToolFocused})}}],[{key:"CSS",get:function(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}}]),L}(g.default);a.default=E,E.displayName="ConversionToolbar",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(42),e(30),e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(25),e(7),e(60),e(59),e(84),e(112),e(82),e(67)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w,S,O,A){var T=e(8),x=e(1);function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=x(u),d=x(d),f=x(f),c=x(c),h=x(h),v=x(v),m=x(m),y=x(y),p=x(p),g=x(g),_=T(_),b=x(b),k=x(k),S=x(S),O=x(O);var C=function(N){(0,h.default)(L,N);var R,I=(R=L,function(){var P,D=(0,m.default)(R);if(E()){var U=(0,m.default)(this).constructor;P=Reflect.construct(D,arguments,U)}else P=D.apply(this,arguments);return(0,v.default)(this,P)});function L(P){var D,U=P.config,M=P.eventsDispatcher;return(0,f.default)(this,L),(D=I.call(this,{config:U,eventsDispatcher:M})).CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},D.opened=!1,D.toolbarVerticalMargin=5,D.buttonsList=null,D.width=0,D.flipper=null,D.tooltip=new O.default,D}return(0,c.default)(L,[{key:"toggleReadOnly",value:function(P){P?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}},{key:"tryToShow",value:function(){var P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],D=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.allowedToShow()?(this.move(),this.open(D),this.Editor.Toolbar.close()):P&&this.close()}},{key:"move",value:function(){var P=g.default.rect,D=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),U={x:P.x-D.left,y:P.y+P.height-D.top+this.toolbarVerticalMargin};P.width&&(U.x+=Math.floor(P.width/2));var M=U.x-this.width/2,B=U.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,M<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,B>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(U.x)+"px",this.nodes.wrapper.style.top=Math.floor(U.y)+"px"}},{key:"close",value:function(){var P=this;this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(function(D){var U=(0,d.default)(D,2),M=U[0],B=U[1],q=P.getToolShortcut(M);q&&S.default.remove(P.Editor.UI.nodes.redactor,q),_.isFunction(B.clear)&&B.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}},{key:"open",value:function(){var P=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.opened){this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(".".concat(this.CSS.inlineToolButton)),this.opened=!0,P&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;var D=Array.from(this.buttonsList);D.unshift(this.nodes.conversionToggler),D=D.filter(function(U){return!U.hidden}),this.flipper.activate(D)}}},{key:"containsNode",value:function(P){return this.nodes.wrapper.contains(P)}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}},{key:"make",value:function(){var P=this;this.nodes.wrapper=p.default.make("div",[this.CSS.inlineToolbar].concat((0,u.default)(this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]))),this.nodes.togglerAndButtonsWrapper=p.default.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=p.default.make("div",this.CSS.buttonsWrapper),this.nodes.actions=p.default.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",function(D){D.target.closest(".".concat(P.CSS.actionsWrapper))||D.preventDefault()}),p.default.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),p.default.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),p.default.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}},{key:"allowedToShow",value:function(){var P=g.default.get(),D=g.default.text;if(!P||!P.anchorNode||P.isCollapsed||D.length<1)return!1;var U=p.default.isElement(P.anchorNode)?P.anchorNode:P.anchorNode.parentElement;if(P&&["IMG","INPUT"].includes(U.tagName)||U.closest('[contenteditable="true"]')===null)return!1;var M=this.Editor.BlockManager.getBlock(P.anchorNode);return!!M&&M.tool.inlineTools.size!==0}},{key:"recalculateWidth",value:function(){this.width=this.nodes.wrapper.offsetWidth}},{key:"addConversionToggler",value:function(){var P=this;this.nodes.conversionToggler=p.default.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=p.default.make("div",this.CSS.conversionTogglerContent);var D=p.default.svg("toggler-down",13,13);this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(D),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",function(){P.Editor.ConversionToolbar.toggle(function(U){!U&&P.opened?P.flipper.activate():P.opened&&P.flipper.deactivate()})}),this.tooltip.onHover(this.nodes.conversionToggler,k.default.ui(w.I18nInternalNS.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}},{key:"setConversionTogglerContent",value:function(){var P=this.Editor.BlockManager.currentBlock,D=P.name,U=P.tool.conversionConfig,M=U&&U.export;this.nodes.conversionToggler.hidden=!M,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!M);var B=P.tool.toolbox||{};this.nodes.conversionTogglerContent.innerHTML=B.icon||B.title||_.capitalize(D)}},{key:"prepareConversionToolbar",value:function(){var P=this.Editor.ConversionToolbar.make();p.default.append(this.nodes.wrapper,P)}},{key:"addToolsFiltered",value:function(){var P=this,D=g.default.get(),U=this.Editor.BlockManager.getBlock(D.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(U.tool.inlineTools.values()).forEach(function(M){P.addTool(M)}),this.recalculateWidth()}},{key:"addTool",value:function(P){var D=this,U=P.create(),M=U.render();if(M){if(M.dataset.tool=P.name,this.nodes.buttons.appendChild(M),this.toolsInstances.set(P.name,U),_.isFunction(U.renderActions)){var B=U.renderActions();this.nodes.actions.appendChild(B)}this.listeners.on(M,"click",function(F){D.toolClicked(U),F.preventDefault()});var q=this.getToolShortcut(P.name);if(q)try{this.enableShortcuts(U,q)}catch{}var z=p.default.make("div"),j=k.default.t(w.I18nInternalNS.toolNames,P.title||_.capitalize(P.name));z.appendChild(p.default.text(j)),q&&z.appendChild(p.default.make("div",this.CSS.inlineToolbarShortcut,{textContent:_.beautifyShortcut(q)})),this.tooltip.onHover(M,z,{placement:"top",hidingDelay:100}),U.checkState(g.default.get())}else _.log("Render method must return an instance of Node","warn",P.name)}},{key:"getToolShortcut",value:function(P){var D=this.Editor.Tools,U=D.inlineTools.get(P),M=D.internal.inlineTools;return Array.from(M.keys()).includes(P)?this.inlineTools[P][A.CommonInternalSettings.Shortcut]:U.shortcut}},{key:"enableShortcuts",value:function(P,D){var U=this;S.default.add({name:D,handler:function(M){var B=U.Editor.BlockManager.currentBlock;B&&B.tool.enabledInlineTools&&(M.preventDefault(),U.toolClicked(P))},on:this.Editor.UI.nodes.redactor})}},{key:"toolClicked",value:function(P){var D=g.default.range;P.surround(D),this.checkToolsState()}},{key:"checkToolsState",value:function(){this.toolsInstances.forEach(function(P){P.checkState(g.default.get())})}},{key:"enableFlipper",value:function(){this.flipper=new b.default({focusedItemClass:this.CSS.focusedButton,allowArrows:!1})}},{key:"inlineTools",get:function(){var P={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(function(D){var U=(0,d.default)(D,2),M=U[0],B=U[1];P[M]=B.create()}),P}}]),L}(y.default);a.default=C,C.displayName="InlineToolbar",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(9),e(15),e(7),e(60),e(66),e(59),e(84),e(112),e(82)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w){var S=e(8),O=e(1);function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=O(u),d=O(d),f=O(f),c=O(c),h=O(h),v=O(v),m=O(m),y=S(y),p=O(p),_=O(_),k=O(k),w=O(w);var T=function(x){(0,f.default)(N,x);var E,C=(E=N,function(){var R,I=(0,h.default)(E);if(A()){var L=(0,h.default)(this).constructor;R=Reflect.construct(I,arguments,L)}else R=I.apply(this,arguments);return(0,c.default)(this,R)});function N(R){var I,L=R.config,P=R.eventsDispatcher;return(0,u.default)(this,N),(I=C.call(this,{config:L,eventsDispatcher:P})).nodes={toolbox:null,buttons:[]},I.opened=!1,I.displayedToolsCount=0,I.flipper=null,I.tooltip=new w.default,I}return(0,d.default)(N,[{key:"make",value:function(){this.nodes.toolbox=m.default.make("div",this.CSS.toolbox),this.addTools(),this.enableFlipper()}},{key:"destroy",value:function(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.removeAllShortcuts(),this.tooltip.destroy()}},{key:"toolButtonActivate",value:function(R,I){this.insertNewBlock(I)}},{key:"open",value:function(){this.isEmpty||(this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolbarHolderModifier),this.nodes.toolbox.classList.add(this.CSS.toolboxOpened),this.opened=!0,this.flipper.activate())}},{key:"close",value:function(){this.nodes.toolbox.classList.remove(this.CSS.toolboxOpened),this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolbarHolderModifier),this.opened=!1,this.flipper.deactivate()}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"addTools",value:function(){var R=this,I=this.Editor.Tools.blockTools;Array.from(I.values()).forEach(function(L){return R.addTool(L)})}},{key:"addTool",value:function(R){var I=this,L=R.toolbox;if(L)if(!L||L.icon){var P=m.default.make("li",[this.CSS.toolboxButton]);P.dataset.tool=R.name,P.innerHTML=L.icon,m.default.append(this.nodes.toolbox,P),this.nodes.toolbox.appendChild(P),this.nodes.buttons.push(P),this.listeners.on(P,"click",function(M){I.toolButtonActivate(M,R.name)});var D=this.drawTooltip(R);this.tooltip.onHover(P,D,{placement:"bottom",hidingDelay:200});var U=R.shortcut;U&&this.enableShortcut(R.name,U),this.displayedToolsCount++}else y.log("Toolbar icon is missed. Tool %o skipped","warn",R.name)}},{key:"drawTooltip",value:function(R){var I=R.toolbox||{},L=_.default.t(b.I18nInternalNS.toolNames,I.title||R.name),P=R.shortcut,D=m.default.make("div",this.CSS.buttonTooltip),U=document.createTextNode(y.capitalize(L));return D.appendChild(U),P&&(P=y.beautifyShortcut(P),D.appendChild(m.default.make("div",this.CSS.buttonShortcut,{textContent:P}))),D}},{key:"enableShortcut",value:function(R,I){var L=this;k.default.add({name:I,handler:function(P){P.preventDefault(),L.insertNewBlock(R)},on:this.Editor.UI.nodes.redactor})}},{key:"removeAllShortcuts",value:function(){var R=this,I=this.Editor.Tools.blockTools;Array.from(I.values()).forEach(function(L){var P=L.shortcut;P&&k.default.remove(R.Editor.UI.nodes.redactor,P)})}},{key:"enableFlipper",value:function(){var R=Array.from(this.nodes.toolbox.childNodes);this.flipper=new p.default({items:R,focusedItemClass:this.CSS.toolboxButtonActive})}},{key:"insertNewBlock",value:function(R){var I=this.Editor,L=I.BlockManager,P=I.Caret,D=L.currentBlock,U=L.insert({tool:R,replace:D.isEmpty});U.call(g.BlockToolAPI.APPEND_CALLBACK),this.Editor.Caret.setToBlock(U),U.inputs.length===0&&(U===L.lastBlock?(L.insertAtEnd(),P.setToBlock(L.lastBlock)):P.setToBlock(L.nextBlock)),this.Editor.Toolbar.close()}},{key:"CSS",get:function(){return{toolbox:"ce-toolbox",toolboxButton:"ce-toolbox__button",toolboxButtonActive:"ce-toolbox__button--active",toolboxOpened:"ce-toolbox--opened",openedToolbarHolderModifier:"codex-editor--toolbox-opened",buttonTooltip:"ce-toolbox-button-tooltip",buttonShortcut:"ce-toolbox-button-tooltip__shortcut"}}},{key:"isEmpty",get:function(){return this.displayedToolsCount===0}}]),N}(v.default);a.default=T,T.displayName="Toolbox",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(42),e(30),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(80),e(384),e(9),e(7),e(385),e(386),e(387),e(388),e(389),e(393),e(394),e(395),e(184)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w,S,O,A,T,x,E,C,N){var R=e(8),I=e(1);function L(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=I(u),d=I(d),f=I(f),c=I(c),h=I(h),v=I(v),m=I(m),y=I(y),p=I(p),g=I(g),_=I(_),b=I(b),k=R(k),w=I(w),S=I(S),O=I(O),A=I(A),T=I(T),x=I(x),E=I(E),C=I(C),N=I(N);var P=function(U,M,B,q){var z,j=arguments.length,F=j<3?M:q===null?q=Object.getOwnPropertyDescriptor(M,B):q;if((typeof Reflect=="undefined"?"undefined":(0,g.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(U,M,B,q);else for(var H=U.length-1;H>=0;H--)(z=U[H])&&(F=(j<3?z(F):j>3?z(M,B,F):z(M,B))||F);return j>3&&F&&Object.defineProperty(M,B,F),F},D=function(U){(0,m.default)(z,U);var M,B,q=(M=z,function(){var j,F=(0,p.default)(M);if(L()){var H=(0,p.default)(this).constructor;j=Reflect.construct(F,arguments,H)}else j=F.apply(this,arguments);return(0,y.default)(this,j)});function z(){var j;return(0,h.default)(this,z),(j=q.apply(this,arguments)).stubTool="stub",j.toolsAvailable=new N.default,j.toolsUnavailable=new N.default,j}return(0,v.default)(z,[{key:"prepare",value:(B=(0,c.default)(f.default.mark(function j(){var F,H,W=this;return f.default.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(this.validateTools(),this.config.tools=k.deepMerge({},this.internalTools,this.config.tools),Object.prototype.hasOwnProperty.call(this.config,"tools")&&Object.keys(this.config.tools).length!==0){V.next=4;break}throw Error("Can't start without tools");case 4:if(F=this.prepareConfig(),this.factory=new T.default(F,this.config,this.Editor.API),(H=this.getListOfPrepareFunctions(F)).length!==0){V.next=9;break}return V.abrupt("return",Promise.resolve());case 9:return V.next=11,k.sequence(H,function(X){W.toolPrepareMethodSuccess(X)},function(X){W.toolPrepareMethodFallback(X)});case 11:this.prepareBlockTools();case 12:case"end":return V.stop()}},j,this)})),function(){return B.apply(this,arguments)})},{key:"getAllInlineToolsSanitizeConfig",value:function(){var j={};return Array.from(this.inlineTools.values()).forEach(function(F){Object.assign(j,F.sanitizeConfig)}),j}},{key:"destroy",value:function(){Object.values(this.available).forEach(function(){var j=(0,c.default)(f.default.mark(function F(H){return f.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!k.isFunction(H.reset)){W.next=3;break}return W.next=3,H.reset();case 3:case"end":return W.stop()}},F)}));return function(F){return j.apply(this,arguments)}}())}},{key:"toolPrepareMethodSuccess",value:function(j){var F=this.factory.get(j.toolName);if(F.isInline()){var H=["render","surround","checkState"].filter(function(W){return!F.create()[W]});if(H.length)return k.log("Incorrect Inline Tool: ".concat(F.name,". Some of required methods is not implemented %o"),"warn",H),void this.toolsUnavailable.set(F.name,F)}this.toolsAvailable.set(F.name,F)}},{key:"toolPrepareMethodFallback",value:function(j){this.toolsUnavailable.set(j.toolName,this.factory.get(j.toolName))}},{key:"getListOfPrepareFunctions",value:function(j){var F=[];return Object.entries(j).forEach(function(H){var W=(0,d.default)(H,2),V=W[0],X=W[1];F.push({function:k.isFunction(X.class.prepare)?X.class.prepare:function(){},data:{toolName:V}})}),F}},{key:"prepareBlockTools",value:function(){var j=this;Array.from(this.blockTools.values()).forEach(function(F){j.assignInlineToolsToBlockTool(F),j.assignBlockTunesToBlockTool(F)})}},{key:"assignInlineToolsToBlockTool",value:function(j){var F=this;this.config.inlineToolbar!==!1&&(j.enabledInlineTools!==!0?Array.isArray(j.enabledInlineTools)&&(j.inlineTools=new N.default(j.enabledInlineTools.map(function(H){return[H,F.inlineTools.get(H)]}))):j.inlineTools=new N.default(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(function(H){return[H,F.inlineTools.get(H)]}):Array.from(this.inlineTools.entries())))}},{key:"assignBlockTunesToBlockTool",value:function(j){var F=this;if(j.enabledBlockTunes!==!1)if(Array.isArray(j.enabledBlockTunes)){var H=new N.default(j.enabledBlockTunes.map(function(V){return[V,F.blockTunes.get(V)]}));j.tunes=new N.default([].concat((0,u.default)(H),(0,u.default)(this.blockTunes.internalTools)))}else if(Array.isArray(this.config.tunes)){var W=new N.default(this.config.tunes.map(function(V){return[V,F.blockTunes.get(V)]}));j.tunes=new N.default([].concat((0,u.default)(W),(0,u.default)(this.blockTunes.internalTools)))}else j.tunes=this.blockTunes.internalTools}},{key:"validateTools",value:function(){for(var j in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,j)){if(j in this.internalTools)return;var F=this.config.tools[j];if(!k.isFunction(F)&&!k.isFunction(F.class))throw Error("Tool \xAB".concat(j,"\xBB must be a constructor function or an object with function in the \xABclass\xBB property"))}}},{key:"prepareConfig",value:function(){var j={};for(var F in this.config.tools)k.isObject(this.config.tools[F])?j[F]=this.config.tools[F]:j[F]={class:this.config.tools[F]};return j}},{key:"available",get:function(){return this.toolsAvailable}},{key:"unavailable",get:function(){return this.toolsUnavailable}},{key:"inlineTools",get:function(){return this.available.inlineTools}},{key:"blockTools",get:function(){return this.available.blockTools}},{key:"blockTunes",get:function(){return this.available.blockTunes}},{key:"defaultTool",get:function(){return this.blockTools.get(this.config.defaultBlock)}},{key:"internal",get:function(){return this.available.internalTools}},{key:"internalTools",get:function(){return{bold:{class:w.default,isInternal:!0},italic:{class:S.default,isInternal:!0},link:{class:O.default,isInternal:!0},paragraph:{class:_.default,inlineToolbar:!0,isInternal:!0},stub:{class:A.default,isInternal:!0},moveUp:{class:C.default,isInternal:!0},delete:{class:E.default,isInternal:!0},moveDown:{class:x.default,isInternal:!0}}}}]),z}(b.default);a.default=D,D.displayName="Tools",P([k.cacheable],D.prototype,"getAllInlineToolsSanitizeConfig",null),n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(2),e(3),e(5),e(6),e(4),e(150)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h),v=y(v);var g=function(_){(0,c.default)(w,_);var b,k=(b=w,function(){var S,O=(0,v.default)(b);if(p()){var A=(0,v.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,h.default)(this,S)});function w(){return(0,d.default)(this,w),k.apply(this,arguments)}return(0,f.default)(w,[{key:"blockTools",get:function(){return new w(Array.from(this.entries()).filter(function(S){return(0,u.default)(S,2)[1].isBlock()}))}},{key:"inlineTools",get:function(){return new w(Array.from(this.entries()).filter(function(S){return(0,u.default)(S,2)[1].isInline()}))}},{key:"blockTunes",get:function(){return new w(Array.from(this.entries()).filter(function(S){return(0,u.default)(S,2)[1].isTune()}))}},{key:"internalTools",get:function(){return new w(Array.from(this.entries()).filter(function(S){return(0,u.default)(S,2)[1].isInternal}))}},{key:"externalTools",get:function(){return new w(Array.from(this.entries()).filter(function(S){return!(0,u.default)(S,2)[1].isInternal}))}}]),w}((0,(m=y(m)).default)(Map));a.default=g,g.displayName="ToolsCollection",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(30),e(42),e(23),e(24),e(2),e(3),e(5),e(6),e(4),e(396),e(9),e(15),e(7),e(25),e(66),e(60)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g,_,b,k,w,S,O){var A=e(8),T=e(1);function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=T(u),d=T(d),f=T(f),c=T(c),h=T(h),v=T(v),m=T(m),y=T(y),p=T(p),g=T(g),_=T(_),b=T(b),k=A(k),w=T(w),S=T(S),O=T(O);var E=function(C){(0,m.default)(L,C);var N,R,I=(N=L,function(){var P,D=(0,p.default)(N);if(x()){var U=(0,p.default)(this).constructor;P=Reflect.construct(D,arguments,U)}else P=D.apply(this,arguments);return(0,y.default)(this,P)});function L(){var P;return(0,h.default)(this,L),(P=I.apply(this,arguments)).isMobile=!1,P.contentRectCache=void 0,P.resizeDebouncer=k.debounce(function(){P.windowResize()},200),P}return(0,v.default)(L,[{key:"addLoader",value:function(){this.nodes.loader=b.default.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}},{key:"removeLoader",value:function(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}},{key:"prepare",value:(R=(0,c.default)(f.default.mark(function P(){return f.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:this.checkIsMobile(),this.make(),this.addLoader(),this.appendSVGSprite(),this.loadStyles();case 5:case"end":return D.stop()}},P,this)})),function(){return R.apply(this,arguments)})},{key:"toggleReadOnly",value:function(P){P?this.disableModuleBindings():this.enableModuleBindings()}},{key:"checkEmptiness",value:function(){var P=this.Editor.BlockManager;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,P.isEditorEmpty)}},{key:"destroy",value:function(){this.nodes.holder.innerHTML=""}},{key:"closeAllToolbars",value:function(){var P=this.Editor,D=P.Toolbox,U=P.BlockSettings,M=P.InlineToolbar,B=P.ConversionToolbar;U.close(),M.close(),B.close(),D.close()}},{key:"checkIsMobile",value:function(){this.isMobile=window.innerWidth<650}},{key:"make",value:function(){this.nodes.holder=b.default.getHolder(this.config.holder),this.nodes.wrapper=b.default.make("div",[this.CSS.editorWrapper].concat((0,d.default)(this.isRtl?[this.CSS.editorRtlFix]:[]))),this.nodes.redactor=b.default.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}},{key:"loadStyles",value:function(){var P=e(397);if(!b.default.get("editor-js-styles")){var D=b.default.make("style",null,{id:"editor-js-styles",textContent:P.toString()});b.default.prepend(document.head,D)}}},{key:"enableModuleBindings",value:function(){var P=this;this.readOnlyMutableListeners.on(this.nodes.redactor,"click",function(D){P.redactorClicked(D)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",function(D){P.documentTouched(D)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",function(D){P.documentTouched(D)},!0),this.readOnlyMutableListeners.on(document,"keydown",function(D){P.documentKeydown(D)},!0),this.readOnlyMutableListeners.on(document,"mousedown",function(D){P.documentClicked(D)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",function(D){P.selectionChanged(D)},!0),this.readOnlyMutableListeners.on(window,"resize",function(){P.resizeDebouncer()},{passive:!0})}},{key:"disableModuleBindings",value:function(){this.readOnlyMutableListeners.clearAll()}},{key:"windowResize",value:function(){this.contentRectCache=null,this.checkIsMobile()}},{key:"documentKeydown",value:function(P){switch(P.keyCode){case k.keyCodes.ENTER:this.enterPressed(P);break;case k.keyCodes.BACKSPACE:this.backspacePressed(P);break;case k.keyCodes.ESC:this.escapePressed(P);break;default:this.defaultBehaviour(P)}}},{key:"defaultBehaviour",value:function(P){var D=this.Editor.BlockManager.currentBlock,U=P.target.closest(".".concat(this.CSS.editorWrapper)),M=P.altKey||P.ctrlKey||P.metaKey||P.shiftKey;D===void 0||U!==null?U||D&&M||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(P)}},{key:"backspacePressed",value:function(P){var D=this.Editor,U=D.BlockManager,M=D.BlockSelection,B=D.Caret;if(M.anyBlockSelected&&!w.default.isSelectionExists){var q=U.removeSelectedBlocks();B.setToBlock(U.insertDefaultBlockAtIndex(q,!0),B.positions.START),M.clearSelection(P),P.preventDefault(),P.stopPropagation(),P.stopImmediatePropagation()}}},{key:"escapePressed",value:function(P){this.Editor.BlockSelection.clearSelection(P),this.Editor.Toolbox.opened?this.Editor.Toolbox.close():this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}},{key:"enterPressed",value:function(P){var D=this.Editor,U=D.BlockManager,M=D.BlockSelection,B=U.currentBlockIndex>=0;if(M.anyBlockSelected&&!w.default.isSelectionExists)return M.clearSelection(P),P.preventDefault(),P.stopImmediatePropagation(),void P.stopPropagation();if(!this.someToolbarOpened&&B&&P.target.tagName==="BODY"){var q=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(q),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.move(),this.Editor.Toolbar.plusButton.show()}this.Editor.BlockSelection.clearSelection(P)}},{key:"documentClicked",value:function(P){if(P.isTrusted){var D=P.target;this.nodes.holder.contains(D)||w.default.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.InlineToolbar.close(),this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close()),this.Editor.BlockSelection.clearSelection(P)}}},{key:"documentTouched",value:function(P){var D=P.target;if(D===this.nodes.redactor){var U=P instanceof MouseEvent?P.clientX:P.touches[0].clientX,M=P instanceof MouseEvent?P.clientY:P.touches[0].clientY;D=document.elementFromPoint(U,M)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(D),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.open(),this.Editor.Toolbar.plusButton.hide()}},{key:"redactorClicked",value:function(P){var D=this.Editor.BlockSelection;if(w.default.isCollapsed){var U=function(){P.stopImmediatePropagation(),P.stopPropagation()},M=P.target,B=P.metaKey||P.ctrlKey;if(b.default.isAnchor(M)&&B){U();var q=M.getAttribute("href"),z=k.getValidUrl(q);k.openTab(z)}else{if(P.target instanceof Element&&P.target.isEqualNode(this.nodes.redactor)&&!D.anyBlockSelected){U();var j=this.Editor,F=j.BlockManager,H=j.Caret,W=j.Toolbar;F.lastBlock.tool.isDefault&&F.lastBlock.isEmpty||F.insertAtEnd(),H.setToTheLastBlock(),W.move()}this.Editor.BlockManager.currentBlock.tool.isDefault&&(U(),this.Editor.BlockManager.currentBlock.isEmpty&&this.Editor.Toolbar.plusButton.show())}}}},{key:"selectionChanged",value:function(P){var D=this.Editor,U=D.CrossBlockSelection,M=D.BlockSelection,B=w.default.anchorElement;if(U.isCrossBlockSelectionStarted&&M.anyBlockSelected&&w.default.get().removeAllRanges(),B){var q=B.closest(".".concat(S.default.CSS.content))===null;if(q&&(this.Editor.InlineToolbar.containsNode(B)||this.Editor.InlineToolbar.close(),B.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(B);var z=q!==!0;this.Editor.InlineToolbar.tryToShow(!0,z)}else w.default.range||this.Editor.InlineToolbar.close()}},{key:"appendSVGSprite",value:function(){var P=b.default.make("div");P.hidden=!0,P.style.display="none",P.innerHTML=g.default,b.default.append(this.nodes.wrapper,P)}},{key:"CSS",get:function(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}},{key:"contentRect",get:function(){if(this.contentRectCache)return this.contentRectCache;var P=this.nodes.wrapper.querySelector(".".concat(S.default.CSS.content));return P?(this.contentRectCache=P.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}},{key:"someToolbarOpened",get:function(){var P=this.Editor,D=P.Toolbox,U=P.BlockSettings,M=P.InlineToolbar,B=P.ConversionToolbar;return U.opened||M.opened||B.opened||D.opened}},{key:"someFlipperButtonFocused",get:function(){return Object.entries(this.Editor).filter(function(P){var D=(0,u.default)(P,2);return D[0],D[1].flipper instanceof O.default}).some(function(P){var D=(0,u.default)(P,2);return D[0],D[1].flipper.currentItem})}}]),L}(_.default);a.default=E,E.displayName="UI",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){e(187),n.exports=e(359)},function(n,i,e){e(188)},function(n,i,e){e(189),e(332),e(334),e(337),e(339),e(341),e(343),e(345),e(347),e(349),e(351),e(353),e(355),e(144)},function(n,i,e){e(190),e(193),e(194),e(195),e(196),e(197),e(198),e(199),e(200),e(201),e(202),e(203),e(204),e(205),e(206),e(207),e(208),e(209),e(210),e(211),e(212),e(213),e(214),e(215),e(216),e(217),e(218),e(219),e(220),e(221),e(222),e(223),e(224),e(225),e(226),e(227),e(228),e(229),e(230),e(231),e(232),e(233),e(234),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(251),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(271),e(272),e(274),e(275),e(276),e(277),e(278),e(279),e(280),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(105),e(295),e(133),e(296),e(134),e(297),e(298),e(299),e(300),e(135),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(313),e(314),e(315),e(316),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(324),e(325),e(326),e(327),e(328),e(329),e(330),e(331),n.exports=e(17)},function(n,i,e){var o=e(10),s=e(26),l=e(18),a=e(0),u=e(21),d=e(41).KEY,f=e(11),c=e(68),h=e(53),v=e(44),m=e(14),y=e(86),p=e(114),g=e(192),_=e(71),b=e(12),k=e(13),w=e(20),S=e(28),O=e(40),A=e(43),T=e(48),x=e(117),E=e(34),C=e(70),N=e(19),R=e(46),I=E.f,L=N.f,P=x.f,D=o.Symbol,U=o.JSON,M=U&&U.stringify,B=m("_hidden"),q=m("toPrimitive"),z={}.propertyIsEnumerable,j=c("symbol-registry"),F=c("symbols"),H=c("op-symbols"),W=Object.prototype,V=typeof D=="function"&&!!C.f,X=o.QObject,Q=!X||!X.prototype||!X.prototype.findChild,ie=l&&f(function(){return T(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a!=7})?function(oe,ue,fe){var ge=I(W,ue);ge&&delete W[ue],L(oe,ue,fe),ge&&oe!==W&&L(W,ue,ge)}:L,$=function(oe){var ue=F[oe]=T(D.prototype);return ue._k=oe,ue},G=V&&typeof D.iterator=="symbol"?function(oe){return typeof oe=="symbol"}:function(oe){return oe instanceof D},K=function(oe,ue,fe){return oe===W&&K(H,ue,fe),b(oe),ue=O(ue,!0),b(fe),s(F,ue)?(fe.enumerable?(s(oe,B)&&oe[B][ue]&&(oe[B][ue]=!1),fe=T(fe,{enumerable:A(0,!1)})):(s(oe,B)||L(oe,B,A(1,{})),oe[B][ue]=!0),ie(oe,ue,fe)):L(oe,ue,fe)},ee=function(oe,ue){b(oe);for(var fe,ge=g(ue=S(ue)),pe=0,Ce=ge.length;Ce>pe;)K(oe,fe=ge[pe++],ue[fe]);return oe},re=function(oe){var ue=z.call(this,oe=O(oe,!0));return!(this===W&&s(F,oe)&&!s(H,oe))&&(!(ue||!s(this,oe)||!s(F,oe)||s(this,B)&&this[B][oe])||ue)},Y=function(oe,ue){if(oe=S(oe),ue=O(ue,!0),oe!==W||!s(F,ue)||s(H,ue)){var fe=I(oe,ue);return!fe||!s(F,ue)||s(oe,B)&&oe[B][ue]||(fe.enumerable=!0),fe}},Z=function(oe){for(var ue,fe=P(S(oe)),ge=[],pe=0;fe.length>pe;)s(F,ue=fe[pe++])||ue==B||ue==d||ge.push(ue);return ge},te=function(oe){for(var ue,fe=oe===W,ge=P(fe?H:S(oe)),pe=[],Ce=0;ge.length>Ce;)!s(F,ue=ge[Ce++])||fe&&!s(W,ue)||pe.push(F[ue]);return pe};V||(u((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var oe=v(arguments.length>0?arguments[0]:void 0),ue=function(fe){this===W&&ue.call(H,fe),s(this,B)&&s(this[B],oe)&&(this[B][oe]=!1),ie(this,oe,A(1,fe))};return l&&Q&&ie(W,oe,{configurable:!0,set:ue}),$(oe)}).prototype,"toString",function(){return this._k}),E.f=Y,N.f=K,e(49).f=x.f=Z,e(62).f=re,C.f=te,l&&!e(45)&&u(W,"propertyIsEnumerable",re,!0),y.f=function(oe){return $(m(oe))}),a(a.G+a.W+a.F*!V,{Symbol:D});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;ne.length>J;)m(ne[J++]);for(var le=R(m.store),se=0;le.length>se;)p(le[se++]);a(a.S+a.F*!V,"Symbol",{for:function(oe){return s(j,oe+="")?j[oe]:j[oe]=D(oe)},keyFor:function(oe){if(!G(oe))throw TypeError(oe+" is not a symbol!");for(var ue in j)if(j[ue]===oe)return ue},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),a(a.S+a.F*!V,"Object",{create:function(oe,ue){return ue===void 0?T(oe):ee(T(oe),ue)},defineProperty:K,defineProperties:ee,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:te});var ae=f(function(){C.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(oe){return C.f(w(oe))}}),U&&a(a.S+a.F*(!V||f(function(){var oe=D();return M([oe])!="[null]"||M({a:oe})!="{}"||M(Object(oe))!="{}"})),"JSON",{stringify:function(oe){for(var ue,fe,ge=[oe],pe=1;arguments.length>pe;)ge.push(arguments[pe++]);if(fe=ue=ge[1],(k(ue)||oe!==void 0)&&!G(oe))return _(ue)||(ue=function(Ce,Ge){if(typeof fe=="function"&&(Ge=fe.call(this,Ce,Ge)),!G(Ge))return Ge}),ge[1]=ue,M.apply(U,ge)}}),D.prototype[q]||e(27)(D.prototype,q,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(o.JSON,"JSON",!0)},function(n,i,e){n.exports=e(68)("native-function-to-string",Function.toString)},function(n,i,e){var o=e(46),s=e(70),l=e(62);n.exports=function(a){var u=o(a),d=s.f;if(d)for(var f,c=d(a),h=l.f,v=0;c.length>v;)h.call(a,f=c[v++])&&u.push(f);return u}},function(n,i,e){var o=e(0);o(o.S,"Object",{create:e(48)})},function(n,i,e){var o=e(0);o(o.S+o.F*!e(18),"Object",{defineProperty:e(19).f})},function(n,i,e){var o=e(0);o(o.S+o.F*!e(18),"Object",{defineProperties:e(116)})},function(n,i,e){var o=e(28),s=e(34).f;e(35)("getOwnPropertyDescriptor",function(){return function(l,a){return s(o(l),a)}})},function(n,i,e){var o=e(20),s=e(50);e(35)("getPrototypeOf",function(){return function(l){return s(o(l))}})},function(n,i,e){var o=e(20),s=e(46);e(35)("keys",function(){return function(l){return s(o(l))}})},function(n,i,e){e(35)("getOwnPropertyNames",function(){return e(117).f})},function(n,i,e){var o=e(13),s=e(41).onFreeze;e(35)("freeze",function(l){return function(a){return l&&o(a)?l(s(a)):a}})},function(n,i,e){var o=e(13),s=e(41).onFreeze;e(35)("seal",function(l){return function(a){return l&&o(a)?l(s(a)):a}})},function(n,i,e){var o=e(13),s=e(41).onFreeze;e(35)("preventExtensions",function(l){return function(a){return l&&o(a)?l(s(a)):a}})},function(n,i,e){var o=e(13);e(35)("isFrozen",function(s){return function(l){return!o(l)||!!s&&s(l)}})},function(n,i,e){var o=e(13);e(35)("isSealed",function(s){return function(l){return!o(l)||!!s&&s(l)}})},function(n,i,e){var o=e(13);e(35)("isExtensible",function(s){return function(l){return!!o(l)&&(!s||s(l))}})},function(n,i,e){var o=e(0);o(o.S+o.F,"Object",{assign:e(118)})},function(n,i,e){var o=e(0);o(o.S,"Object",{is:e(119)})},function(n,i,e){var o=e(0);o(o.S,"Object",{setPrototypeOf:e(90).set})},function(n,i,e){var o=e(63),s={};s[e(14)("toStringTag")]="z",s+""!="[object z]"&&e(21)(Object.prototype,"toString",function(){return"[object "+o(this)+"]"},!0)},function(n,i,e){var o=e(0);o(o.P,"Function",{bind:e(120)})},function(n,i,e){var o=e(19).f,s=Function.prototype,l=/^\s*function ([^ (]*)/;"name"in s||e(18)&&o(s,"name",{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch{return""}}})},function(n,i,e){var o=e(13),s=e(50),l=e(14)("hasInstance"),a=Function.prototype;l in a||e(19).f(a,l,{value:function(u){if(typeof this!="function"||!o(u))return!1;if(!o(this.prototype))return u instanceof this;for(;u=s(u);)if(this.prototype===u)return!0;return!1}})},function(n,i,e){var o=e(0),s=e(122);o(o.G+o.F*(parseInt!=s),{parseInt:s})},function(n,i,e){var o=e(0),s=e(123);o(o.G+o.F*(parseFloat!=s),{parseFloat:s})},function(n,i,e){var o=e(10),s=e(26),l=e(37),a=e(92),u=e(40),d=e(11),f=e(49).f,c=e(34).f,h=e(19).f,v=e(54).trim,m=o.Number,y=m,p=m.prototype,g=l(e(48)(p))=="Number",_="trim"in String.prototype,b=function(O){var A=u(O,!1);if(typeof A=="string"&&A.length>2){var T,x,E,C=(A=_?A.trim():v(A,3)).charCodeAt(0);if(C===43||C===45){if((T=A.charCodeAt(2))===88||T===120)return NaN}else if(C===48){switch(A.charCodeAt(1)){case 66:case 98:x=2,E=49;break;case 79:case 111:x=8,E=55;break;default:return+A}for(var N,R=A.slice(2),I=0,L=R.length;I<L;I++)if((N=R.charCodeAt(I))<48||N>E)return NaN;return parseInt(R,x)}}return+A};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(O){var A=arguments.length<1?0:O,T=this;return T instanceof m&&(g?d(function(){p.valueOf.call(T)}):l(T)!="Number")?a(new y(b(A)),T,m):b(A)};for(var k,w=e(18)?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)s(y,k=w[S])&&!s(m,k)&&h(m,k,c(y,k));m.prototype=p,p.constructor=m,e(21)(o,"Number",m)}},function(n,i,e){var o=e(0),s=e(33),l=e(124),a=e(93),u=1 .toFixed,d=Math.floor,f=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(p,g){for(var _=-1,b=g;++_<6;)b+=p*f[_],f[_]=b%1e7,b=d(b/1e7)},v=function(p){for(var g=6,_=0;--g>=0;)_+=f[g],f[g]=d(_/p),_=_%p*1e7},m=function(){for(var p=6,g="";--p>=0;)if(g!==""||p===0||f[p]!==0){var _=String(f[p]);g=g===""?_:g+a.call("0",7-_.length)+_}return g},y=function(p,g,_){return g===0?_:g%2==1?y(p,g-1,_*p):y(p*p,g/2,_)};o(o.P+o.F*(!!u&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||1000000000000000100 .toFixed(0)!=="1000000000000000128")||!e(11)(function(){u.call({})})),"Number",{toFixed:function(p){var g,_,b,k,w=l(this,c),S=s(p),O="",A="0";if(S<0||S>20)throw RangeError(c);if(w!=w)return"NaN";if(w<=-1e21||w>=1e21)return String(w);if(w<0&&(O="-",w=-w),w>1e-21)if(_=(g=function(T){for(var x=0,E=T;E>=4096;)x+=12,E/=4096;for(;E>=2;)x+=1,E/=2;return x}(w*y(2,69,1))-69)<0?w*y(2,-g,1):w/y(2,g,1),_*=4503599627370496,(g=52-g)>0){for(h(0,_),b=S;b>=7;)h(1e7,0),b-=7;for(h(y(10,b,1),0),b=g-1;b>=23;)v(1<<23),b-=23;v(1<<b),h(1,1),v(2),A=m()}else h(0,_),h(1<<-g,0),A=m()+a.call("0",S);return A=S>0?O+((k=A.length)<=S?"0."+a.call("0",S-k)+A:A.slice(0,k-S)+"."+A.slice(k-S)):O+A}})},function(n,i,e){var o=e(0),s=e(11),l=e(124),a=1 .toPrecision;o(o.P+o.F*(s(function(){return a.call(1,void 0)!=="1"})||!s(function(){a.call({})})),"Number",{toPrecision:function(u){var d=l(this,"Number#toPrecision: incorrect invocation!");return u===void 0?a.call(d):a.call(d,u)}})},function(n,i,e){var o=e(0);o(o.S,"Number",{EPSILON:Math.pow(2,-52)})},function(n,i,e){var o=e(0),s=e(10).isFinite;o(o.S,"Number",{isFinite:function(l){return typeof l=="number"&&s(l)}})},function(n,i,e){var o=e(0);o(o.S,"Number",{isInteger:e(125)})},function(n,i,e){var o=e(0);o(o.S,"Number",{isNaN:function(s){return s!=s}})},function(n,i,e){var o=e(0),s=e(125),l=Math.abs;o(o.S,"Number",{isSafeInteger:function(a){return s(a)&&l(a)<=9007199254740991}})},function(n,i,e){var o=e(0);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(n,i,e){var o=e(0);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(n,i,e){var o=e(0),s=e(123);o(o.S+o.F*(Number.parseFloat!=s),"Number",{parseFloat:s})},function(n,i,e){var o=e(0),s=e(122);o(o.S+o.F*(Number.parseInt!=s),"Number",{parseInt:s})},function(n,i,e){var o=e(0),s=e(126),l=Math.sqrt,a=Math.acosh;o(o.S+o.F*!(a&&Math.floor(a(Number.MAX_VALUE))==710&&a(1/0)==1/0),"Math",{acosh:function(u){return(u=+u)<1?NaN:u>9490626562425156e-8?Math.log(u)+Math.LN2:s(u-1+l(u-1)*l(u+1))}})},function(n,i,e){var o=e(0),s=Math.asinh;o(o.S+o.F*!(s&&1/s(0)>0),"Math",{asinh:function l(a){return isFinite(a=+a)&&a!=0?a<0?-l(-a):Math.log(a+Math.sqrt(a*a+1)):a}})},function(n,i,e){var o=e(0),s=Math.atanh;o(o.S+o.F*!(s&&1/s(-0)<0),"Math",{atanh:function(l){return(l=+l)==0?l:Math.log((1+l)/(1-l))/2}})},function(n,i,e){var o=e(0),s=e(94);o(o.S,"Math",{cbrt:function(l){return s(l=+l)*Math.pow(Math.abs(l),1/3)}})},function(n,i,e){var o=e(0);o(o.S,"Math",{clz32:function(s){return(s>>>=0)?31-Math.floor(Math.log(s+.5)*Math.LOG2E):32}})},function(n,i,e){var o=e(0),s=Math.exp;o(o.S,"Math",{cosh:function(l){return(s(l=+l)+s(-l))/2}})},function(n,i,e){var o=e(0),s=e(95);o(o.S+o.F*(s!=Math.expm1),"Math",{expm1:s})},function(n,i,e){var o=e(0);o(o.S,"Math",{fround:e(235)})},function(n,i,e){var o=e(94),s=Math.pow,l=s(2,-52),a=s(2,-23),u=s(2,127)*(2-a),d=s(2,-126);n.exports=Math.fround||function(f){var c,h,v=Math.abs(f),m=o(f);return v<d?m*(v/d/a+1/l-1/l)*d*a:(h=(c=(1+a/l)*v)-(c-v))>u||h!=h?m*(1/0):m*h}},function(n,i,e){var o=e(0),s=Math.abs;o(o.S,"Math",{hypot:function(l,a){for(var u,d,f=0,c=0,h=arguments.length,v=0;c<h;)v<(u=s(arguments[c++]))?(f=f*(d=v/u)*d+1,v=u):f+=u>0?(d=u/v)*d:u;return v===1/0?1/0:v*Math.sqrt(f)}})},function(n,i,e){var o=e(0),s=Math.imul;o(o.S+o.F*e(11)(function(){return s(4294967295,5)!=-5||s.length!=2}),"Math",{imul:function(l,a){var u=+l,d=+a,f=65535&u,c=65535&d;return 0|f*c+((65535&u>>>16)*c+f*(65535&d>>>16)<<16>>>0)}})},function(n,i,e){var o=e(0);o(o.S,"Math",{log10:function(s){return Math.log(s)*Math.LOG10E}})},function(n,i,e){var o=e(0);o(o.S,"Math",{log1p:e(126)})},function(n,i,e){var o=e(0);o(o.S,"Math",{log2:function(s){return Math.log(s)/Math.LN2}})},function(n,i,e){var o=e(0);o(o.S,"Math",{sign:e(94)})},function(n,i,e){var o=e(0),s=e(95),l=Math.exp;o(o.S+o.F*e(11)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(s(a)-s(-a))/2:(l(a-1)-l(-a-1))*(Math.E/2)}})},function(n,i,e){var o=e(0),s=e(95),l=Math.exp;o(o.S,"Math",{tanh:function(a){var u=s(a=+a),d=s(-a);return u==1/0?1:d==1/0?-1:(u-d)/(l(a)+l(-a))}})},function(n,i,e){var o=e(0);o(o.S,"Math",{trunc:function(s){return(s>0?Math.floor:Math.ceil)(s)}})},function(n,i,e){var o=e(0),s=e(47),l=String.fromCharCode,a=String.fromCodePoint;o(o.S+o.F*(!!a&&a.length!=1),"String",{fromCodePoint:function(u){for(var d,f=[],c=arguments.length,h=0;c>h;){if(d=+arguments[h++],s(d,1114111)!==d)throw RangeError(d+" is not a valid code point");f.push(d<65536?l(d):l(55296+((d-=65536)>>10),d%1024+56320))}return f.join("")}})},function(n,i,e){var o=e(0),s=e(28),l=e(16);o(o.S,"String",{raw:function(a){for(var u=s(a.raw),d=l(u.length),f=arguments.length,c=[],h=0;d>h;)c.push(String(u[h++])),h<f&&c.push(String(arguments[h]));return c.join("")}})},function(n,i,e){e(54)("trim",function(o){return function(){return o(this,3)}})},function(n,i,e){var o=e(96)(!0);e(97)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,l=this._t,a=this._i;return a>=l.length?{value:void 0,done:!0}:(s=o(l,a),this._i+=s.length,{value:s,done:!1})})},function(n,i,e){var o=e(0),s=e(96)(!1);o(o.P,"String",{codePointAt:function(l){return s(this,l)}})},function(n,i,e){var o=e(0),s=e(16),l=e(98),a="".endsWith;o(o.P+o.F*e(100)("endsWith"),"String",{endsWith:function(u){var d=l(this,u,"endsWith"),f=arguments.length>1?arguments[1]:void 0,c=s(d.length),h=f===void 0?c:Math.min(s(f),c),v=String(u);return a?a.call(d,v,h):d.slice(h-v.length,h)===v}})},function(n,i,e){var o=e(0),s=e(98);o(o.P+o.F*e(100)("includes"),"String",{includes:function(l){return!!~s(this,l,"includes").indexOf(l,arguments.length>1?arguments[1]:void 0)}})},function(n,i,e){var o=e(0);o(o.P,"String",{repeat:e(93)})},function(n,i,e){var o=e(0),s=e(16),l=e(98),a="".startsWith;o(o.P+o.F*e(100)("startsWith"),"String",{startsWith:function(u){var d=l(this,u,"startsWith"),f=s(Math.min(arguments.length>1?arguments[1]:void 0,d.length)),c=String(u);return a?a.call(d,c,f):d.slice(f,f+c.length)===c}})},function(n,i,e){e(22)("anchor",function(o){return function(s){return o(this,"a","name",s)}})},function(n,i,e){e(22)("big",function(o){return function(){return o(this,"big","","")}})},function(n,i,e){e(22)("blink",function(o){return function(){return o(this,"blink","","")}})},function(n,i,e){e(22)("bold",function(o){return function(){return o(this,"b","","")}})},function(n,i,e){e(22)("fixed",function(o){return function(){return o(this,"tt","","")}})},function(n,i,e){e(22)("fontcolor",function(o){return function(s){return o(this,"font","color",s)}})},function(n,i,e){e(22)("fontsize",function(o){return function(s){return o(this,"font","size",s)}})},function(n,i,e){e(22)("italics",function(o){return function(){return o(this,"i","","")}})},function(n,i,e){e(22)("link",function(o){return function(s){return o(this,"a","href",s)}})},function(n,i,e){e(22)("small",function(o){return function(){return o(this,"small","","")}})},function(n,i,e){e(22)("strike",function(o){return function(){return o(this,"strike","","")}})},function(n,i,e){e(22)("sub",function(o){return function(){return o(this,"sub","","")}})},function(n,i,e){e(22)("sup",function(o){return function(){return o(this,"sup","","")}})},function(n,i,e){var o=e(0);o(o.S,"Date",{now:function(){return new Date().getTime()}})},function(n,i,e){var o=e(0),s=e(20),l=e(40);o(o.P+o.F*e(11)(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function(a){var u=s(this),d=l(u);return typeof d!="number"||isFinite(d)?u.toISOString():null}})},function(n,i,e){var o=e(0),s=e(270);o(o.P+o.F*(Date.prototype.toISOString!==s),"Date",{toISOString:s})},function(n,i,e){var o=e(11),s=Date.prototype.getTime,l=Date.prototype.toISOString,a=function(u){return u>9?u:"0"+u};n.exports=o(function(){return l.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!o(function(){l.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var u=this,d=u.getUTCFullYear(),f=u.getUTCMilliseconds(),c=d<0?"-":d>9999?"+":"";return c+("00000"+Math.abs(d)).slice(c?-6:-4)+"-"+a(u.getUTCMonth()+1)+"-"+a(u.getUTCDate())+"T"+a(u.getUTCHours())+":"+a(u.getUTCMinutes())+":"+a(u.getUTCSeconds())+"."+(f>99?f:"0"+a(f))+"Z"}:l},function(n,i,e){var o=Date.prototype,s=o.toString,l=o.getTime;new Date(NaN)+""!="Invalid Date"&&e(21)(o,"toString",function(){var a=l.call(this);return a==a?s.call(this):"Invalid Date"})},function(n,i,e){var o=e(14)("toPrimitive"),s=Date.prototype;o in s||e(27)(s,o,e(273))},function(n,i,e){var o=e(12),s=e(40);n.exports=function(l){if(l!=="string"&&l!=="number"&&l!=="default")throw TypeError("Incorrect hint");return s(o(this),l!="number")}},function(n,i,e){var o=e(0);o(o.S,"Array",{isArray:e(71)})},function(n,i,e){var o=e(31),s=e(0),l=e(20),a=e(128),u=e(101),d=e(16),f=e(102),c=e(103);s(s.S+s.F*!e(72)(function(h){Array.from(h)}),"Array",{from:function(h){var v,m,y,p,g=l(h),_=typeof this=="function"?this:Array,b=arguments.length,k=b>1?arguments[1]:void 0,w=k!==void 0,S=0,O=c(g);if(w&&(k=o(k,b>2?arguments[2]:void 0,2)),O==null||_==Array&&u(O))for(m=new _(v=d(g.length));v>S;S++)f(m,S,w?k(g[S],S):g[S]);else for(p=O.call(g),m=new _;!(y=p.next()).done;S++)f(m,S,w?a(p,k,[y.value,S],!0):y.value);return m.length=S,m}})},function(n,i,e){var o=e(0),s=e(102);o(o.S+o.F*e(11)(function(){function l(){}return!(Array.of.call(l)instanceof l)}),"Array",{of:function(){for(var l=0,a=arguments.length,u=new(typeof this=="function"?this:Array)(a);a>l;)s(u,l,arguments[l++]);return u.length=a,u}})},function(n,i,e){var o=e(0),s=e(28),l=[].join;o(o.P+o.F*(e(61)!=Object||!e(29)(l)),"Array",{join:function(a){return l.call(s(this),a===void 0?",":a)}})},function(n,i,e){var o=e(0),s=e(89),l=e(37),a=e(47),u=e(16),d=[].slice;o(o.P+o.F*e(11)(function(){s&&d.call(s)}),"Array",{slice:function(f,c){var h=u(this.length),v=l(this);if(c=c===void 0?h:c,v=="Array")return d.call(this,f,c);for(var m=a(f,h),y=a(c,h),p=u(y-m),g=new Array(p),_=0;_<p;_++)g[_]=v=="String"?this.charAt(m+_):this[m+_];return g}})},function(n,i,e){var o=e(0),s=e(32),l=e(20),a=e(11),u=[].sort,d=[1,2,3];o(o.P+o.F*(a(function(){d.sort(void 0)})||!a(function(){d.sort(null)})||!e(29)(u)),"Array",{sort:function(f){return f===void 0?u.call(l(this)):u.call(l(this),s(f))}})},function(n,i,e){var o=e(0),s=e(36)(0),l=e(29)([].forEach,!0);o(o.P+o.F*!l,"Array",{forEach:function(a){return s(this,a,arguments[1])}})},function(n,i,e){var o=e(13),s=e(71),l=e(14)("species");n.exports=function(a){var u;return s(a)&&(typeof(u=a.constructor)!="function"||u!==Array&&!s(u.prototype)||(u=void 0),o(u)&&(u=u[l])===null&&(u=void 0)),u===void 0?Array:u}},function(n,i,e){var o=e(0),s=e(36)(1);o(o.P+o.F*!e(29)([].map,!0),"Array",{map:function(l){return s(this,l,arguments[1])}})},function(n,i,e){var o=e(0),s=e(36)(2);o(o.P+o.F*!e(29)([].filter,!0),"Array",{filter:function(l){return s(this,l,arguments[1])}})},function(n,i,e){var o=e(0),s=e(36)(3);o(o.P+o.F*!e(29)([].some,!0),"Array",{some:function(l){return s(this,l,arguments[1])}})},function(n,i,e){var o=e(0),s=e(36)(4);o(o.P+o.F*!e(29)([].every,!0),"Array",{every:function(l){return s(this,l,arguments[1])}})},function(n,i,e){var o=e(0),s=e(130);o(o.P+o.F*!e(29)([].reduce,!0),"Array",{reduce:function(l){return s(this,l,arguments.length,arguments[1],!1)}})},function(n,i,e){var o=e(0),s=e(130);o(o.P+o.F*!e(29)([].reduceRight,!0),"Array",{reduceRight:function(l){return s(this,l,arguments.length,arguments[1],!0)}})},function(n,i,e){var o=e(0),s=e(69)(!1),l=[].indexOf,a=!!l&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(a||!e(29)(l)),"Array",{indexOf:function(u){return a?l.apply(this,arguments)||0:s(this,u,arguments[1])}})},function(n,i,e){var o=e(0),s=e(28),l=e(33),a=e(16),u=[].lastIndexOf,d=!!u&&1/[1].lastIndexOf(1,-0)<0;o(o.P+o.F*(d||!e(29)(u)),"Array",{lastIndexOf:function(f){if(d)return u.apply(this,arguments)||0;var c=s(this),h=a(c.length),v=h-1;for(arguments.length>1&&(v=Math.min(v,l(arguments[1]))),v<0&&(v=h+v);v>=0;v--)if(v in c&&c[v]===f)return v||0;return-1}})},function(n,i,e){var o=e(0);o(o.P,"Array",{copyWithin:e(131)}),e(51)("copyWithin")},function(n,i,e){var o=e(0);o(o.P,"Array",{fill:e(104)}),e(51)("fill")},function(n,i,e){var o=e(0),s=e(36)(5),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),o(o.P+o.F*l,"Array",{find:function(a){return s(this,a,arguments.length>1?arguments[1]:void 0)}}),e(51)("find")},function(n,i,e){var o=e(0),s=e(36)(6),l="findIndex",a=!0;l in[]&&Array(1)[l](function(){a=!1}),o(o.P+o.F*a,"Array",{findIndex:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}}),e(51)(l)},function(n,i,e){e(56)("Array")},function(n,i,e){var o=e(10),s=e(92),l=e(19).f,a=e(49).f,u=e(99),d=e(73),f=o.RegExp,c=f,h=f.prototype,v=/a/g,m=/a/g,y=new f(v)!==v;if(e(18)&&(!y||e(11)(function(){return m[e(14)("match")]=!1,f(v)!=v||f(m)==m||f(v,"i")!="/a/i"}))){f=function(b,k){var w=this instanceof f,S=u(b),O=k===void 0;return!w&&S&&b.constructor===f&&O?b:s(y?new c(S&&!O?b.source:b,k):c((S=b instanceof f)?b.source:b,S&&O?d.call(b):k),w?this:h,f)};for(var p=function(b){b in f||l(f,b,{configurable:!0,get:function(){return c[b]},set:function(k){c[b]=k}})},g=a(c),_=0;g.length>_;)p(g[_++]);h.constructor=f,f.prototype=h,e(21)(o,"RegExp",f)}e(56)("RegExp")},function(n,i,e){e(134);var o=e(12),s=e(73),l=e(18),a=/./.toString,u=function(d){e(21)(RegExp.prototype,"toString",d,!0)};e(11)(function(){return a.call({source:"a",flags:"b"})!="/a/b"})?u(function(){var d=o(this);return"/".concat(d.source,"/","flags"in d?d.flags:!l&&d instanceof RegExp?s.call(d):void 0)}):a.name!="toString"&&u(function(){return a.call(this)})},function(n,i,e){var o=e(12),s=e(16),l=e(107),a=e(74);e(75)("match",1,function(u,d,f,c){return[function(h){var v=u(this),m=h==null?void 0:h[d];return m!==void 0?m.call(h,v):new RegExp(h)[d](String(v))},function(h){var v=c(f,h,this);if(v.done)return v.value;var m=o(h),y=String(this);if(!m.global)return a(m,y);var p=m.unicode;m.lastIndex=0;for(var g,_=[],b=0;(g=a(m,y))!==null;){var k=String(g[0]);_[b]=k,k===""&&(m.lastIndex=l(y,s(m.lastIndex),p)),b++}return b===0?null:_}]})},function(n,i,e){var o=e(12),s=e(20),l=e(16),a=e(33),u=e(107),d=e(74),f=Math.max,c=Math.min,h=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g;e(75)("replace",2,function(y,p,g,_){return[function(k,w){var S=y(this),O=k==null?void 0:k[p];return O!==void 0?O.call(k,S,w):g.call(String(S),k,w)},function(k,w){var S=_(g,k,this,w);if(S.done)return S.value;var O=o(k),A=String(this),T=typeof w=="function";T||(w=String(w));var x=O.global;if(x){var E=O.unicode;O.lastIndex=0}for(var C=[];;){var N=d(O,A);if(N===null||(C.push(N),!x))break;String(N[0])===""&&(O.lastIndex=u(A,l(O.lastIndex),E))}for(var R,I="",L=0,P=0;P<C.length;P++){N=C[P];for(var D=String(N[0]),U=f(c(a(N.index),A.length),0),M=[],B=1;B<N.length;B++)M.push((R=N[B])===void 0?R:String(R));var q=N.groups;if(T){var z=[D].concat(M,U,A);q!==void 0&&z.push(q);var j=String(w.apply(void 0,z))}else j=b(D,A,U,M,q,w);U>=L&&(I+=A.slice(L,U)+j,L=U+D.length)}return I+A.slice(L)}];function b(k,w,S,O,A,T){var x=S+k.length,E=O.length,C=m;return A!==void 0&&(A=s(A),C=v),g.call(T,C,function(N,R){var I;switch(R.charAt(0)){case"$":return"$";case"&":return k;case"`":return w.slice(0,S);case"'":return w.slice(x);case"<":I=A[R.slice(1,-1)];break;default:var L=+R;if(L===0)return N;if(L>E){var P=h(L/10);return P===0?N:P<=E?O[P-1]===void 0?R.charAt(1):O[P-1]+R.charAt(1):N}I=O[L-1]}return I===void 0?"":I})}})},function(n,i,e){var o=e(12),s=e(119),l=e(74);e(75)("search",1,function(a,u,d,f){return[function(c){var h=a(this),v=c==null?void 0:c[u];return v!==void 0?v.call(c,h):new RegExp(c)[u](String(h))},function(c){var h=f(d,c,this);if(h.done)return h.value;var v=o(c),m=String(this),y=v.lastIndex;s(y,0)||(v.lastIndex=0);var p=l(v,m);return s(v.lastIndex,y)||(v.lastIndex=y),p===null?-1:p.index}]})},function(n,i,e){var o=e(99),s=e(12),l=e(64),a=e(107),u=e(16),d=e(74),f=e(106),c=e(11),h=Math.min,v=[].push,m="length",y=!c(function(){});e(75)("split",2,function(p,g,_,b){var k;return k="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1)[m]!=4||"ab".split(/(?:ab)*/)[m]!=2||".".split(/(.?)(.?)/)[m]!=4||".".split(/()()/)[m]>1||"".split(/.?/)[m]?function(w,S){var O=String(this);if(w===void 0&&S===0)return[];if(!o(w))return _.call(O,w,S);for(var A,T,x,E=[],C=(w.ignoreCase?"i":"")+(w.multiline?"m":"")+(w.unicode?"u":"")+(w.sticky?"y":""),N=0,R=S===void 0?4294967295:S>>>0,I=new RegExp(w.source,C+"g");(A=f.call(I,O))&&!((T=I.lastIndex)>N&&(E.push(O.slice(N,A.index)),A[m]>1&&A.index<O[m]&&v.apply(E,A.slice(1)),x=A[0][m],N=T,E[m]>=R));)I.lastIndex===A.index&&I.lastIndex++;return N===O[m]?!x&&I.test("")||E.push(""):E.push(O.slice(N)),E[m]>R?E.slice(0,R):E}:"0".split(void 0,0)[m]?function(w,S){return w===void 0&&S===0?[]:_.call(this,w,S)}:_,[function(w,S){var O=p(this),A=w==null?void 0:w[g];return A!==void 0?A.call(w,O,S):k.call(String(O),w,S)},function(w,S){var O=b(k,w,this,S,k!==_);if(O.done)return O.value;var A=s(w),T=String(this),x=l(A,RegExp),E=A.unicode,C=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(y?"y":"g"),N=new x(y?A:"^(?:"+A.source+")",C),R=S===void 0?4294967295:S>>>0;if(R===0)return[];if(T.length===0)return d(N,T)===null?[T]:[];for(var I=0,L=0,P=[];L<T.length;){N.lastIndex=y?L:0;var D,U=d(N,y?T:T.slice(L));if(U===null||(D=h(u(N.lastIndex+(y?0:L)),T.length))===I)L=a(T,L,E);else{if(P.push(T.slice(I,L)),P.length===R)return P;for(var M=1;M<=U.length-1;M++)if(P.push(U[M]),P.length===R)return P;L=I=D}}return P.push(T.slice(I)),P}]})},function(n,i,e){var o=e(10),s=e(108).set,l=o.MutationObserver||o.WebKitMutationObserver,a=o.process,u=o.Promise,d=e(37)(a)=="process";n.exports=function(){var f,c,h,v=function(){var g,_;for(d&&(g=a.domain)&&g.exit();f;){_=f.fn,f=f.next;try{_()}catch(b){throw f?h():c=void 0,b}}c=void 0,g&&g.enter()};if(d)h=function(){a.nextTick(v)};else if(!l||o.navigator&&o.navigator.standalone)if(u&&u.resolve){var m=u.resolve(void 0);h=function(){m.then(v)}}else h=function(){s.call(o,v)};else{var y=!0,p=document.createTextNode("");new l(v).observe(p,{characterData:!0}),h=function(){p.data=y=!y}}return function(g){var _={fn:g,next:void 0};c&&(c.next=_),f||(f=_,h()),c=_}}},function(n,i){n.exports=function(e){try{return{e:!1,v:e()}}catch(o){return{e:!0,v:o}}}},function(n,i,e){var o=e(138),s=e(52);n.exports=e(78)("Map",function(l){return function(){return l(this,arguments.length>0?arguments[0]:void 0)}},{get:function(l){var a=o.getEntry(s(this,"Map"),l);return a&&a.v},set:function(l,a){return o.def(s(this,"Map"),l===0?0:l,a)}},o,!0)},function(n,i,e){var o=e(138),s=e(52);n.exports=e(78)("Set",function(l){return function(){return l(this,arguments.length>0?arguments[0]:void 0)}},{add:function(l){return o.def(s(this,"Set"),l=l===0?0:l,l)}},o)},function(n,i,e){var o,s=e(10),l=e(36)(0),a=e(21),u=e(41),d=e(118),f=e(139),c=e(13),h=e(52),v=e(52),m=!s.ActiveXObject&&"ActiveXObject"in s,y=u.getWeak,p=Object.isExtensible,g=f.ufstore,_=function(w){return function(){return w(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(w){if(c(w)){var S=y(w);return S===!0?g(h(this,"WeakMap")).get(w):S?S[this._i]:void 0}},set:function(w,S){return f.def(h(this,"WeakMap"),w,S)}},k=n.exports=e(78)("WeakMap",_,b,f,!0,!0);v&&m&&(d((o=f.getConstructor(_,"WeakMap")).prototype,b),u.NEED=!0,l(["delete","has","get","set"],function(w){var S=k.prototype,O=S[w];a(S,w,function(A,T){if(c(A)&&!p(A)){this._f||(this._f=new o);var x=this._f[w](A,T);return w=="set"?this:x}return O.call(this,A,T)})}))},function(n,i,e){var o=e(139),s=e(52);e(78)("WeakSet",function(l){return function(){return l(this,arguments.length>0?arguments[0]:void 0)}},{add:function(l){return o.def(s(this,"WeakSet"),l,!0)}},o,!1,!0)},function(n,i,e){var o=e(0),s=e(79),l=e(109),a=e(12),u=e(47),d=e(16),f=e(13),c=e(10).ArrayBuffer,h=e(64),v=l.ArrayBuffer,m=l.DataView,y=s.ABV&&c.isView,p=v.prototype.slice,g=s.VIEW;o(o.G+o.W+o.F*(c!==v),{ArrayBuffer:v}),o(o.S+o.F*!s.CONSTR,"ArrayBuffer",{isView:function(_){return y&&y(_)||f(_)&&g in _}}),o(o.P+o.U+o.F*e(11)(function(){return!new v(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(_,b){if(p!==void 0&&b===void 0)return p.call(a(this),_);for(var k=a(this).byteLength,w=u(_,k),S=u(b===void 0?k:b,k),O=new(h(this,v))(d(S-w)),A=new m(this),T=new m(O),x=0;w<S;)T.setUint8(x++,A.getUint8(w++));return O}}),e(56)("ArrayBuffer")},function(n,i,e){var o=e(0);o(o.G+o.W+o.F*!e(79).ABV,{DataView:e(109).DataView})},function(n,i,e){e(39)("Int8",1,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Uint8",1,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Uint8",1,function(o){return function(s,l,a){return o(this,s,l,a)}},!0)},function(n,i,e){e(39)("Int16",2,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Uint16",2,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Int32",4,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Uint32",4,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Float32",4,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){e(39)("Float64",8,function(o){return function(s,l,a){return o(this,s,l,a)}})},function(n,i,e){var o=e(0),s=e(32),l=e(12),a=(e(10).Reflect||{}).apply,u=Function.apply;o(o.S+o.F*!e(11)(function(){a(function(){})}),"Reflect",{apply:function(d,f,c){var h=s(d),v=l(c);return a?a(h,f,v):u.call(h,f,v)}})},function(n,i,e){var o=e(0),s=e(48),l=e(32),a=e(12),u=e(13),d=e(11),f=e(120),c=(e(10).Reflect||{}).construct,h=d(function(){function m(){}return!(c(function(){},[],m)instanceof m)}),v=!d(function(){c(function(){})});o(o.S+o.F*(h||v),"Reflect",{construct:function(m,y){l(m),a(y);var p=arguments.length<3?m:l(arguments[2]);if(v&&!h)return c(m,y,p);if(m==p){switch(y.length){case 0:return new m;case 1:return new m(y[0]);case 2:return new m(y[0],y[1]);case 3:return new m(y[0],y[1],y[2]);case 4:return new m(y[0],y[1],y[2],y[3])}var g=[null];return g.push.apply(g,y),new(f.apply(m,g))}var _=p.prototype,b=s(u(_)?_:Object.prototype),k=Function.apply.call(m,b,y);return u(k)?k:b}})},function(n,i,e){var o=e(19),s=e(0),l=e(12),a=e(40);s(s.S+s.F*e(11)(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(u,d,f){l(u),d=a(d,!0),l(f);try{return o.f(u,d,f),!0}catch{return!1}}})},function(n,i,e){var o=e(0),s=e(34).f,l=e(12);o(o.S,"Reflect",{deleteProperty:function(a,u){var d=s(l(a),u);return!(d&&!d.configurable)&&delete a[u]}})},function(n,i,e){var o=e(0),s=e(12),l=function(a){this._t=s(a),this._i=0;var u,d=this._k=[];for(u in a)d.push(u)};e(127)(l,"Object",function(){var a,u=this._k;do if(this._i>=u.length)return{value:void 0,done:!0};while(!((a=u[this._i++])in this._t));return{value:a,done:!1}}),o(o.S,"Reflect",{enumerate:function(a){return new l(a)}})},function(n,i,e){var o=e(34),s=e(50),l=e(26),a=e(0),u=e(13),d=e(12);a(a.S,"Reflect",{get:function f(c,h){var v,m,y=arguments.length<3?c:arguments[2];return d(c)===y?c[h]:(v=o.f(c,h))?l(v,"value")?v.value:v.get!==void 0?v.get.call(y):void 0:u(m=s(c))?f(m,h,y):void 0}})},function(n,i,e){var o=e(34),s=e(0),l=e(12);s(s.S,"Reflect",{getOwnPropertyDescriptor:function(a,u){return o.f(l(a),u)}})},function(n,i,e){var o=e(0),s=e(50),l=e(12);o(o.S,"Reflect",{getPrototypeOf:function(a){return s(l(a))}})},function(n,i,e){var o=e(0);o(o.S,"Reflect",{has:function(s,l){return l in s}})},function(n,i,e){var o=e(0),s=e(12),l=Object.isExtensible;o(o.S,"Reflect",{isExtensible:function(a){return s(a),!l||l(a)}})},function(n,i,e){var o=e(0);o(o.S,"Reflect",{ownKeys:e(141)})},function(n,i,e){var o=e(0),s=e(12),l=Object.preventExtensions;o(o.S,"Reflect",{preventExtensions:function(a){s(a);try{return l&&l(a),!0}catch{return!1}}})},function(n,i,e){var o=e(19),s=e(34),l=e(50),a=e(26),u=e(0),d=e(43),f=e(12),c=e(13);u(u.S,"Reflect",{set:function h(v,m,y){var p,g,_=arguments.length<4?v:arguments[3],b=s.f(f(v),m);if(!b){if(c(g=l(v)))return h(g,m,y,_);b=d(0)}if(a(b,"value")){if(b.writable===!1||!c(_))return!1;if(p=s.f(_,m)){if(p.get||p.set||p.writable===!1)return!1;p.value=y,o.f(_,m,p)}else o.f(_,m,d(0,y));return!0}return b.set!==void 0&&(b.set.call(_,y),!0)}})},function(n,i,e){var o=e(0),s=e(90);s&&o(o.S,"Reflect",{setPrototypeOf:function(l,a){s.check(l,a);try{return s.set(l,a),!0}catch{return!1}}})},function(n,i,e){e(333),n.exports=e(17).Array.includes},function(n,i,e){var o=e(0),s=e(69)(!0);o(o.P,"Array",{includes:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}}),e(51)("includes")},function(n,i,e){e(335),n.exports=e(17).Array.flatMap},function(n,i,e){var o=e(0),s=e(336),l=e(20),a=e(16),u=e(32),d=e(129);o(o.P,"Array",{flatMap:function(f){var c,h,v=l(this);return u(f),c=a(v.length),h=d(v,0),s(h,v,v,c,0,1,f,arguments[1]),h}}),e(51)("flatMap")},function(n,i,e){var o=e(71),s=e(13),l=e(16),a=e(31),u=e(14)("isConcatSpreadable");n.exports=function d(f,c,h,v,m,y,p,g){for(var _,b,k=m,w=0,S=!!p&&a(p,g,3);w<v;){if(w in h){if(_=S?S(h[w],w,c):h[w],b=!1,s(_)&&(b=(b=_[u])!==void 0?!!b:o(_)),b&&y>0)k=d(f,c,_,l(_.length),k,y-1)-1;else{if(k>=9007199254740991)throw TypeError();f[k]=_}k++}w++}return k}},function(n,i,e){e(338),n.exports=e(17).String.padStart},function(n,i,e){var o=e(0),s=e(142),l=e(77),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(l);o(o.P+o.F*a,"String",{padStart:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0,!0)}})},function(n,i,e){e(340),n.exports=e(17).String.padEnd},function(n,i,e){var o=e(0),s=e(142),l=e(77),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(l);o(o.P+o.F*a,"String",{padEnd:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0,!1)}})},function(n,i,e){e(342),n.exports=e(17).String.trimLeft},function(n,i,e){e(54)("trimLeft",function(o){return function(){return o(this,1)}},"trimStart")},function(n,i,e){e(344),n.exports=e(17).String.trimRight},function(n,i,e){e(54)("trimRight",function(o){return function(){return o(this,2)}},"trimEnd")},function(n,i,e){e(346),n.exports=e(86).f("asyncIterator")},function(n,i,e){e(114)("asyncIterator")},function(n,i,e){e(348),n.exports=e(17).Object.getOwnPropertyDescriptors},function(n,i,e){var o=e(0),s=e(141),l=e(28),a=e(34),u=e(102);o(o.S,"Object",{getOwnPropertyDescriptors:function(d){for(var f,c,h=l(d),v=a.f,m=s(h),y={},p=0;m.length>p;)(c=v(h,f=m[p++]))!==void 0&&u(y,f,c);return y}})},function(n,i,e){e(350),n.exports=e(17).Object.values},function(n,i,e){var o=e(0),s=e(143)(!1);o(o.S,"Object",{values:function(l){return s(l)}})},function(n,i,e){e(352),n.exports=e(17).Object.entries},function(n,i,e){var o=e(0),s=e(143)(!0);o(o.S,"Object",{entries:function(l){return s(l)}})},function(n,i,e){e(135),e(354),n.exports=e(17).Promise.finally},function(n,i,e){var o=e(0),s=e(17),l=e(10),a=e(64),u=e(137);o(o.P+o.R,"Promise",{finally:function(d){var f=a(this,s.Promise||l.Promise),c=typeof d=="function";return this.then(c?function(h){return u(f,d()).then(function(){return h})}:d,c?function(h){return u(f,d()).then(function(){throw h})}:d)}})},function(n,i,e){e(356),e(357),e(358),n.exports=e(17)},function(n,i,e){var o=e(10),s=e(0),l=e(77),a=[].slice,u=/MSIE .\./.test(l),d=function(f){return function(c,h){var v=arguments.length>2,m=!!v&&a.call(arguments,2);return f(v?function(){(typeof c=="function"?c:Function(c)).apply(this,m)}:c,h)}};s(s.G+s.B+s.F*u,{setTimeout:d(o.setTimeout),setInterval:d(o.setInterval)})},function(n,i,e){var o=e(0),s=e(108);o(o.G+o.B,{setImmediate:s.set,clearImmediate:s.clear})},function(n,i,e){for(var o=e(105),s=e(46),l=e(21),a=e(10),u=e(27),d=e(55),f=e(14),c=f("iterator"),h=f("toStringTag"),v=d.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=s(m),p=0;p<y.length;p++){var g,_=y[p],b=m[_],k=a[_],w=k&&k.prototype;if(w&&(w[c]||u(w,c,v),w[h]||u(w,h,_),d[_]=v,b))for(g in o)w[g]||l(w,g,o[g],!0)}},function(n,i,e){var o,s,l;s=[i,e(30),e(2),e(3),e(363),e(365),e(366),e(7)],(l=typeof(o=function(a,u,d,f,c,h,v,m){var y=e(8),p=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=p(u),d=p(d),f=p(f),v=p(v),m=y(m);var g=function(){function _(b){var k=this;(0,d.default)(this,_);var w=function(){};m.isObject(b)&&m.isFunction(b.onReady)&&(w=b.onReady);var S=new v.default(b);this.isReady=S.isReady.then(function(){k.exportAPI(S),w()})}return(0,f.default)(_,[{key:"exportAPI",value:function(b){var k=this;["configuration"].forEach(function(w){k[w]=b[w]}),this.destroy=function(){for(var w in Object.values(b.moduleInstances).forEach(function(S){m.isFunction(S.destroy)&&S.destroy(),S.listeners.removeAll()}),b=null,k)Object.prototype.hasOwnProperty.call(k,w)&&delete k[w];Object.setPrototypeOf(k,null)},Object.setPrototypeOf(this,b.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(function(w){var S=(0,u.default)(w,2),O=S[0],A=S[1];Object.entries(A).forEach(function(T){var x=(0,u.default)(T,2),E=x[0],C=x[1];k[C]=b.moduleInstances.API.methods[O][E]})})}}],[{key:"version",get:function(){return"2.22.2"}}]),_}();a.default=g,g.displayName="EditorJS",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i){n.exports=function(e){if(Array.isArray(e))return e}},function(n,i){n.exports=function(e,o){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var s=[],l=!0,a=!1,u=void 0;try{for(var d,f=e[Symbol.iterator]();!(l=(d=f.next()).done)&&(s.push(d.value),!o||s.length!==o);l=!0);}catch(c){a=!0,u=c}finally{try{l||f.return==null||f.return()}finally{if(a)throw u}}return s}}},function(n,i){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,i,e){(i=n.exports=function(...l){return s(...l)}).__esModule=!0;const o=e(364),s=o.default;Object.assign(i,o)},function(n,i,e){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){},i.revert=function(){}},function(n,i,e){var o,s,l;s=[],(l=typeof(o=function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var u=(this.document||this.ownerDocument).querySelectorAll(a),d=u.length;--d>=0&&u.item(d)!==this;);return d>-1}),Element.prototype.closest||(Element.prototype.closest=function(a){var u=this;if(!document.documentElement.contains(u))return null;do{if(u.matches(a))return u;u=u.parentElement||u.parentNode}while(u!==null);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(a){var u=document.createDocumentFragment();Array.isArray(a)||(a=[a]),a.forEach(function(d){var f=d instanceof Node;u.appendChild(f?d:document.createTextNode(d))}),this.insertBefore(u,this.firstChild)})})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(23),e(24),e(2),e(3),e(15),e(7),e(59),e(148),e(151)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p){var g=e(8),_=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=_(u),d=_(d),f=_(f),c=_(c),h=_(h),v=g(v),m=_(m),p=_(p);var b=e(374),k=[];b.keys().forEach(function(S){S.match(/^\.\/[^_][\w/]*\.([tj])s$/)&&k.push(b(S))});var w=function(){function S(T){var x,E,C=this;(0,f.default)(this,S),this.moduleInstances={},this.eventsDispatcher=new p.default,this.isReady=new Promise(function(N,R){x=N,E=R}),Promise.resolve().then((0,d.default)(u.default.mark(function N(){return u.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return C.configuration=T,R.next=3,C.validate();case 3:return R.next=5,C.init();case 5:return R.next=7,C.start();case 7:v.logLabeled("I'm ready! (\uFF89\u25D5\u30EE\u25D5)\uFF89*:\uFF65\uFF9F\u2727","log","","color: #E24A75"),setTimeout((0,d.default)(u.default.mark(function I(){var L,P,D;return u.default.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,C.render();case 2:C.configuration.autofocus&&(L=C.moduleInstances,P=L.BlockManager,(D=L.Caret).setToBlock(P.blocks[0],D.positions.START),P.highlightCurrentNode()),C.moduleInstances.UI.removeLoader(),x();case 5:case"end":return U.stop()}},I)})),500);case 9:case"end":return R.stop()}},N)}))).catch(function(N){v.log("Editor.js is not ready because of ".concat(N),"error"),E(N)})}var O,A;return(0,c.default)(S,[{key:"validate",value:(A=(0,d.default)(u.default.mark(function T(){var x,E,C;return u.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(x=this.config,E=x.holderId,C=x.holder,!E||!C){N.next=3;break}throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");case 3:if(!v.isString(C)||h.default.get(C)){N.next=5;break}throw Error("element with ID \xAB".concat(C,"\xBB is missing. Pass correct holder's ID."));case 5:if(!C||!v.isObject(C)||h.default.isElement(C)){N.next=7;break}throw Error("\xABholder\xBB value must be an Element node");case 7:case"end":return N.stop()}},T,this)})),function(){return A.apply(this,arguments)})},{key:"init",value:function(){this.constructModules(),this.configureModules()}},{key:"start",value:(O=(0,d.default)(u.default.mark(function T(){var x,E=this;return u.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return x=["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"],C.next=3,x.reduce(function(N,R){return N.then((0,d.default)(u.default.mark(function I(){return u.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.prev=0,L.next=3,E.moduleInstances[R].prepare();case 3:L.next=10;break;case 5:if(L.prev=5,L.t0=L.catch(0),!(L.t0 instanceof y.CriticalError)){L.next=9;break}throw new Error(L.t0.message);case 9:v.log("Module ".concat(R," was skipped because of %o"),"warn",L.t0);case 10:case"end":return L.stop()}},I,null,[[0,5]])})))},Promise.resolve());case 3:case"end":return C.stop()}},T)})),function(){return O.apply(this,arguments)})},{key:"render",value:function(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}},{key:"constructModules",value:function(){var T=this;k.forEach(function(x){var E=v.isFunction(x)?x:x.default;try{T.moduleInstances[E.displayName]=new E({config:T.configuration,eventsDispatcher:T.eventsDispatcher})}catch(C){v.log("Module ".concat(E.displayName," skipped because"),"warn",C)}})}},{key:"configureModules",value:function(){for(var T in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,T)&&(this.moduleInstances[T].state=this.getModulesDiff(T))}},{key:"getModulesDiff",value:function(T){var x={};for(var E in this.moduleInstances)E!==T&&(x[E]=this.moduleInstances[E]);return x}},{key:"configuration",set:function(T){var x,E;v.isObject(T)?this.config=Object.assign({},T):this.config={holder:T},v.deprecationAssert(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=v.LogLevels.VERBOSE),v.setLogLevel(this.config.logLevel),v.deprecationAssert(Boolean(this.config.initialBlock),"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;var C={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||function(){},this.config.onChange=this.config.onChange||function(){},this.config.inlineToolbar=this.config.inlineToolbar===void 0||this.config.inlineToolbar,!v.isEmpty(this.config.data)&&this.config.data.blocks&&this.config.data.blocks.length!==0||(this.config.data={blocks:[C]}),this.config.readOnly=this.config.readOnly||!1,((x=this.config.i18n)===null||x===void 0?void 0:x.messages)&&m.default.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((E=this.config.i18n)===null||E===void 0?void 0:E.direction)||"ltr"},get:function(){return this.config}}]),S}();a.default=w,w.displayName="Core",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(146);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,i){n.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(n,i){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,i){n.exports=function(e,o,s){return o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}},function(n,i){n.exports=function(e){return Function.toString.call(e).indexOf("[native code]")!==-1}},function(n,i,e){var o=e(110),s=e(373);function l(a,u,d){return s()?n.exports=l=Reflect.construct:n.exports=l=function(f,c,h){var v=[null];v.push.apply(v,c);var m=new(Function.bind.apply(f,v));return h&&o(m,h.prototype),m},l.apply(null,arguments)}n.exports=l},function(n,i){n.exports=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}},function(n,i,e){var o={"./api":81,"./api/":81,"./api/blocks":152,"./api/blocks.ts":152,"./api/caret":153,"./api/caret.ts":153,"./api/events":154,"./api/events.ts":154,"./api/i18n":155,"./api/i18n.ts":155,"./api/index":81,"./api/index.ts":81,"./api/inlineToolbar":156,"./api/inlineToolbar.ts":156,"./api/listeners":157,"./api/listeners.ts":157,"./api/notifier":158,"./api/notifier.ts":158,"./api/readonly":159,"./api/readonly.ts":159,"./api/sanitizer":160,"./api/sanitizer.ts":160,"./api/saver":161,"./api/saver.ts":161,"./api/selection":162,"./api/selection.ts":162,"./api/styles":163,"./api/styles.ts":163,"./api/toolbar":164,"./api/toolbar.ts":164,"./api/tooltip":165,"./api/tooltip.ts":165,"./blockEvents":166,"./blockEvents.ts":166,"./blockManager":167,"./blockManager.ts":167,"./blockSelection":169,"./blockSelection.ts":169,"./caret":170,"./caret.ts":170,"./crossBlockSelection":171,"./crossBlockSelection.ts":171,"./dragNDrop":172,"./dragNDrop.ts":172,"./modificationsObserver":173,"./modificationsObserver.ts":173,"./paste":174,"./paste.ts":174,"./readonly":175,"./readonly.ts":175,"./rectangleSelection":176,"./rectangleSelection.ts":176,"./renderer":177,"./renderer.ts":177,"./saver":178,"./saver.ts":178,"./toolbar":83,"./toolbar/":83,"./toolbar/blockSettings":179,"./toolbar/blockSettings.ts":179,"./toolbar/conversion":180,"./toolbar/conversion.ts":180,"./toolbar/index":83,"./toolbar/index.ts":83,"./toolbar/inline":181,"./toolbar/inline.ts":181,"./toolbar/toolbox":182,"./toolbar/toolbox.ts":182,"./tools":183,"./tools.ts":183,"./ui":185,"./ui.ts":185};function s(a){var u=l(a);return e(u)}function l(a){if(!e.o(o,a)){var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}return o[a]}s.keys=function(){return Object.keys(o)},s.resolve=l,n.exports=s,s.id=374},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(7)],(l=typeof(o=function(a,u,d,f){var c=e(8),h=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=h(u),d=h(d),f=c(f);var v=function(){function m(){(0,u.default)(this,m),this.allListeners=[]}return(0,d.default)(m,[{key:"on",value:function(y,p,g){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3],b=f.generateId("l"),k={id:b,element:y,eventType:p,handler:g,options:_},w=this.findOne(y,p,g);if(!w)return this.allListeners.push(k),y.addEventListener(p,g,_),b}},{key:"off",value:function(y,p,g,_){var b=this,k=this.findAll(y,p,g);k.forEach(function(w,S){var O=b.allListeners.indexOf(k[S]);O>-1&&(b.allListeners.splice(O,1),w.element.removeEventListener(w.eventType,w.handler,w.options))})}},{key:"offById",value:function(y){var p=this.findById(y);p&&p.element.removeEventListener(p.eventType,p.handler,p.options)}},{key:"findOne",value:function(y,p,g){var _=this.findAll(y,p,g);return _.length>0?_[0]:null}},{key:"findAll",value:function(y,p,g){var _=y?this.findByEventTarget(y):[];return y&&p&&g?_.filter(function(b){return b.eventType===p&&b.handler===g}):y&&p?_.filter(function(b){return b.eventType===p}):_}},{key:"removeAll",value:function(){this.allListeners.map(function(y){y.element.removeEventListener(y.eventType,y.handler,y.options)}),this.allListeners=[]}},{key:"destroy",value:function(){this.removeAll()}},{key:"findByEventTarget",value:function(y){return this.allListeners.filter(function(p){if(p.element===y)return p})}},{key:"findByType",value:function(y){return this.allListeners.filter(function(p){if(p.eventType===y)return p})}},{key:"findByHandler",value:function(y){return this.allListeners.filter(function(p){if(p.handler===y)return p})}},{key:"findById",value:function(y){return this.allListeners.find(function(p){return p.id===y})}}]),m}();a.default=v,v.displayName="Listeners",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(377)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(){(0,u.default)(this,v)}return(0,d.default)(v,[{key:"show",value:function(m){f.default.show(m)}}]),v}();a.default=h,h.displayName="Notifier",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var u=s[a]={i:a,l:!1,exports:{}};return o[a].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=o,l.c=s,l.d=function(a,u,d){l.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:d})},l.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,u){if(1&u&&(a=l(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)l.d(d,f,function(c){return a[c]}.bind(null,f));return d},l.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(u,"a",u),u},l.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},l.p="/",l(l.s=0)}([function(o,s,l){l(1),o.exports=function(){var a=l(6),u=null;return{show:function(d){if(d.message){(function(){if(u)return!0;u=a.getWrapper(),document.body.appendChild(u)})();var f=null,c=d.time||8e3;switch(d.type){case"confirm":f=a.confirm(d);break;case"prompt":f=a.prompt(d);break;default:f=a.alert(d),window.setTimeout(function(){f.remove()},c)}u.appendChild(f),f.classList.add("cdx-notify--bounce-in")}}}}()},function(o,s,l){var a=l(2);typeof a=="string"&&(a=[[o.i,a,""]]),l(4)(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(o.exports=a.locals)},function(o,s,l){(o.exports=l(3)(!1)).push([o.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(o,s){o.exports=function(l){var a=[];return a.toString=function(){return this.map(function(u){var d=function(f,c){var h,v=f[1]||"",m=f[3];if(!m)return v;if(c&&typeof btoa=="function"){var y=(h=m,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),p=m.sources.map(function(g){return"/*# sourceURL="+m.sourceRoot+g+" */"});return[v].concat(p).concat([y]).join(`
`)}return[v].join(`
`)}(u,l);return u[2]?"@media "+u[2]+"{"+d+"}":d}).join("")},a.i=function(u,d){typeof u=="string"&&(u=[[null,u,""]]);for(var f={},c=0;c<this.length;c++){var h=this[c][0];typeof h=="number"&&(f[h]=!0)}for(c=0;c<u.length;c++){var v=u[c];typeof v[0]=="number"&&f[v[0]]||(d&&!v[2]?v[2]=d:d&&(v[2]="("+v[2]+") and ("+d+")"),a.push(v))}},a}},function(o,s,l){var a,u,d={},f=(a=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=a.apply(this,arguments)),u}),c=function(x){var E={};return function(C){if(typeof C=="function")return C();if(E[C]===void 0){var N=function(R){return document.querySelector(R)}.call(this,C);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}E[C]=N}return E[C]}}(),h=null,v=0,m=[],y=l(5);function p(x,E){for(var C=0;C<x.length;C++){var N=x[C],R=d[N.id];if(R){R.refs++;for(var I=0;I<R.parts.length;I++)R.parts[I](N.parts[I]);for(;I<N.parts.length;I++)R.parts.push(S(N.parts[I],E))}else{var L=[];for(I=0;I<N.parts.length;I++)L.push(S(N.parts[I],E));d[N.id]={id:N.id,refs:1,parts:L}}}}function g(x,E){for(var C=[],N={},R=0;R<x.length;R++){var I=x[R],L=E.base?I[0]+E.base:I[0],P={css:I[1],media:I[2],sourceMap:I[3]};N[L]?N[L].parts.push(P):C.push(N[L]={id:L,parts:[P]})}return C}function _(x,E){var C=c(x.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var N=m[m.length-1];if(x.insertAt==="top")N?N.nextSibling?C.insertBefore(E,N.nextSibling):C.appendChild(E):C.insertBefore(E,C.firstChild),m.push(E);else if(x.insertAt==="bottom")C.appendChild(E);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=c(x.insertInto+" "+x.insertAt.before);C.insertBefore(E,R)}}function b(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var E=m.indexOf(x);E>=0&&m.splice(E,1)}function k(x){var E=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),w(E,x.attrs),_(x,E),E}function w(x,E){Object.keys(E).forEach(function(C){x.setAttribute(C,E[C])})}function S(x,E){var C,N,R,I;if(E.transform&&x.css){if(!(I=E.transform(x.css)))return function(){};x.css=I}if(E.singleton){var L=v++;C=h||(h=k(E)),N=T.bind(null,C,L,!1),R=T.bind(null,C,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(P){var D=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",w(D,P.attrs),_(P,D),D}(E),N=function(P,D,U){var M=U.css,B=U.sourceMap,q=D.convertToAbsoluteUrls===void 0&&B;(D.convertToAbsoluteUrls||q)&&(M=y(M)),B&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var z=new Blob([M],{type:"text/css"}),j=P.href;P.href=URL.createObjectURL(z),j&&URL.revokeObjectURL(j)}.bind(null,C,E),R=function(){b(C),C.href&&URL.revokeObjectURL(C.href)}):(C=k(E),N=function(P,D){var U=D.css,M=D.media;if(M&&P.setAttribute("media",M),P.styleSheet)P.styleSheet.cssText=U;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(U))}}.bind(null,C),R=function(){b(C)});return N(x),function(P){if(P){if(P.css===x.css&&P.media===x.media&&P.sourceMap===x.sourceMap)return;N(x=P)}else R()}}o.exports=function(x,E){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(E=E||{}).attrs=typeof E.attrs=="object"?E.attrs:{},E.singleton||typeof E.singleton=="boolean"||(E.singleton=f()),E.insertInto||(E.insertInto="head"),E.insertAt||(E.insertAt="bottom");var C=g(x,E);return p(C,E),function(N){for(var R=[],I=0;I<C.length;I++){var L=C[I];(P=d[L.id]).refs--,R.push(P)}for(N&&p(g(N,E),E),I=0;I<R.length;I++){var P;if((P=R[I]).refs===0){for(var D=0;D<P.parts.length;D++)P.parts[D]();delete d[P.id]}}}};var O,A=(O=[],function(x,E){return O[x]=E,O.filter(Boolean).join(`
`)});function T(x,E,C,N){var R=C?"":N.css;if(x.styleSheet)x.styleSheet.cssText=A(E,R);else{var I=document.createTextNode(R),L=x.childNodes;L[E]&&x.removeChild(L[E]),L.length?x.insertBefore(I,L[E]):x.appendChild(I)}}},function(o,s){o.exports=function(l){var a=typeof window!="undefined"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var u=a.protocol+"//"+a.host,d=u+a.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(f,c){var h,v=c.trim().replace(/^"(.*)"$/,function(m,y){return y}).replace(/^'(.*)'$/,function(m,y){return y});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(v)?f:(h=v.indexOf("//")===0?v:v.indexOf("/")===0?u+v:d+v.replace(/^\.\//,""),"url("+JSON.stringify(h)+")")})}},function(o,s,l){var a,u,d,f,c,h;o.exports=(a="cdx-notify",u="cdx-notify__cross",d="cdx-notify__button--confirm",f="cdx-notify__button",c="cdx-notify__btns-wrapper",{alert:h=function(v){var m=document.createElement("DIV"),y=document.createElement("DIV"),p=v.message,g=v.style;return m.classList.add(a),g&&m.classList.add(a+"--"+g),m.innerHTML=p,y.classList.add(u),y.addEventListener("click",m.remove.bind(m)),m.appendChild(y),m},confirm:function(v){var m=h(v),y=document.createElement("div"),p=document.createElement("button"),g=document.createElement("button"),_=m.querySelector("."+u),b=v.cancelHandler,k=v.okHandler;return y.classList.add(c),p.innerHTML=v.okText||"Confirm",g.innerHTML=v.cancelText||"Cancel",p.classList.add(f),g.classList.add(f),p.classList.add(d),g.classList.add("cdx-notify__button--cancel"),b&&typeof b=="function"&&(g.addEventListener("click",b),_.addEventListener("click",b)),k&&typeof k=="function"&&p.addEventListener("click",k),p.addEventListener("click",m.remove.bind(m)),g.addEventListener("click",m.remove.bind(m)),y.appendChild(p),y.appendChild(g),m.appendChild(y),m},prompt:function(v){var m=h(v),y=document.createElement("div"),p=document.createElement("button"),g=document.createElement("input"),_=m.querySelector("."+u),b=v.cancelHandler,k=v.okHandler;return y.classList.add(c),p.innerHTML=v.okText||"Ok",p.classList.add(f),p.classList.add(d),g.classList.add("cdx-notify__input"),v.placeholder&&g.setAttribute("placeholder",v.placeholder),v.default&&(g.value=v.default),v.inputType&&(g.type=v.inputType),b&&typeof b=="function"&&_.addEventListener("click",b),k&&typeof k=="function"&&p.addEventListener("click",function(){k(g.value)}),p.addEventListener("click",m.remove.bind(m)),y.appendChild(g),y.appendChild(p),m.appendChild(y),m},getWrapper:function(){var v=document.createElement("DIV");return v.classList.add("cdx-notifies"),v}})}])},function(n,i,e){var o,s;(s=typeof(o=function(){function l(m){var y=m.tags;if(!Object.keys(y).map(function(p){return typeof y[p]}).every(function(p){return p==="object"||p==="boolean"||p==="function"}))throw new Error("The configuration was invalid");this.config=m}var a=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function u(m){return a.indexOf(m.nodeName)!==-1}var d=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function f(m){return d.indexOf(m.nodeName)!==-1}function c(m,y,p){return typeof m.tags[y]=="function"?m.tags[y](p):m.tags[y]}function h(m,y){return y===void 0||typeof y=="boolean"&&!y}function v(m,y,p){var g=m.name.toLowerCase();return y!==!0&&(typeof y[g]=="function"?!y[g](m.value,p):y[g]===void 0||y[g]===!1||typeof y[g]=="string"&&y[g]!==m.value)}return l.prototype.clean=function(m){const y=document.implementation.createHTMLDocument(),p=y.createElement("div");return p.innerHTML=m,this._sanitize(y,p),p.innerHTML},l.prototype._sanitize=function(m,y){var p=function(x,E){return x.createTreeWalker(E,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(m,y),g=p.firstChild();if(g)do if(g.nodeType!==Node.TEXT_NODE){if(g.nodeType===Node.COMMENT_NODE){y.removeChild(g),this._sanitize(m,y);break}var _,b=f(g);b&&(_=Array.prototype.some.call(g.childNodes,u));var k=!!y.parentNode,w=u(y)&&u(g)&&k,S=g.nodeName.toLowerCase(),O=c(this.config,S,g);if(b&&_||h(0,O)||!this.config.keepNestedBlockElements&&w){if(g.nodeName!=="SCRIPT"&&g.nodeName!=="STYLE")for(;g.childNodes.length>0;)y.insertBefore(g.childNodes[0],g);y.removeChild(g),this._sanitize(m,y);break}for(var A=0;A<g.attributes.length;A+=1){var T=g.attributes[A];v(T,O,g)&&(g.removeAttribute(T.name),A-=1)}this._sanitize(m,g)}else if(g.data.trim()===""&&(g.previousElementSibling&&u(g.previousElementSibling)||g.nextElementSibling&&u(g.nextElementSibling))){y.removeChild(g),this._sanitize(m,y);break}while(g=p.nextSibling())},l})=="function"?o.call(i,e,i,n):o)===void 0||(n.exports=s)},function(n,i,e){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var u=s[a]={i:a,l:!1,exports:{}};return o[a].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=o,l.c=s,l.d=function(a,u,d){l.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:d})},l.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,u){if(1&u&&(a=l(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)l.d(d,f,function(c){return a[c]}.bind(null,f));return d},l.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(u,"a",u),u},l.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},l.p="",l(l.s=0)}([function(o,s,l){o.exports=l(1)},function(o,s,l){l.r(s),l.d(s,"default",function(){return a});class a{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(d,f,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const h=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(h.hidingDelay&&(this.hidingDelay=h.hidingDelay),this.nodes.content.innerHTML="",typeof f=="string")this.nodes.content.appendChild(document.createTextNode(f));else{if(!(f instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof f+" given.");this.nodes.content.appendChild(f)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),h.placement){case"top":this.placeTop(d,h);break;case"left":this.placeLeft(d,h);break;case"right":this.placeRight(d,h);break;case"bottom":default:this.placeBottom(d,h)}h&&h.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},h.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(d=!1){if(this.hidingDelay&&!d)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(d,f,c){d.addEventListener("mouseenter",()=>{this.show(d,f,c)}),d.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const d="codex-tooltips-style";if(document.getElementById(d))return;const f=l(2),c=this.make("style",null,{textContent:f.toString(),id:d});this.prepend(document.head,c)}placeBottom(d,f){const c=d.getBoundingClientRect(),h=c.left+d.clientWidth/2-this.nodes.wrapper.offsetWidth/2,v=c.bottom+window.pageYOffset+this.offsetTop+f.marginTop;this.applyPlacement("bottom",h,v)}placeTop(d,f){const c=d.getBoundingClientRect(),h=c.left+d.clientWidth/2-this.nodes.wrapper.offsetWidth/2,v=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",h,v)}placeLeft(d,f){const c=d.getBoundingClientRect(),h=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-f.marginLeft,v=c.top+window.pageYOffset+d.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",h,v)}placeRight(d,f){const c=d.getBoundingClientRect(),h=c.right+this.offsetRight+f.marginRight,v=c.top+window.pageYOffset+d.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",h,v)}applyPlacement(d,f,c){this.nodes.wrapper.classList.add(this.CSS.placement[d]),this.nodes.wrapper.style.left=f+"px",this.nodes.wrapper.style.top=c+"px"}make(d,f=null,c={}){const h=document.createElement(d);Array.isArray(f)?h.classList.add(...f):f&&h.classList.add(f);for(const v in c)c.hasOwnProperty(v)&&(h[v]=c[v]);return h}append(d,f){Array.isArray(f)?f.forEach(c=>d.appendChild(c)):d.appendChild(f)}prepend(d,f){Array.isArray(f)?(f=f.reverse()).forEach(c=>d.prepend(c)):d.prepend(f)}}},function(o,s){o.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15),e(7),e(25)],(l=typeof(o=function(a,u,d,f,c,h){var v=e(8),m=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=v(c),h=m(h);var y=function(){function p(g,_){(0,u.default)(this,p),this.cursor=-1,this.items=[],this.items=g||[],this.focusedCssClass=_}return(0,d.default)(p,[{key:"setItems",value:function(g){this.items=g}},{key:"next",value:function(){this.cursor=this.leafNodesAndReturnIndex(p.directions.RIGHT)}},{key:"previous",value:function(){this.cursor=this.leafNodesAndReturnIndex(p.directions.LEFT)}},{key:"dropCursor",value:function(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}},{key:"leafNodesAndReturnIndex",value:function(g){var _=this;if(this.items.length===0)return this.cursor;var b=this.cursor;return b===-1?b=g===p.directions.RIGHT?-1:0:this.items[b].classList.remove(this.focusedCssClass),b=g===p.directions.RIGHT?(b+1)%this.items.length:(this.items.length+b-1)%this.items.length,f.default.canSetCaret(this.items[b])&&c.delay(function(){return h.default.setCursor(_.items[b])},50)(),this.items[b].classList.add(this.focusedCssClass),b}},{key:"currentItem",get:function(){return this.cursor===-1?null:this.items[this.cursor]}}]),p}();a.default=y,y.displayName="DomIterator",y.directions={RIGHT:"right",LEFT:"left"},n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o=e(4);n.exports=function(s,l){for(;!Object.prototype.hasOwnProperty.call(s,l)&&(s=o(s))!==null;);return s}},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(7),e(15),e(66)],(l=typeof(o=function(a,u,d,f,c,h){var v=e(8),m=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=v(f),c=m(c);var y=function(){function p(g){(0,u.default)(this,p),this.blocks=[],this.workingArea=g}return(0,d.default)(p,[{key:"push",value:function(g){this.blocks.push(g),this.insertToDOM(g)}},{key:"swap",value:function(g,_){var b=this.blocks[_];c.default.swap(this.blocks[g].holder,b.holder),this.blocks[_]=this.blocks[g],this.blocks[g]=b}},{key:"move",value:function(g,_){var b=this.blocks.splice(_,1)[0],k=g-1,w=Math.max(0,k),S=this.blocks[w];g>0?this.insertToDOM(b,"afterend",S):this.insertToDOM(b,"beforebegin",S),this.blocks.splice(g,0,b);var O=this.composeBlockEvent("move",{fromIndex:_,toIndex:g});b.call(h.BlockToolAPI.MOVED,O)}},{key:"insert",value:function(g,_){var b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this.length){g>this.length&&(g=this.length),b&&(this.blocks[g].holder.remove(),this.blocks[g].call(h.BlockToolAPI.REMOVED));var k=b?1:0;if(this.blocks.splice(g,k,_),g>0){var w=this.blocks[g-1];this.insertToDOM(_,"afterend",w)}else{var S=this.blocks[g+1];S?this.insertToDOM(_,"beforebegin",S):this.insertToDOM(_)}}else this.push(_)}},{key:"remove",value:function(g){isNaN(g)&&(g=this.length-1),this.blocks[g].holder.remove(),this.blocks[g].call(h.BlockToolAPI.REMOVED),this.blocks.splice(g,1)}},{key:"removeAll",value:function(){this.workingArea.innerHTML="",this.blocks.forEach(function(g){return g.call(h.BlockToolAPI.REMOVED)}),this.blocks.length=0}},{key:"insertAfter",value:function(g,_){var b=this.blocks.indexOf(g);this.insert(b+1,_)}},{key:"get",value:function(g){return this.blocks[g]}},{key:"indexOf",value:function(g){return this.blocks.indexOf(g)}},{key:"insertToDOM",value:function(g,_,b){_?b.holder.insertAdjacentElement(_,g.holder):this.workingArea.appendChild(g.holder),g.call(h.BlockToolAPI.RENDERED)}},{key:"composeBlockEvent",value:function(g,_){return new CustomEvent(g,{detail:_})}},{key:"length",get:function(){return this.blocks.length}},{key:"array",get:function(){return this.blocks}},{key:"nodes",get:function(){return f.array(this.workingArea.children)}}],[{key:"set",value:function(g,_,b){return isNaN(Number(_))?(Reflect.set(g,_,b),!0):(g.insert(+_,b),!0)}},{key:"get",value:function(g,_){return isNaN(Number(_))?Reflect.get(g,_):g.get(+_)}}]),p}();a.default=y,y.displayName="Blocks",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var u=s[a]={i:a,l:!1,exports:{}};return o[a].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=o,l.c=s,l.d=function(a,u,d){l.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:d})},l.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,u){if(1&u&&(a=l(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)l.d(d,f,function(c){return a[c]}.bind(null,f));return d},l.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(u,"a",u),u},l.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},l.p="",l(l.s=0)}([function(o,s,l){function a(f,c){for(var h=0;h<c.length;h++){var v=c[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}function u(f,c,h){return c&&a(f.prototype,c),h&&a(f,h),f}l.r(s);var d=function(){function f(c){var h=this;(function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(v){h.execute(v)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return u(f,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46}}}]),u(f,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var h=0;h<c.length;h++){c[h]=c[h].toUpperCase();var v=!1;for(var m in f.supportedCommands)if(f.supportedCommands[m].includes(c[h])){v=this.commands[m]=!0;break}v||(this.keys[c[h]]=!0)}for(var y in f.supportedCommands)this.commands[y]||(this.commands[y]=!1)}},{key:"execute",value:function(c){var h,v={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},m=!0;for(h in this.commands)this.commands[h]!==v[h]&&(m=!1);var y,p=!0;for(y in this.keys)p=p&&c.keyCode===f.keyCodes[y];m&&p&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),f}();s.default=d}]).default},function(n,i,e){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var u=s[a]={i:a,l:!1,exports:{}};return o[a].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=o,l.c=s,l.d=function(a,u,d){l.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:d})},l.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,u){if(1&u&&(a=l(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)l.d(d,f,function(c){return a[c]}.bind(null,f));return d},l.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(u,"a",u),u},l.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},l.p="/",l(l.s=0)}([function(o,s,l){function a(f,c){for(var h=0;h<c.length;h++){var v=c[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(f,v.key,v)}}function u(f,c,h){return c&&a(f.prototype,c),h&&a(f,h),f}l(1).toString();var d=function(){function f(c){var h=c.data,v=c.config,m=c.api,y=c.readOnly;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f),this.api=m,this.readOnly=y,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=v.placeholder?v.placeholder:f.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=v.preserveBlank!==void 0&&v.preserveBlank,this.data=h}return u(f,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),u(f,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var h={text:this.data.text+c.text};this.data=h}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var h={text:c.detail.data.innerHTML};this.data=h}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:l(5).default,title:"Text"}}}]),f}();o.exports=d},function(o,s,l){var a=l(2),u=l(3);typeof(u=u.__esModule?u.default:u)=="string"&&(u=[[o.i,u,""]]),a(u,{insert:"head",singleton:!1}),o.exports=u.locals||{}},function(o,s,l){var a,u=function(){var k={};return function(w){if(k[w]===void 0){var S=document.querySelector(w);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}k[w]=S}return k[w]}}(),d=[];function f(k){for(var w=-1,S=0;S<d.length;S++)if(d[S].identifier===k){w=S;break}return w}function c(k,w){for(var S={},O=[],A=0;A<k.length;A++){var T=k[A],x=w.base?T[0]+w.base:T[0],E=S[x]||0,C="".concat(x," ").concat(E);S[x]=E+1;var N=f(C),R={css:T[1],media:T[2],sourceMap:T[3]};N!==-1?(d[N].references++,d[N].updater(R)):d.push({identifier:C,updater:b(R,w),references:1}),O.push(C)}return O}function h(k){var w=document.createElement("style"),S=k.attributes||{};if(S.nonce===void 0){var O=l.nc;O&&(S.nonce=O)}if(Object.keys(S).forEach(function(T){w.setAttribute(T,S[T])}),typeof k.insert=="function")k.insert(w);else{var A=u(k.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(w)}return w}var v,m=(v=[],function(k,w){return v[k]=w,v.filter(Boolean).join(`
`)});function y(k,w,S,O){var A=S?"":O.media?"@media ".concat(O.media," {").concat(O.css,"}"):O.css;if(k.styleSheet)k.styleSheet.cssText=m(w,A);else{var T=document.createTextNode(A),x=k.childNodes;x[w]&&k.removeChild(x[w]),x.length?k.insertBefore(T,x[w]):k.appendChild(T)}}function p(k,w,S){var O=S.css,A=S.media,T=S.sourceMap;if(A?k.setAttribute("media",A):k.removeAttribute("media"),T&&btoa&&(O+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),k.styleSheet)k.styleSheet.cssText=O;else{for(;k.firstChild;)k.removeChild(k.firstChild);k.appendChild(document.createTextNode(O))}}var g=null,_=0;function b(k,w){var S,O,A;if(w.singleton){var T=_++;S=g||(g=h(w)),O=y.bind(null,S,T,!1),A=y.bind(null,S,T,!0)}else S=h(w),O=p.bind(null,S,w),A=function(){(function(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x)})(S)};return O(k),function(x){if(x){if(x.css===k.css&&x.media===k.media&&x.sourceMap===k.sourceMap)return;O(k=x)}else A()}}o.exports=function(k,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=(a===void 0&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var S=c(k=k||[],w);return function(O){if(O=O||[],Object.prototype.toString.call(O)==="[object Array]"){for(var A=0;A<S.length;A++){var T=f(S[A]);d[T].references--}for(var x=c(O,w),E=0;E<S.length;E++){var C=f(S[E]);d[C].references===0&&(d[C].updater(),d.splice(C,1))}S=x}}}},function(o,s,l){(s=l(4)(!1)).push([o.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),o.exports=s},function(o,s,l){o.exports=function(a){var u=[];return u.toString=function(){return this.map(function(d){var f=function(c,h){var v,m,y,p=c[1]||"",g=c[3];if(!g)return p;if(h&&typeof btoa=="function"){var _=(v=g,m=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(y," */")),b=g.sources.map(function(k){return"/*# sourceURL=".concat(g.sourceRoot||"").concat(k," */")});return[p].concat(b).concat([_]).join(`
`)}return[p].join(`
`)}(d,a);return d[2]?"@media ".concat(d[2]," {").concat(f,"}"):f}).join("")},u.i=function(d,f,c){typeof d=="string"&&(d=[[null,d,""]]);var h={};if(c)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(h[m]=!0)}for(var y=0;y<d.length;y++){var p=[].concat(d[y]);c&&h[p[0]]||(f&&(p[2]?p[2]="".concat(f," and ").concat(p[2]):p[2]=f),u.push(p))}},u}},function(o,s,l){l.r(s),s.default=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0.2 -0.3 9 11.4" width="12" height="14">
  <path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/>
</svg>
`}])},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(){(0,u.default)(this,v),this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}return(0,d.default)(v,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(f.default.svg("bold",12,14)),this.nodes.button}},{key:"surround",value:function(m){document.execCommand(this.commandName)}},{key:"checkState",value:function(m){var y=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,y),y}},{key:"shortcut",get:function(){return"CMD+B"}}],[{key:"sanitize",get:function(){return{b:{}}}}]),v}();a.default=h,h.displayName="BoldInlineTool",h.isInline=!0,h.title="Bold",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(){(0,u.default)(this,v),this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}return(0,d.default)(v,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(f.default.svg("italic",4,11)),this.nodes.button}},{key:"surround",value:function(m){document.execCommand(this.commandName)}},{key:"checkState",value:function(m){var y=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,y),y}},{key:"shortcut",get:function(){return"CMD+I"}}],[{key:"sanitize",get:function(){return{i:{}}}}]),v}();a.default=h,h.displayName="ItalicInlineTool",h.isInline=!0,h.title="Italic",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(25),e(15),e(7)],(l=typeof(o=function(a,u,d,f,c,h){var v=e(8),m=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),f=m(f),c=m(c),h=v(h);var y=function(){function p(g){var _=g.api;(0,u.default)(this,p),this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=_.toolbar,this.inlineToolbar=_.inlineToolbar,this.notifier=_.notifier,this.i18n=_.i18n,this.selection=new f.default}return(0,d.default)(p,[{key:"render",value:function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.appendChild(c.default.svg("link",14,10)),this.nodes.button.appendChild(c.default.svg("unlink",15,11)),this.nodes.button}},{key:"renderActions",value:function(){var g=this;return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",function(_){_.keyCode===g.ENTER_KEY&&g.enterPressed(_)}),this.nodes.input}},{key:"surround",value:function(g){if(g){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var _=this.selection.findParentTag("A");if(_)return this.selection.expandToTag(_),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}},{key:"checkState",value:function(g){var _=this.selection.findParentTag("A");if(_){this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var b=_.getAttribute("href");this.nodes.input.value=b!=="null"?b:"",this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!_}},{key:"clear",value:function(){this.closeActions()}},{key:"toggleActions",value:function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}},{key:"openActions",value:function(){var g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),g&&this.nodes.input.focus(),this.inputOpened=!0}},{key:"closeActions",value:function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.selection.isFakeBackgroundEnabled){var _=new f.default;_.save(),this.selection.restore(),this.selection.removeFakeBackground(),_.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",g&&this.selection.clearSaved(),this.inputOpened=!1}},{key:"enterPressed",value:function(g){var _=this.nodes.input.value||"";return _.trim()?this.validateURL(_)?(_=this.prepareLink(_),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(_),g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void h.log("Incorrect Link pasted","warn",_)):(this.selection.restore(),this.unlink(),g.preventDefault(),void this.closeActions())}},{key:"validateURL",value:function(g){return!/\s/.test(g)}},{key:"prepareLink",value:function(g){return g=g.trim(),g=this.addProtocol(g)}},{key:"addProtocol",value:function(g){if(/^(\w+):(\/\/)?/.test(g))return g;var _=/^\/[^/\s]/.test(g),b=g.substring(0,1)==="#",k=/^\/\/[^/\s]/.test(g);return _||b||k||(g="http://"+g),g}},{key:"insertLink",value:function(g){var _=this.selection.findParentTag("A");_&&this.selection.expandToTag(_),document.execCommand(this.commandLink,!1,g)}},{key:"unlink",value:function(){document.execCommand(this.commandUnlink)}},{key:"shortcut",get:function(){return"CMD+K"}}],[{key:"sanitize",get:function(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}}]),p}();a.default=y,y.displayName="LinkInlineTool",y.isInline=!0,y.title="Link",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(m){var y=m.data,p=m.api;(0,u.default)(this,v),this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=p,this.title=y.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=y.savedData,this.wrapper=this.make()}return(0,d.default)(v,[{key:"render",value:function(){return this.wrapper}},{key:"save",value:function(){return this.savedData}},{key:"make",value:function(){var m=f.default.make("div",this.CSS.wrapper),y=f.default.svg("sad-face",52,52),p=f.default.make("div",this.CSS.info),g=f.default.make("div",this.CSS.title,{textContent:this.title}),_=f.default.make("div",this.CSS.subtitle,{textContent:this.subtitle});return m.appendChild(y),p.appendChild(g),p.appendChild(_),m.appendChild(p),m}}]),v}();a.default=h,h.displayName="Stub",h.isReadOnlySupported=!0,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(67),e(390),e(391),e(392)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=m(u),d=m(d),c=m(c),h=m(h),v=m(v);var y=function(g,_){var b={};for(var k in g)Object.prototype.hasOwnProperty.call(g,k)&&_.indexOf(k)<0&&(b[k]=g[k]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function"){var w=0;for(k=Object.getOwnPropertySymbols(g);w<k.length;w++)_.indexOf(k[w])<0&&Object.prototype.propertyIsEnumerable.call(g,k[w])&&(b[k[w]]=g[k[w]])}return b},p=function(){function g(_,b,k){(0,u.default)(this,g),this.api=k,this.config=_,this.editorConfig=b}return(0,d.default)(g,[{key:"get",value:function(_){var b=this.config[_],k=b.class,w=b.isInternal,S=w!==void 0&&w,O=y(b,["class","isInternal"]);return new(this.getConstructor(k))({name:_,constructable:k,config:O,api:this.api,isDefault:_===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:S})}},{key:"getConstructor",value:function(_){switch(!0){case _[f.InternalInlineToolSettings.IsInline]:return c.default;case _[f.InternalTuneSettings.IsTune]:return h.default;default:return v.default}}}]),g}();a.default=p,p.displayName="ToolsFactory",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(67)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(8),y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(){var S;return(0,u.default)(this,w),(S=k.apply(this,arguments)).type=v.ToolType.Inline,S}return(0,d.default)(w,[{key:"create",value:function(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"title",get:function(){return this.constructable[v.InternalInlineToolSettings.Title]}}]),w}((v=m(v)).default);a.default=g,g.displayName="InlineTool",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(5),e(6),e(4),e(67)],(l=typeof(o=function(a,u,d,f,c,h,v){var m=e(8),y=e(1);function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=y(u),d=y(d),f=y(f),c=y(c),h=y(h);var g=function(_){(0,f.default)(w,_);var b,k=(b=w,function(){var S,O=(0,h.default)(b);if(p()){var A=(0,h.default)(this).constructor;S=Reflect.construct(O,arguments,A)}else S=O.apply(this,arguments);return(0,c.default)(this,S)});function w(){var S;return(0,u.default)(this,w),(S=k.apply(this,arguments)).type=v.ToolType.Tune,S}return(0,d.default)(w,[{key:"create",value:function(S,O){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:O,data:S})}}]),w}((v=m(v)).default);a.default=g,g.displayName="BlockTune",n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(168),e(5),e(6),e(4),e(80),e(67),e(7),e(184)],(l=typeof(o=function(a,u,d,f,c,h,v,m,y,p,g){var _=e(8),b=e(1);function k(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=b(u),d=b(d),f=b(f),c=b(c),h=b(h),v=b(v),m=b(m),y=_(y),p=_(p),g=b(g);var w=function(O,A,T,x){var E,C=arguments.length,N=C<3?A:x===null?x=Object.getOwnPropertyDescriptor(A,T):x;if((typeof Reflect=="undefined"?"undefined":(0,m.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(O,A,T,x);else for(var R=O.length-1;R>=0;R--)(E=O[R])&&(N=(C<3?E(N):C>3?E(A,T,N):E(A,T))||N);return C>3&&N&&Object.defineProperty(A,T,N),N},S=function(O){(0,c.default)(x,O);var A,T=(A=x,function(){var E,C=(0,v.default)(A);if(k()){var N=(0,v.default)(this).constructor;E=Reflect.construct(C,arguments,N)}else E=C.apply(this,arguments);return(0,h.default)(this,E)});function x(){var E;return(0,u.default)(this,x),(E=T.apply(this,arguments)).type=y.ToolType.Block,E.inlineTools=new g.default,E.tunes=new g.default,E}return(0,d.default)(x,[{key:"create",value:function(E,C,N){return new this.constructable({data:E,block:C,readOnly:N,api:this.api.getMethodsForTool(this),config:this.settings})}},{key:"isReadOnlySupported",get:function(){return this.constructable[y.InternalBlockToolSettings.IsReadOnlySupported]===!0}},{key:"isLineBreaksEnabled",get:function(){return this.constructable[y.InternalBlockToolSettings.IsEnabledLineBreaks]}},{key:"toolbox",get:function(){var E=this.constructable[y.InternalBlockToolSettings.Toolbox],C=this.config[y.UserSettings.Toolbox];if(!p.isEmpty(E)&&(C!=null?C:E)!==!1)return Object.assign({},E,C)}},{key:"conversionConfig",get:function(){return this.constructable[y.InternalBlockToolSettings.ConversionConfig]}},{key:"enabledInlineTools",get:function(){return this.config[y.UserSettings.EnabledInlineTools]||!1}},{key:"enabledBlockTunes",get:function(){return this.config[y.UserSettings.EnabledBlockTunes]}},{key:"pasteConfig",get:function(){return this.constructable[y.InternalBlockToolSettings.PasteConfig]||{}}},{key:"sanitizeConfig",get:function(){var E=(0,f.default)((0,v.default)(x.prototype),"sanitizeConfig",this),C=this.baseSanitizeConfig;if(p.isEmpty(E))return C;var N={};for(var R in E)if(Object.prototype.hasOwnProperty.call(E,R)){var I=E[R];p.isObject(I)?N[R]=Object.assign({},C,I):N[R]=I}return N}},{key:"baseSanitizeConfig",get:function(){var E={};return Array.from(this.inlineTools.values()).forEach(function(C){return Object.assign(E,C.sanitizeConfig)}),Array.from(this.tunes.values()).forEach(function(C){return Object.assign(E,C.sanitizeConfig)}),E}}]),x}(y.default);a.default=S,S.displayName="BlockTool",w([p.cacheable],S.prototype,"sanitizeConfig",null),w([p.cacheable],S.prototype,"baseSanitizeConfig",null),n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(m){var y=m.api;(0,u.default)(this,v),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-down",animation:"wobble"},this.api=y}return(0,d.default)(v,[{key:"render",value:function(){var m=this,y=f.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return y.appendChild(f.default.svg("arrow-down",14,14)),this.api.listeners.on(y,"click",function(p){return m.handleClick(p,y)},!1),this.api.tooltip.onHover(y,this.api.i18n.t("Move down"),{hidingDelay:300}),y}},{key:"handleClick",value:function(m,y){var p=this,g=this.api.blocks.getCurrentBlockIndex(),_=this.api.blocks.getBlockByIndex(g+1);if(!_)return y.classList.add(this.CSS.animation),void window.setTimeout(function(){y.classList.remove(p.CSS.animation)},500);var b=_.holder,k=b.getBoundingClientRect(),w=Math.abs(window.innerHeight-b.offsetHeight);k.top<window.innerHeight&&(w=window.scrollY+b.offsetHeight),window.scrollTo(0,w),this.api.blocks.move(g+1),this.api.tooltip.hide()}}]),v}();a.default=h,h.displayName="MoveDownTune",h.isTune=!0,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(m){var y=this,p=m.api;(0,u.default)(this,v),this.CSS={button:"ce-settings__button",buttonDelete:"ce-settings__button--delete",buttonConfirm:"ce-settings__button--confirm"},this.nodes={button:null},this.api=p,this.resetConfirmation=function(){y.setConfirmation(!1)}}return(0,d.default)(v,[{key:"render",value:function(){var m=this;return this.nodes.button=f.default.make("div",[this.CSS.button,this.CSS.buttonDelete],{}),this.nodes.button.appendChild(f.default.svg("cross",12,12)),this.api.listeners.on(this.nodes.button,"click",function(y){return m.handleClick(y)},!1),this.api.tooltip.onHover(this.nodes.button,this.api.i18n.t("Delete"),{hidingDelay:300}),this.nodes.button}},{key:"handleClick",value:function(m){this.needConfirmation?(this.api.events.off("block-settings-closed",this.resetConfirmation),this.api.blocks.delete(),this.api.toolbar.close(),this.api.tooltip.hide(),m.stopPropagation()):(this.setConfirmation(!0),this.api.events.on("block-settings-closed",this.resetConfirmation))}},{key:"setConfirmation",value:function(m){this.needConfirmation=m,this.nodes.button.classList.add(this.CSS.buttonConfirm)}}]),v}();a.default=h,h.displayName="DeleteTune",h.isTune=!0,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){var o,s,l;s=[i,e(2),e(3),e(15)],(l=typeof(o=function(a,u,d,f){var c=e(1);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,u=c(u),d=c(d),f=c(f);var h=function(){function v(m){var y=m.api;(0,u.default)(this,v),this.CSS={button:"ce-settings__button",wrapper:"ce-tune-move-up",animation:"wobble"},this.api=y}return(0,d.default)(v,[{key:"render",value:function(){var m=this,y=f.default.make("div",[this.CSS.button,this.CSS.wrapper],{});return y.appendChild(f.default.svg("arrow-up",14,14)),this.api.listeners.on(y,"click",function(p){return m.handleClick(p,y)},!1),this.api.tooltip.onHover(y,this.api.i18n.t("Move up"),{hidingDelay:300}),y}},{key:"handleClick",value:function(m,y){var p=this,g=this.api.blocks.getCurrentBlockIndex(),_=this.api.blocks.getBlockByIndex(g),b=this.api.blocks.getBlockByIndex(g-1);if(g===0||!_||!b)return y.classList.add(this.CSS.animation),void window.setTimeout(function(){y.classList.remove(p.CSS.animation)},500);var k,w=_.holder,S=b.holder,O=w.getBoundingClientRect(),A=S.getBoundingClientRect();k=A.top>0?Math.abs(O.top)-Math.abs(A.top):window.innerHeight-Math.abs(O.top)+Math.abs(A.top),window.scrollBy(0,-1*k),this.api.blocks.move(g-1),this.api.tooltip.hide()}}]),v}();a.default=h,h.displayName="MoveUpTune",h.isTune=!0,n.exports=i.default})=="function"?o.apply(i,s):o)===void 0||(n.exports=l)},function(n,i,e){e.r(i),i.default=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg">
<symbol id="arrow-down" viewBox="0 0 14 14">
  <path transform="matrix(1 0 0 -1 0 14)" d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="arrow-up" viewBox="0 0 14 14">
    <path d="M8.024 4.1v8.6a1.125 1.125 0 0 1-2.25 0V4.1L2.18 7.695A1.125 1.125 0 1 1 .59 6.104L6.103.588c.44-.439 1.151-.439 1.59 0l5.516 5.516a1.125 1.125 0 0 1-1.59 1.59L8.023 4.1z"/>

</symbol>
<symbol id="bold" viewBox="0 0 12 14"><path d="M5.997 14H1.72c-.618 0-1.058-.138-1.323-.415C.132 13.308 0 12.867 0 12.262V1.738C0 1.121.135.676.406.406.676.136 1.114 0 1.719 0h4.536c.669 0 1.248.041 1.738.124.49.083.93.242 1.318.478a3.458 3.458 0 0 1 1.461 1.752c.134.366.2.753.2 1.16 0 1.401-.7 2.426-2.1 3.075 1.84.586 2.76 1.726 2.76 3.42 0 .782-.2 1.487-.602 2.114a3.61 3.61 0 0 1-1.623 1.39 5.772 5.772 0 0 1-1.471.377c-.554.073-1.2.11-1.939.11zm-.21-6.217h-2.95v4.087h3.046c1.916 0 2.874-.69 2.874-2.072 0-.707-.248-1.22-.745-1.537-.496-.319-1.238-.478-2.225-.478zM2.837 2.13v3.619h2.597c.707 0 1.252-.067 1.638-.2.385-.134.68-.389.883-.765.16-.267.239-.566.239-.897 0-.707-.252-1.176-.755-1.409-.503-.232-1.27-.348-2.301-.348H2.836z"/>
</symbol>
<symbol id="cross" viewBox="0 0 237 237">
  <path transform="rotate(45 280.675 51.325)" d="M191 191V73c0-5.523 4.477-10 10-10h25c5.523 0 10 4.477 10 10v118h118c5.523 0 10 4.477 10 10v25c0 5.523-4.477 10-10 10H236v118c0 5.523-4.477 10-10 10h-25c-5.523 0-10-4.477-10-10V236H73c-5.523 0-10-4.477-10-10v-25c0-5.523 4.477-10 10-10h118z"/>

</symbol>
<symbol id="dots" viewBox="0 0 8 8">
  <circle cx="6.5" cy="1.5" r="1.5"/>
  <circle cx="6.5" cy="6.5" r="1.5"/>
  <circle cx="1.5" cy="1.5" r="1.5"/>
  <circle cx="1.5" cy="6.5" r="1.5"/>

</symbol>
<symbol id="italic" viewBox="0 0 4 11">
    <path d="M3.289 4.17L2.164 9.713c-.078.384-.238.674-.48.87-.243.198-.52.296-.831.296-.312 0-.545-.1-.699-.302-.153-.202-.192-.49-.116-.864L1.15 4.225c.077-.38.232-.665.466-.857a1.25 1.25 0 01.818-.288c.312 0 .55.096.713.288.163.192.21.46.141.801zm-.667-2.09c-.295 0-.53-.09-.706-.273-.176-.181-.233-.439-.173-.77.055-.302.207-.55.457-.745C2.45.097 2.716 0 3 0c.273 0 .5.088.68.265.179.176.238.434.177.771-.06.327-.21.583-.45.767-.24.185-.502.277-.785.277z"/>

</symbol>
<symbol id="link" viewBox="0 0 14 10">
  <path d="M6 0v2H5a3 3 0 000 6h1v2H5A5 5 0 115 0h1zm2 0h1a5 5 0 110 10H8V8h1a3 3 0 000-6H8V0zM5 4h4a1 1 0 110 2H5a1 1 0 110-2z"/>

</symbol>
<symbol id="plus" viewBox="0 0 14 14">
    <path d="M8.05 5.8h4.625a1.125 1.125 0 0 1 0 2.25H8.05v4.625a1.125 1.125 0 0 1-2.25 0V8.05H1.125a1.125 1.125 0 0 1 0-2.25H5.8V1.125a1.125 1.125 0 0 1 2.25 0V5.8z"/>

</symbol>
<symbol id="sad-face" viewBox="0 0 52 52">
    <path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/>

</symbol>
<symbol id="toggler-down">
  <path d="M6.5 9.294a.792.792 0 01-.562-.232L2.233 5.356a.794.794 0 011.123-1.123L6.5 7.377l3.144-3.144a.794.794 0 011.123 1.123L7.062 9.062a.792.792 0 01-.562.232z"/>

</symbol>
<symbol id="unlink" viewBox="0 0 15 11">
  <path d="M13.073 2.099l-1.448 1.448A3 3 0 009 2H8V0h1c1.68 0 3.166.828 4.073 2.099zM6.929 4l-.879.879L7.172 6H5a1 1 0 110-2h1.929zM6 0v2H5a3 3 0 100 6h1v2H5A5 5 0 115 0h1zm6.414 7l2.122 2.121-1.415 1.415L11 8.414l-2.121 2.122L7.464 9.12 9.586 7 7.464 4.879 8.88 3.464 11 5.586l2.121-2.122 1.415 1.415L12.414 7z"/>

</symbol></svg>`},function(n,i){n.exports='.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff "}@media (min-width:651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s linear infinite;animation:editor-loader-spin .8s linear infinite;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:rgba(46,170,220,.2);border:1px solid transparent}.codex-editor svg{fill:currentColor;vertical-align:middle;max-height:100%}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,transform;display:none}@media (max-width:650px){.ce-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}}@media (max-width:650px) and (max-width:650px){.ce-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}@media (max-width:650px){.ce-toolbar{padding:3px;margin-top:5px}.ce-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar--opened{display:block}@media (max-width:650px){.ce-toolbar--opened{display:-webkit-box;display:-ms-flexbox;display:flex}}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}@media (max-width:650px){.ce-toolbar__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0;max-width:calc(100% - 35px)}}.ce-toolbar__plus{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:-34px;-ms-flex-negative:0;flex-shrink:0}.ce-toolbar__plus--active,.ce-toolbar__plus:hover{color:#388ae5}.ce-toolbar__plus--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}.ce-toolbar__plus--hidden{display:none}@media (max-width:650px){.ce-toolbar__plus{display:-webkit-inline-box!important;display:-ms-inline-flexbox!important;display:inline-flex!important;position:static;-webkit-transform:none!important;transform:none!important}}.ce-toolbar .ce-toolbox,.ce-toolbar__plus{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.ce-toolbar__actions{position:absolute;right:-30px;top:5px;opacity:0}@media (max-width:650px){.ce-toolbar__actions{position:absolute;right:-28px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}}.ce-toolbar__actions--opened{opacity:1}.ce-toolbar__actions-buttons{text-align:right}.ce-toolbar__settings-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;color:#707684;cursor:pointer;background:#eff2f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-toolbar__settings-btn:hover{color:#1d202b}@media (max-width:650px){.ce-toolbar__settings-btn{background:transparent}}@media (min-width:651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}.ce-toolbox{position:absolute;visibility:hidden;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:650px){.ce-toolbox{position:static;-webkit-transform:none!important;transform:none!important;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto}}.ce-toolbox--opened{opacity:1;visibility:visible}.ce-toolbox__button{color:#707684;cursor:pointer;width:34px;height:34px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-negative:0;flex-shrink:0}.ce-toolbox__button--active,.ce-toolbox__button:hover{color:#388ae5}.ce-toolbox__button--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbox-button-tooltip__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}@media (min-width:651px){.codex-editor--narrow .ce-toolbox{background:#fff;z-index:2}}.ce-inline-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-inline-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-inline-toolbar{-webkit-transform:translateX(-50%) translateY(8px) scale(.9);transform:translateX(-50%) translateY(8px) scale(.9);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.9);transform:translateX(-23px) translateY(8px) scale(.9)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translateX(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.9);transform:translateX(-100%) translateY(8px) scale(.9);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translateX(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{width:100%;padding:0 6px}.ce-inline-toolbar__buttons,.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:34px;padding:0 9px 0 10px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48)}.ce-inline-toolbar__dropdown:hover{background:#eff2f5}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content{display:-webkit-box;display:-ms-flexbox;display:flex;font-weight:500;font-size:14px}.ce-inline-toolbar__dropdown-content svg{height:12px}.ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:4px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-inline-tool:hover{background-color:#eff2f5}.ce-inline-tool{border-radius:0;line-height:normal;width:auto;padding:0 5px!important;min-width:24px}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool:not(:last-of-type){margin-right:2px}.ce-inline-tool .icon{height:12px}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48)}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-conversion-toolbar{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-conversion-toolbar{opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:20px;height:20px;border:1px solid rgba(201,201,204,.48);border-radius:3px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px;background:#fff}.ce-conversion-tool__icon svg{width:11px;height:11px}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings{position:absolute;background-color:#fff;border:1px solid #eaeaea;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:4px;z-index:2}@media (max-width:650px){.ce-settings{-webkit-box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);box-shadow:0 13px 7px -5px rgba(26,38,49,.09),6px 15px 34px -6px rgba(33,48,73,.29);border-bottom-color:#d5d7db}}.ce-settings{right:-1px;top:30px;min-width:114px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-settings--left-oriented:before{left:15px;margin-left:0}.ce-settings--right-oriented:before{left:auto;right:15px;margin-left:0}@media (max-width:650px){.ce-settings{bottom:40px;right:-11px;top:auto}}.ce-settings:before{left:auto;right:12px}@media (max-width:650px){.ce-settings:before{bottom:-5px;top:auto}}.ce-settings{display:none}.ce-settings--opened{display:block;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-name:panelShowing;animation-name:panelShowing}.ce-settings__plugin-zone:not(:empty){padding:3px 3px 0}.ce-settings__default-zone:not(:empty){padding:3px}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.ce-settings__button:hover{background-color:#eff2f5}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button{line-height:32px}.ce-settings__button--disabled{cursor:not-allowed!important;opacity:.3}.ce-settings__button--selected{color:#388ae5}.ce-settings__button--delete{-webkit-transition:background-color .3s ease;transition:background-color .3s ease;will-change:background-color}.ce-settings__button--delete .icon{-webkit-transition:-webkit-transform .2s ease-out;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out;will-change:transform}.ce-settings__button--confirm{background-color:#e24a4a!important;color:#fff}.ce-settings__button--confirm:hover{background-color:#d54a4a!important}.ce-settings__button--confirm .icon{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content .ce-stub,.ce-block--selected .ce-block__content img{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388ae5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388ae5,#388ae5 1px,#fff 0,#fff 6px)}.ce-block a{cursor:pointer;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width:651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-5%,0,0) rotate(-5deg);transform:translate3d(-5%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(2%,0,0) rotate(3deg);transform:translate3d(2%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-3%,0,0) rotate(-3deg);transform:translate3d(-3%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(2%,0,0) rotate(2deg);transform:translate3d(2%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-1%,0,0) rotate(-1deg);transform:translate3d(-1%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scaleX(1);transform:scaleX(1)}}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.cdx-block{padding:.4em 0}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important;display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:34px;height:34px;line-height:34px;padding:0!important;text-align:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:#000;margin:0}.cdx-settings-button:hover{background-color:#eff2f5}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px rgba(7,161,227,.08);background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button:not(:nth-child(3n+3)){margin-right:3px}.cdx-settings-button:nth-child(n+4){margin-top:3px}.cdx-settings-button--active{color:#388ae5}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s linear infinite;animation:cdxRotation 1.2s linear infinite}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px 0 rgba(18,30,57,.04);color:#707684;text-align:center;cursor:pointer}.cdx-button:hover{background:#fbfcfe;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px 0 rgba(18,30,57,.08)}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-34px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-34px}@media (max-width:650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0 solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width:651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}'},function(n,i,e){e.r(i),e.d(i,"nanoid",function(){return u}),e.d(i,"customAlphabet",function(){return a}),e.d(i,"customRandom",function(){return l}),e.d(i,"urlAlphabet",function(){return o}),e.d(i,"random",function(){return s});let o="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",s=d=>crypto.getRandomValues(new Uint8Array(d)),l=(d,f,c)=>{let h=(2<<Math.log(d.length-1)/Math.LN2)-1,v=-~(1.6*h*f/d.length);return()=>{let m="";for(;;){let y=c(v),p=v;for(;p--;)if(m+=d[y[p]&h]||"",m.length===f)return m}}},a=(d,f)=>l(d,f,s),u=(d=21)=>{let f="",c=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let h=63&c[d];f+=h<36?h.toString(36):h<62?(h-26).toString(36).toUpperCase():h<63?"_":"-"}return f}}])})})(dp);var zx=Oi(dp.exports),hp={exports:{}};(function(r,t){(function(n,i){r.exports=i()})(window,function(){return function(n){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=n,e.c=i,e.d=function(o,s,l){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},e.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)e.d(l,a,function(u){return o[u]}.bind(null,a));return l},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="/",e(e.s=0)}([function(n,i,e){function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function s(a,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}e(1).toString();/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function a(c){var h=c.data,v=c.config,m=c.api,y=c.readOnly;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=m,this.readOnly=y,this._CSS={block:this.api.styles.block,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"ce-header"},this._settings=v,this._data=this.normalizeData(h),this.settingsButtons=[],this._element=this.getTag()}var u,d,f;return u=a,f=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:e(6).default,title:"Heading"}}}],(d=[{key:"normalizeData",value:function(c){var h={};return o(c)!=="object"&&(c={}),h.text=c.text||"",h.level=parseInt(c.level)||this.defaultLevel.number,h}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var c=this,h=document.createElement("DIV");return this.levels.length<=1||this.levels.forEach(function(v){var m=document.createElement("SPAN");m.classList.add(c._CSS.settingsButton),c.currentLevel.number===v.number&&m.classList.add(c._CSS.settingsButtonActive),m.innerHTML=v.svg,m.dataset.level=v.number,m.addEventListener("click",function(){c.setLevel(v.number)}),h.appendChild(m),c.settingsButtons.push(m)}),h}},{key:"setLevel",value:function(c){var h=this;this.data={level:c,text:this.data.text},this.settingsButtons.forEach(function(v){v.classList.toggle(h._CSS.settingsButtonActive,parseInt(v.dataset.level)===c)})}},{key:"merge",value:function(c){var h={text:this.data.text+c.text,level:this.data.level};this.data=h}},{key:"validate",value:function(c){return c.text.trim()!==""}},{key:"save",value:function(c){return{text:c.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var c=document.createElement(this.currentLevel.tag);return c.innerHTML=this._data.text||"",c.classList.add(this._CSS.wrapper),c.contentEditable=this.readOnly?"false":"true",c.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),c}},{key:"onPaste",value:function(c){var h=c.detail.data,v=this.defaultLevel.number;switch(h.tagName){case"H1":v=1;break;case"H2":v=2;break;case"H3":v=3;break;case"H4":v=4;break;case"H5":v=5;break;case"H6":v=6}this._settings.levels&&(v=this._settings.levels.reduce(function(m,y){return Math.abs(y-v)<Math.abs(m-v)?y:m})),this.data={level:v,text:h.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(c){if(this._data=this.normalizeData(c),c.level!==void 0&&this._element.parentNode){var h=this.getTag();h.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(h,this._element),this._element=h}c.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var c=this,h=this.levels.find(function(v){return v.number===c._data.level});return h||(h=this.defaultLevel),h}},{key:"defaultLevel",get:function(){var c=this;if(this._settings.defaultLevel){var h=this.levels.find(function(v){return v.number===c._settings.defaultLevel});if(h)return h;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var c=this,h=[{number:1,tag:"H1",svg:'<svg width="16" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.14 1.494V4.98h4.62V1.494c0-.498.098-.871.293-1.12A.927.927 0 0 1 7.82 0c.322 0 .583.123.782.37.2.246.3.62.3 1.124v9.588c0 .503-.101.88-.303 1.128a.957.957 0 0 1-.779.374.921.921 0 0 1-.77-.378c-.193-.251-.29-.626-.29-1.124V6.989H2.14v4.093c0 .503-.1.88-.302 1.128a.957.957 0 0 1-.778.374.921.921 0 0 1-.772-.378C.096 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.285.374A.922.922 0 0 1 1.06 0c.321 0 .582.123.782.37.199.246.299.62.299 1.124zm11.653 9.985V5.27c-1.279.887-2.14 1.33-2.583 1.33a.802.802 0 0 1-.563-.228.703.703 0 0 1-.245-.529c0-.232.08-.402.241-.511.161-.11.446-.25.854-.424.61-.259 1.096-.532 1.462-.818a5.84 5.84 0 0 0 .97-.962c.282-.355.466-.573.552-.655.085-.082.246-.123.483-.123.267 0 .481.093.642.28.161.186.242.443.242.77v7.813c0 .914-.345 1.371-1.035 1.371-.307 0-.554-.093-.74-.28-.187-.186-.28-.461-.28-.825z"/></svg>'},{number:2,tag:"H2",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm10.99 9.288h3.527c.351 0 .62.072.804.216.185.144.277.34.277.588 0 .22-.073.408-.22.56-.146.154-.368.23-.665.23h-4.972c-.338 0-.601-.093-.79-.28a.896.896 0 0 1-.284-.659c0-.162.06-.377.182-.645s.255-.478.399-.631a38.617 38.617 0 0 1 1.621-1.598c.482-.444.827-.735 1.034-.875.369-.261.676-.523.922-.787.245-.263.432-.534.56-.81.129-.278.193-.549.193-.815 0-.288-.069-.546-.206-.773a1.428 1.428 0 0 0-.56-.53 1.618 1.618 0 0 0-.774-.19c-.59 0-1.054.26-1.392.777-.045.068-.12.252-.226.554-.106.302-.225.534-.358.696-.133.162-.328.243-.585.243a.76.76 0 0 1-.56-.223c-.149-.148-.223-.351-.223-.608 0-.31.07-.635.21-.972.139-.338.347-.645.624-.92a3.093 3.093 0 0 1 1.054-.665c.426-.169.924-.253 1.496-.253.69 0 1.277.108 1.764.324.315.144.592.343.83.595.24.252.425.544.558.875.133.33.2.674.2 1.03 0 .558-.14 1.066-.416 1.523-.277.457-.56.815-.848 1.074-.288.26-.771.666-1.45 1.22-.677.554-1.142.984-1.394 1.29a3.836 3.836 0 0 0-.331.44z"/></svg>'},{number:3,tag:"H3",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm11.61 4.919c.418 0 .778-.123 1.08-.368.301-.245.452-.597.452-1.055 0-.35-.12-.65-.36-.902-.241-.252-.566-.378-.974-.378-.277 0-.505.038-.684.116a1.1 1.1 0 0 0-.426.306 2.31 2.31 0 0 0-.296.49c-.093.2-.178.388-.255.565a.479.479 0 0 1-.245.225.965.965 0 0 1-.409.081.706.706 0 0 1-.5-.22c-.152-.148-.228-.345-.228-.59 0-.236.071-.484.214-.745a2.72 2.72 0 0 1 .627-.746 3.149 3.149 0 0 1 1.024-.568 4.122 4.122 0 0 1 1.368-.214c.44 0 .842.06 1.205.18.364.12.679.294.947.52.267.228.47.49.606.79.136.3.204.622.204.967 0 .454-.099.843-.296 1.168-.198.324-.48.64-.848.95.354.19.653.408.895.653.243.245.426.516.548.813.123.298.184.619.184.964 0 .413-.083.812-.248 1.198-.166.386-.41.73-.732 1.031a3.49 3.49 0 0 1-1.147.708c-.443.17-.932.256-1.467.256a3.512 3.512 0 0 1-1.464-.293 3.332 3.332 0 0 1-1.699-1.64c-.142-.314-.214-.573-.214-.777 0-.263.085-.475.255-.636a.89.89 0 0 1 .637-.242c.127 0 .25.037.367.112a.53.53 0 0 1 .232.27c.236.63.489 1.099.759 1.405.27.306.65.46 1.14.46a1.714 1.714 0 0 0 1.46-.824c.17-.273.256-.588.256-.947 0-.53-.145-.947-.436-1.249-.29-.302-.694-.453-1.212-.453-.09 0-.231.01-.422.028-.19.018-.313.027-.367.027-.25 0-.443-.062-.579-.187-.136-.125-.204-.299-.204-.521 0-.218.081-.394.245-.528.163-.134.406-.2.728-.2h.28z"/></svg>'},{number:4,tag:"H4",svg:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm13.003 10.09v-1.252h-3.38c-.427 0-.746-.097-.96-.29-.213-.193-.32-.456-.32-.788 0-.085.016-.171.048-.259.031-.088.078-.18.141-.276.063-.097.128-.19.195-.28.068-.09.15-.2.25-.33l3.568-4.774a5.44 5.44 0 0 1 .576-.683.763.763 0 0 1 .542-.212c.682 0 1.023.39 1.023 1.171v5.212h.29c.346 0 .623.047.832.142.208.094.313.3.313.62 0 .26-.086.45-.256.568-.17.12-.427.179-.768.179h-.41v1.252c0 .346-.077.603-.23.771-.152.168-.356.253-.612.253a.78.78 0 0 1-.61-.26c-.154-.173-.232-.427-.232-.764zm-2.895-2.76h2.895V4.91L12.26 8.823z"/></svg>'},{number:5,tag:"H5",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zm14.16 2.645h-3.234l-.388 2.205c.644-.344 1.239-.517 1.783-.517.436 0 .843.082 1.222.245.38.164.712.39.998.677.286.289.51.63.674 1.025.163.395.245.82.245 1.273 0 .658-.148 1.257-.443 1.797-.295.54-.72.97-1.276 1.287-.556.318-1.197.477-1.923.477-.813 0-1.472-.15-1.978-.45-.506-.3-.865-.643-1.076-1.031-.21-.388-.316-.727-.316-1.018 0-.177.073-.345.22-.504a.725.725 0 0 1 .556-.238c.381 0 .665.22.85.66.182.404.427.719.736.943.309.225.654.337 1.035.337.35 0 .656-.09.919-.272.263-.182.466-.431.61-.749.142-.318.214-.678.214-1.082 0-.436-.078-.808-.232-1.117a1.607 1.607 0 0 0-.62-.69 1.674 1.674 0 0 0-.864-.229c-.39 0-.67.048-.837.143-.168.095-.41.262-.725.5-.316.239-.576.358-.78.358a.843.843 0 0 1-.592-.242c-.173-.16-.259-.344-.259-.548 0-.022.025-.177.075-.463l.572-3.26c.063-.39.181-.675.354-.852.172-.177.454-.265.844-.265h3.595c.708 0 1.062.27 1.062.81a.711.711 0 0 1-.26.572c-.172.145-.426.218-.762.218z"/></svg>'},{number:6,tag:"H6",svg:'<svg width="18" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2.152 1.494V4.98h4.646V1.494c0-.498.097-.871.293-1.12A.934.934 0 0 1 7.863 0c.324 0 .586.123.786.37.2.246.301.62.301 1.124v9.588c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378c-.194-.251-.29-.626-.29-1.124V6.989H2.152v4.093c0 .503-.101.88-.304 1.128a.964.964 0 0 1-.783.374.928.928 0 0 1-.775-.378C.097 11.955 0 11.58 0 11.082V1.494C0 .996.095.623.286.374A.929.929 0 0 1 1.066 0c.323 0 .585.123.786.37.2.246.3.62.3 1.124zM12.53 7.058a3.093 3.093 0 0 1 1.004-.814 2.734 2.734 0 0 1 1.214-.264c.43 0 .827.08 1.19.24.365.161.684.39.957.686.274.296.485.645.635 1.048a3.6 3.6 0 0 1 .223 1.262c0 .637-.145 1.216-.437 1.736-.292.52-.699.926-1.221 1.218-.522.292-1.114.438-1.774.438-.76 0-1.416-.186-1.967-.557-.552-.37-.974-.919-1.265-1.645-.292-.726-.438-1.613-.438-2.662 0-.855.088-1.62.265-2.293.176-.674.43-1.233.76-1.676.33-.443.73-.778 1.2-1.004.47-.226 1.006-.339 1.608-.339.579 0 1.089.113 1.53.34.44.225.773.506.997.84.224.335.335.656.335.964 0 .185-.07.354-.21.505a.698.698 0 0 1-.536.227.874.874 0 0 1-.529-.18 1.039 1.039 0 0 1-.36-.498 1.42 1.42 0 0 0-.495-.655 1.3 1.3 0 0 0-.786-.247c-.24 0-.479.069-.716.207a1.863 1.863 0 0 0-.6.56c-.33.479-.525 1.333-.584 2.563zm1.832 4.213c.456 0 .834-.186 1.133-.56.298-.373.447-.862.447-1.468 0-.412-.07-.766-.21-1.062a1.584 1.584 0 0 0-.577-.678 1.47 1.47 0 0 0-.807-.234c-.28 0-.548.074-.804.224-.255.149-.461.365-.617.647a2.024 2.024 0 0 0-.234.994c0 .61.158 1.12.475 1.527.316.407.714.61 1.194.61z"/></svg>'}];return this._settings.levels?h.filter(function(v){return c._settings.levels.includes(v.number)}):h}}])&&s(u.prototype,d),f&&s(u,f),a}();n.exports=l},function(n,i,e){var o=e(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,i,e){(n.exports=e(3)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,i){n.exports=function(e){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,u){var d=a[1]||"",f=a[3];if(!f)return d;if(u&&typeof btoa=="function"){var c=(v=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(v))))+" */"),h=f.sources.map(function(m){return"/*# sourceURL="+f.sourceRoot+m+" */"});return[d].concat(h).concat([c]).join(`
`)}var v;return[d].join(`
`)}(s,e);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},u=0;u<this.length;u++){var d=this[u][0];typeof d=="number"&&(a[d]=!0)}for(u=0;u<s.length;u++){var f=s[u];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,i,e){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),u=function(x){return document.querySelector(x)},d=function(x){var E={};return function(C){if(typeof C=="function")return C();if(E[C]===void 0){var N=u.call(this,C);if(window.HTMLIFrameElement&&N instanceof window.HTMLIFrameElement)try{N=N.contentDocument.head}catch{N=null}E[C]=N}return E[C]}}(),f=null,c=0,h=[],v=e(5);function m(x,E){for(var C=0;C<x.length;C++){var N=x[C],R=l[N.id];if(R){R.refs++;for(var I=0;I<R.parts.length;I++)R.parts[I](N.parts[I]);for(;I<N.parts.length;I++)R.parts.push(k(N.parts[I],E))}else{var L=[];for(I=0;I<N.parts.length;I++)L.push(k(N.parts[I],E));l[N.id]={id:N.id,refs:1,parts:L}}}}function y(x,E){for(var C=[],N={},R=0;R<x.length;R++){var I=x[R],L=E.base?I[0]+E.base:I[0],P={css:I[1],media:I[2],sourceMap:I[3]};N[L]?N[L].parts.push(P):C.push(N[L]={id:L,parts:[P]})}return C}function p(x,E){var C=d(x.insertInto);if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var N=h[h.length-1];if(x.insertAt==="top")N?N.nextSibling?C.insertBefore(E,N.nextSibling):C.appendChild(E):C.insertBefore(E,C.firstChild),h.push(E);else if(x.insertAt==="bottom")C.appendChild(E);else{if(typeof x.insertAt!="object"||!x.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var R=d(x.insertInto+" "+x.insertAt.before);C.insertBefore(E,R)}}function g(x){if(x.parentNode===null)return!1;x.parentNode.removeChild(x);var E=h.indexOf(x);E>=0&&h.splice(E,1)}function _(x){var E=document.createElement("style");return x.attrs.type===void 0&&(x.attrs.type="text/css"),b(E,x.attrs),p(x,E),E}function b(x,E){Object.keys(E).forEach(function(C){x.setAttribute(C,E[C])})}function k(x,E){var C,N,R,I;if(E.transform&&x.css){if(!(I=E.transform(x.css)))return function(){};x.css=I}if(E.singleton){var L=c++;C=f||(f=_(E)),N=O.bind(null,C,L,!1),R=O.bind(null,C,L,!0)}else x.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(C=function(P){var D=document.createElement("link");return P.attrs.type===void 0&&(P.attrs.type="text/css"),P.attrs.rel="stylesheet",b(D,P.attrs),p(P,D),D}(E),N=T.bind(null,C,E),R=function(){g(C),C.href&&URL.revokeObjectURL(C.href)}):(C=_(E),N=A.bind(null,C),R=function(){g(C)});return N(x),function(P){if(P){if(P.css===x.css&&P.media===x.media&&P.sourceMap===x.sourceMap)return;N(x=P)}else R()}}n.exports=function(x,E){if(typeof DEBUG!="undefined"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(E=E||{}).attrs=typeof E.attrs=="object"?E.attrs:{},E.singleton||typeof E.singleton=="boolean"||(E.singleton=a()),E.insertInto||(E.insertInto="head"),E.insertAt||(E.insertAt="bottom");var C=y(x,E);return m(C,E),function(N){for(var R=[],I=0;I<C.length;I++){var L=C[I];(P=l[L.id]).refs--,R.push(P)}for(N&&m(y(N,E),E),I=0;I<R.length;I++){var P;if((P=R[I]).refs===0){for(var D=0;D<P.parts.length;D++)P.parts[D]();delete l[P.id]}}}};var w,S=(w=[],function(x,E){return w[x]=E,w.filter(Boolean).join(`
`)});function O(x,E,C,N){var R=C?"":N.css;if(x.styleSheet)x.styleSheet.cssText=S(E,R);else{var I=document.createTextNode(R),L=x.childNodes;L[E]&&x.removeChild(L[E]),L.length?x.insertBefore(I,L[E]):x.appendChild(I)}}function A(x,E){var C=E.css,N=E.media;if(N&&x.setAttribute("media",N),x.styleSheet)x.styleSheet.cssText=C;else{for(;x.firstChild;)x.removeChild(x.firstChild);x.appendChild(document.createTextNode(C))}}function T(x,E,C){var N=C.css,R=C.sourceMap,I=E.convertToAbsoluteUrls===void 0&&R;(E.convertToAbsoluteUrls||I)&&(N=v(N)),R&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(R))))+" */");var L=new Blob([N],{type:"text/css"}),P=x.href;x.href=URL.createObjectURL(L),P&&URL.revokeObjectURL(P)}},function(n,i){n.exports=function(e){var o=typeof window!="undefined"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!e||typeof e!="string")return e;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,u){var d,f=u.trim().replace(/^"(.*)"$/,function(c,h){return h}).replace(/^'(.*)'$/,function(c,h){return h});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(d=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(n,i,e){e.r(i),i.default=`<svg width="10" height="14" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 14">
  <path d="M7.6 8.15H2.25v4.525a1.125 1.125 0 0 1-2.25 0V1.125a1.125 1.125 0 1 1 2.25 0V5.9H7.6V1.125a1.125 1.125 0 0 1 2.25 0v11.55a1.125 1.125 0 0 1-2.25 0V8.15z"/>
</svg>
`}])})})(hp);var Wx=Oi(hp.exports),pp={exports:{}};(function(r,t){(function(n,i){r.exports=i()})(window,function(){return function(n){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=n,e.c=i,e.d=function(o,s,l){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},e.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)e.d(l,a,function(u){return o[u]}.bind(null,a));return l},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="/",e(e.s=0)}([function(n,i,e){function o(d){return function(f){if(Array.isArray(f))return s(f)}(d)||function(f){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(f))return Array.from(f)}(d)||function(f,c){if(!!f){if(typeof f=="string")return s(f,c);var h=Object.prototype.toString.call(f).slice(8,-1);if(h==="Object"&&f.constructor&&(h=f.constructor.name),h==="Map"||h==="Set")return Array.from(f);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return s(f,c)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(d,f){(f==null||f>d.length)&&(f=d.length);for(var c=0,h=new Array(f);c<f;c++)h[c]=d[c];return h}function l(d,f){for(var c=0;c<f.length;c++){var h=f[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}function a(d,f,c){return f&&l(d.prototype,f),c&&l(d,c),d}e(1).toString();var u=function(){function d(f){var c=f.data,h=(f.config,f.api),v=f.readOnly;(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,d),this._elements={wrapper:null},this.api=h,this.readOnly=v,this.settings=[{name:"unordered",title:this.api.i18n.t("Unordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',default:!1},{name:"ordered",title:this.api.i18n.t("Ordered"),icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M5.819 4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0-4.607h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 1 1 0-2.138zm0 9.357h9.362a1.069 1.069 0 0 1 0 2.138H5.82a1.069 1.069 0 0 1 0-2.137zM1.468 4.155V1.33c-.554.404-.926.606-1.118.606a.338.338 0 0 1-.244-.104A.327.327 0 0 1 0 1.59c0-.107.035-.184.105-.234.07-.05.192-.114.369-.192.264-.118.475-.243.633-.373.158-.13.298-.276.42-.438a3.94 3.94 0 0 1 .238-.298C1.802.019 1.872 0 1.975 0c.115 0 .208.042.277.127.07.085.105.202.105.351v3.556c0 .416-.15.624-.448.624a.421.421 0 0 1-.32-.127c-.08-.085-.121-.21-.121-.376zm-.283 6.664h1.572c.156 0 .275.03.358.091a.294.294 0 0 1 .123.25.323.323 0 0 1-.098.238c-.065.065-.164.097-.296.097H.629a.494.494 0 0 1-.353-.119.372.372 0 0 1-.126-.28c0-.068.027-.16.081-.273a.977.977 0 0 1 .178-.268c.267-.264.507-.49.722-.678.215-.188.368-.312.46-.371.165-.11.302-.222.412-.334.109-.112.192-.226.25-.344a.786.786 0 0 0 .085-.345.6.6 0 0 0-.341-.553.75.75 0 0 0-.345-.08c-.263 0-.47.11-.62.329-.02.029-.054.107-.101.235a.966.966 0 0 1-.16.295c-.059.069-.145.103-.26.103a.348.348 0 0 1-.25-.094.34.34 0 0 1-.099-.258c0-.132.031-.27.093-.413.063-.143.155-.273.279-.39.123-.116.28-.21.47-.282.189-.072.411-.107.666-.107.307 0 .569.045.786.137a1.182 1.182 0 0 1 .618.623 1.18 1.18 0 0 1-.096 1.083 2.03 2.03 0 0 1-.378.457c-.128.11-.344.282-.646.517-.302.235-.509.417-.621.547a1.637 1.637 0 0 0-.148.187z"/></svg>',default:!0}],this._data={style:this.settings.find(function(m){return m.default===!0}).name,items:[]},this.data=c}return a(d,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.625 4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0-4.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm0 9.85h9.25a1.125 1.125 0 0 1 0 2.25h-9.25a1.125 1.125 0 0 1 0-2.25zm-4.5-5a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0-4.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25zm0 9.85a1.125 1.125 0 1 1 0 2.25 1.125 1.125 0 0 1 0-2.25z"/></svg>',title:"List"}}}]),a(d,[{key:"render",value:function(){var f=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(function(c){f._elements.wrapper.appendChild(f._make("li",f.CSS.item,{innerHTML:c}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",function(c){switch(c.keyCode){case 13:f.getOutofList(c);break;case 8:f.backspace(c)}},!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var f=this,c=this._make("div",[this.CSS.settingsWrapper],{});return this.settings.forEach(function(h){var v=f._make("div",f.CSS.settingsButton,{innerHTML:h.icon});v.addEventListener("click",function(){f.toggleTune(h.name);var m=v.parentNode.querySelectorAll("."+f.CSS.settingsButton);Array.from(m).forEach(function(y){return y.classList.remove(f.CSS.settingsButtonActive)}),v.classList.toggle(f.CSS.settingsButtonActive)}),f.api.tooltip.onHover(v,h.title,{placement:"top",hidingDelay:500}),f._data.style===h.name&&v.classList.add(f.CSS.settingsButtonActive),c.appendChild(v)}),c}},{key:"onPaste",value:function(f){var c=f.detail.data;this.data=this.pasteHandler(c)}},{key:"makeMainTag",value:function(f){var c=f==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,h=f==="ordered"?"ol":"ul";return this._make(h,[this.CSS.baseBlock,this.CSS.wrapper,c],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(f){for(var c=this.makeMainTag(f);this._elements.wrapper.hasChildNodes();)c.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(c),this._elements.wrapper=c,this._data.style=f}},{key:"_make",value:function(f){var c,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=document.createElement(f);Array.isArray(h)?(c=m.classList).add.apply(c,o(h)):h&&m.classList.add(h);for(var y in v)m[y]=v[y];return m}},{key:"getOutofList",value:function(f){var c=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(c.length<2)){var h=c[c.length-1],v=this.currentItem;v!==h||h.textContent.trim().length||(v.parentElement.removeChild(v),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),f.preventDefault(),f.stopPropagation())}}},{key:"backspace",value:function(f){var c=this._elements.wrapper.querySelectorAll("."+this.CSS.item),h=c[0];h&&c.length<2&&!h.innerHTML.replace("<br>"," ").trim()&&f.preventDefault()}},{key:"selectItem",value:function(f){f.preventDefault();var c=window.getSelection(),h=c.anchorNode.parentNode.closest("."+this.CSS.item),v=new Range;v.selectNodeContents(h),c.removeAllRanges(),c.addRange(v)}},{key:"pasteHandler",value:function(f){var c,h=f.tagName;switch(h){case"OL":c="ordered";break;case"UL":case"LI":c="unordered"}var v={style:c,items:[]};if(h==="LI")v.items=[f.innerHTML];else{var m=Array.from(f.querySelectorAll("LI"));v.items=m.map(function(y){return y.innerHTML}).filter(function(y){return!!y.trim()})}return v}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item",settingsWrapper:"cdx-list-settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}},{key:"data",set:function(f){f||(f={}),this._data.style=f.style||this.settings.find(function(h){return h.default===!0}).name,this._data.items=f.items||[];var c=this._elements.wrapper;c&&c.parentNode.replaceChild(this.render(),c)},get:function(){this._data.items=[];for(var f=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),c=0;c<f.length;c++)f[c].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(f[c].innerHTML);return this._data}},{key:"currentItem",get:function(){var f=window.getSelection().anchorNode;return f.nodeType!==Node.ELEMENT_NODE&&(f=f.parentNode),f.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(f){return f.items.join(". ")},import:function(f){return{items:[f],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),d}();n.exports=u},function(n,i,e){var o=e(2),s=e(3);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,i,e){var o,s=function(){return o===void 0&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},l=function(){var _={};return function(b){if(_[b]===void 0){var k=document.querySelector(b);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}_[b]=k}return _[b]}}(),a=[];function u(_){for(var b=-1,k=0;k<a.length;k++)if(a[k].identifier===_){b=k;break}return b}function d(_,b){for(var k={},w=[],S=0;S<_.length;S++){var O=_[S],A=b.base?O[0]+b.base:O[0],T=k[A]||0,x="".concat(A," ").concat(T);k[A]=T+1;var E=u(x),C={css:O[1],media:O[2],sourceMap:O[3]};E!==-1?(a[E].references++,a[E].updater(C)):a.push({identifier:x,updater:g(C,b),references:1}),w.push(x)}return w}function f(_){var b=document.createElement("style"),k=_.attributes||{};if(k.nonce===void 0){var w=e.nc;w&&(k.nonce=w)}if(Object.keys(k).forEach(function(O){b.setAttribute(O,k[O])}),typeof _.insert=="function")_.insert(b);else{var S=l(_.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(b)}return b}var c,h=(c=[],function(_,b){return c[_]=b,c.filter(Boolean).join(`
`)});function v(_,b,k,w){var S=k?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(_.styleSheet)_.styleSheet.cssText=h(b,S);else{var O=document.createTextNode(S),A=_.childNodes;A[b]&&_.removeChild(A[b]),A.length?_.insertBefore(O,A[b]):_.appendChild(O)}}function m(_,b,k){var w=k.css,S=k.media,O=k.sourceMap;if(S?_.setAttribute("media",S):_.removeAttribute("media"),O&&btoa&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),_.styleSheet)_.styleSheet.cssText=w;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(w))}}var y=null,p=0;function g(_,b){var k,w,S;if(b.singleton){var O=p++;k=y||(y=f(b)),w=v.bind(null,k,O,!1),S=v.bind(null,k,O,!0)}else k=f(b),w=m.bind(null,k,b),S=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(k)};return w(_),function(A){if(A){if(A.css===_.css&&A.media===_.media&&A.sourceMap===_.sourceMap)return;w(_=A)}else S()}}n.exports=function(_,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var k=d(_=_||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var S=0;S<k.length;S++){var O=u(k[S]);a[O].references--}for(var A=d(w,b),T=0;T<k.length;T++){var x=u(k[T]);a[x].references===0&&(a[x].updater(),a.splice(x,1))}k=A}}}},function(n,i,e){(i=e(4)(!1)).push([n.i,`.cdx-list {
    margin: 0;
    padding-left: 40px;
    outline: none;
}

    .cdx-list__item {
        padding: 5.5px 0 5.5px 3px;
        line-height: 1.6em;
    }

    .cdx-list--unordered {
        list-style: disc;
    }

    .cdx-list--ordered {
        list-style: decimal;
    }

    .cdx-list-settings {
        display: flex;
    }

    .cdx-list-settings .cdx-settings-button {
            width: 50%;
        }
`,""]),n.exports=i},function(n,i,e){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(u,d){var f=u[1]||"",c=u[3];if(!c)return f;if(d&&typeof btoa=="function"){var h=(m=c,y=btoa(unescape(encodeURIComponent(JSON.stringify(m)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(p," */")),v=c.sources.map(function(g){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(g," */")});return[f].concat(v).concat([h]).join(`
`)}var m,y,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,u){typeof l=="string"&&(l=[[null,l,""]]);var d={};if(u)for(var f=0;f<this.length;f++){var c=this[f][0];c!=null&&(d[c]=!0)}for(var h=0;h<l.length;h++){var v=[].concat(l[h]);u&&d[v[0]]||(a&&(v[2]?v[2]="".concat(a," and ").concat(v[2]):v[2]=a),s.push(v))}},s}}])})})(pp);var $x=Oi(pp.exports),gp={exports:{}};(function(r,t){(function(n,i){r.exports=i()})(window,function(){return function(n){var i={};function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=n,e.c=i,e.d=function(o,s,l){e.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},e.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},e.t=function(o,s){if(1&s&&(o=e(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)e.d(l,a,function(u){return o[u]}.bind(null,a));return l},e.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(s,"a",s),s},e.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},e.p="/",e(e.s=25)}([function(n,i){function e(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&e(o.prototype,s),l&&e(o,l),o}},function(n,i){n.exports=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,i,e){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var u=s[a]={i:a,l:!1,exports:{}};return o[a].call(u.exports,u,u.exports,l),u.l=!0,u.exports}return l.m=o,l.c=s,l.d=function(a,u,d){l.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:d})},l.r=function(a){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,u){if(1&u&&(a=l(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var d=Object.create(null);if(l.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)l.d(d,f,function(c){return a[c]}.bind(null,f));return d},l.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(u,"a",u),u},l.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var u=l(2),d=setTimeout;function f(){}function c(_){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof _!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(_,this)}function h(_,b){for(;_._state===3;)_=_._value;_._state!==0?(_._handled=!0,c._immediateFn(function(){var k=_._state===1?b.onFulfilled:b.onRejected;if(k!==null){var w;try{w=k(_._value)}catch(S){return void m(b.promise,S)}v(b.promise,w)}else(_._state===1?v:m)(b.promise,_._value)})):_._deferreds.push(b)}function v(_,b){try{if(b===_)throw new TypeError("A promise cannot be resolved with itself.");if(b&&(typeof b=="object"||typeof b=="function")){var k=b.then;if(b instanceof c)return _._state=3,_._value=b,void y(_);if(typeof k=="function")return void g((w=k,S=b,function(){w.apply(S,arguments)}),_)}_._state=1,_._value=b,y(_)}catch(O){m(_,O)}var w,S}function m(_,b){_._state=2,_._value=b,y(_)}function y(_){_._state===2&&_._deferreds.length===0&&c._immediateFn(function(){_._handled||c._unhandledRejectionFn(_._value)});for(var b=0,k=_._deferreds.length;b<k;b++)h(_,_._deferreds[b]);_._deferreds=null}function p(_,b,k){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof b=="function"?b:null,this.promise=k}function g(_,b){var k=!1;try{_(function(w){k||(k=!0,v(b,w))},function(w){k||(k=!0,m(b,w))})}catch(w){if(k)return;k=!0,m(b,w)}}c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,b){var k=new this.constructor(f);return h(this,new p(_,b,k)),k},c.prototype.finally=u.a,c.all=function(_){return new c(function(b,k){if(!_||_.length===void 0)throw new TypeError("Promise.all accepts an array");var w=Array.prototype.slice.call(_);if(w.length===0)return b([]);var S=w.length;function O(T,x){try{if(x&&(typeof x=="object"||typeof x=="function")){var E=x.then;if(typeof E=="function")return void E.call(x,function(C){O(T,C)},k)}w[T]=x,--S==0&&b(w)}catch(C){k(C)}}for(var A=0;A<w.length;A++)O(A,w[A])})},c.resolve=function(_){return _&&typeof _=="object"&&_.constructor===c?_:new c(function(b){b(_)})},c.reject=function(_){return new c(function(b,k){k(_)})},c.race=function(_){return new c(function(b,k){for(var w=0,S=_.length;w<S;w++)_[w].then(b,k)})},c._immediateFn=typeof a=="function"&&function(_){a(_)}||function(_){d(_,0)},c._unhandledRejectionFn=function(_){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",_)},s.a=c}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var u=this.constructor;return this.then(function(d){return u.resolve(a()).then(function(){return d})},function(d){return u.resolve(a()).then(function(){return u.reject(d)})})}},function(o,s,l){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(g)}l(4);var u,d,f,c,h,v,m,y=l(8),p=(d=function(g){return new Promise(function(_,b){g=c(g),(g=h(g)).beforeSend&&g.beforeSend();var k=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");k.open(g.method,g.url),k.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(g.headers).forEach(function(S){var O=g.headers[S];k.setRequestHeader(S,O)});var w=g.ratio;k.upload.addEventListener("progress",function(S){var O=Math.round(S.loaded/S.total*100),A=Math.ceil(O*w/100);g.progress(Math.min(A,100))},!1),k.addEventListener("progress",function(S){var O=Math.round(S.loaded/S.total*100),A=Math.ceil(O*(100-w)/100)+w;g.progress(Math.min(A,100))},!1),k.onreadystatechange=function(){if(k.readyState===4){var S=k.response;try{S=JSON.parse(S)}catch{}var O=y.parseHeaders(k.getAllResponseHeaders()),A={body:S,code:k.status,headers:O};m(k.status)?_(A):b(A)}},k.send(g.data)})},f=function(g){return g.method="POST",d(g)},c=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g.url&&typeof g.url!="string")throw new Error("Url must be a string");if(g.url=g.url||"",g.method&&typeof g.method!="string")throw new Error("`method` must be a string or null");if(g.method=g.method?g.method.toUpperCase():"GET",g.headers&&a(g.headers)!=="object")throw new Error("`headers` must be an object or null");if(g.headers=g.headers||{},g.type&&(typeof g.type!="string"||!Object.values(u).includes(g.type)))throw new Error("`type` must be taken from module's \xABcontentType\xBB library");if(g.progress&&typeof g.progress!="function")throw new Error("`progress` must be a function or null");if(g.progress=g.progress||function(_){},g.beforeSend=g.beforeSend||function(_){},g.ratio&&typeof g.ratio!="number")throw new Error("`ratio` must be a number");if(g.ratio<0||g.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(g.ratio=g.ratio||90,g.accept&&typeof g.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(g.accept=g.accept||"*/*",g.multiple&&typeof g.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(g.multiple=g.multiple||!1,g.fieldName&&typeof g.fieldName!="string")throw new Error("`fieldName` must be a string");return g.fieldName=g.fieldName||"files",g},h=function(g){switch(g.method){case"GET":var _=v(g.data,u.URLENCODED);delete g.data,g.url=/\?/.test(g.url)?g.url+"&"+_:g.url+"?"+_;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var b=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||u.JSON}(g);(y.isFormData(g.data)||y.isFormElement(g.data))&&(b=u.FORM),g.data=v(g.data,b),b!==p.contentType.FORM&&(g.headers["content-type"]=b)}return g},v=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case u.URLENCODED:return y.urlEncode(g);case u.JSON:return y.jsonEncode(g);case u.FORM:return y.formEncode(g);default:return g}},m=function(g){return g>=200&&g<300},{contentType:u={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:d,get:function(g){return g.method="GET",d(g)},post:f,transport:function(g){return g=c(g),y.selectFiles(g).then(function(_){for(var b=new FormData,k=0;k<_.length;k++)b.append(g.fieldName,_[k],_[k].name);y.isObject(g.data)&&Object.keys(g.data).forEach(function(S){var O=g.data[S];b.append(S,O)});var w=g.beforeSend;return g.beforeSend=function(){return w(_)},g.data=b,f(g)})},selectFiles:function(g){return delete(g=c(g)).beforeSend,y.selectFiles(g)}});o.exports=p},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var u=a!==void 0&&a||typeof self!="undefined"&&self||window,d=Function.prototype.apply;function f(c,h){this._id=c,this._clearFn=h}s.setTimeout=function(){return new f(d.call(setTimeout,u,arguments),clearTimeout)},s.setInterval=function(){return new f(d.call(setInterval,u,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(c){c&&c.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(u,this._id)},s.enroll=function(c,h){clearTimeout(c._idleTimeoutId),c._idleTimeout=h},s.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},s._unrefActive=s.active=function(c){clearTimeout(c._idleTimeoutId);var h=c._idleTimeout;h>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},h))},l(6),s.setImmediate=typeof self!="undefined"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self!="undefined"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,u){(function(d,f){if(!d.setImmediate){var c,h,v,m,y,p=1,g={},_=!1,b=d.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(d);k=k&&k.setTimeout?k:d,{}.toString.call(d.process)==="[object process]"?c=function(O){u.nextTick(function(){S(O)})}:function(){if(d.postMessage&&!d.importScripts){var O=!0,A=d.onmessage;return d.onmessage=function(){O=!1},d.postMessage("","*"),d.onmessage=A,O}}()?(m="setImmediate$"+Math.random()+"$",y=function(O){O.source===d&&typeof O.data=="string"&&O.data.indexOf(m)===0&&S(+O.data.slice(m.length))},d.addEventListener?d.addEventListener("message",y,!1):d.attachEvent("onmessage",y),c=function(O){d.postMessage(m+O,"*")}):d.MessageChannel?((v=new MessageChannel).port1.onmessage=function(O){S(O.data)},c=function(O){v.port2.postMessage(O)}):b&&"onreadystatechange"in b.createElement("script")?(h=b.documentElement,c=function(O){var A=b.createElement("script");A.onreadystatechange=function(){S(O),A.onreadystatechange=null,h.removeChild(A),A=null},h.appendChild(A)}):c=function(O){setTimeout(S,0,O)},k.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var A=new Array(arguments.length-1),T=0;T<A.length;T++)A[T]=arguments[T+1];var x={callback:O,args:A};return g[p]=x,c(p),p++},k.clearImmediate=w}function w(O){delete g[O]}function S(O){if(_)setTimeout(S,0,O);else{var A=g[O];if(A){_=!0;try{(function(T){var x=T.callback,E=T.args;switch(E.length){case 0:x();break;case 1:x(E[0]);break;case 2:x(E[0],E[1]);break;case 3:x(E[0],E[1],E[2]);break;default:x.apply(void 0,E)}})(A)}finally{w(O),_=!1}}}}})(typeof self=="undefined"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,u=o.exports={};function d(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function c(k){if(l===setTimeout)return setTimeout(k,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(k,0);try{return l(k,0)}catch{try{return l.call(null,k,0)}catch{return l.call(this,k,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:d}catch{l=d}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var h,v=[],m=!1,y=-1;function p(){m&&h&&(m=!1,h.length?v=h.concat(v):y=-1,v.length&&g())}function g(){if(!m){var k=c(p);m=!0;for(var w=v.length;w;){for(h=v,v=[];++y<w;)h&&h[y].run();y=-1,w=v.length}h=null,m=!1,function(S){if(a===clearTimeout)return clearTimeout(S);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(S);try{a(S)}catch{try{return a.call(null,S)}catch{return a.call(this,S)}}}(k)}}function _(k,w){this.fun=k,this.array=w}function b(){}u.nextTick=function(k){var w=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)w[S-1]=arguments[S];v.push(new _(k,w)),v.length!==1||m||c(g)},_.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=b,u.addListener=b,u.once=b,u.off=b,u.removeListener=b,u.removeAllListeners=b,u.emit=b,u.prependListener=b,u.prependOnceListener=b,u.listeners=function(k){return[]},u.binding=function(k){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(k){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(o,s,l){function a(d,f){for(var c=0;c<f.length;c++){var h=f[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}var u=l(9);o.exports=function(){function d(){(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d)}var f,c;return f=d,(c=[{key:"urlEncode",value:function(h){return u(h)}},{key:"jsonEncode",value:function(h){return JSON.stringify(h)}},{key:"formEncode",value:function(h){if(this.isFormData(h))return h;if(this.isFormElement(h))return new FormData(h);if(this.isObject(h)){var v=new FormData;return Object.keys(h).forEach(function(m){var y=h[m];v.append(m,y)}),v}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(h){return Object.prototype.toString.call(h)==="[object Object]"}},{key:"isFormData",value:function(h){return h instanceof FormData}},{key:"isFormElement",value:function(h){return h instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(v,m){var y=document.createElement("INPUT");y.type="file",h.multiple&&y.setAttribute("multiple","multiple"),h.accept&&y.setAttribute("accept",h.accept),y.style.display="none",document.body.appendChild(y),y.addEventListener("change",function(p){var g=p.target.files;v(g),document.body.removeChild(y)},!1),y.click()})}},{key:"parseHeaders",value:function(h){var v=h.trim().split(/[\r\n]+/),m={};return v.forEach(function(y){var p=y.split(": "),g=p.shift(),_=p.join(": ");g&&(m[g]=_)}),m}}])&&a(f,c),d}()},function(o,s){var l=function(u){return encodeURIComponent(u).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(u,d,f,c){return d=d||null,f=f||"&",c=c||null,u?function(h){for(var v=new Array,m=0;m<h.length;m++)h[m]&&v.push(h[m]);return v}(Object.keys(u).map(function(h){var v,m,y=h;if(c&&(y=c+"["+y+"]"),typeof u[h]=="object"&&u[h]!==null)v=a(u[h],null,f,y);else{d&&(m=y,y=!isNaN(parseFloat(m))&&isFinite(m)?d+Number(y):y);var p=u[h];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",v=l(y)+"="+l(p)}return v})).join(f).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,i,e){n.exports=e(14)},function(n,i){n.exports=function(e,o){(o==null||o>e.length)&&(o=e.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=e[s];return l}},function(n,i,e){var o=e(4);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,i){function e(o,s,l,a,u,d,f){try{var c=o[d](f),h=c.value}catch(v){return void l(v)}c.done?s(h):Promise.resolve(h).then(a,u)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,u){var d=o.apply(s,l);function f(h){e(d,a,u,f,c,"next",h)}function c(h){e(d,a,u,f,c,"throw",h)}f(void 0)})}}},function(n,i,e){var o=e(19),s=e(20),l=e(5),a=e(21);n.exports=function(u){return o(u)||s(u)||l(u)||a()}},function(n,i){n.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.15 13.628A7.749 7.749 0 0 0 10 17.75a7.74 7.74 0 0 0 6.305-3.242l-2.387-2.127-2.765 2.244-4.389-4.496-3.614 3.5zm-.787-2.303l4.446-4.371 4.52 4.63 2.534-2.057 3.533 2.797c.23-.734.354-1.514.354-2.324a7.75 7.75 0 1 0-15.387 1.325zM10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10z"></path></svg>'},function(n,i){n.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z"></path></svg>'},function(n,i){n.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z"></path></svg>'},function(n,i){n.exports='<svg width="17" height="10" viewBox="0 0 17 10" xmlns="http://www.w3.org/2000/svg"><path d="M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z"></path></svg>'},function(n,i){n.exports='<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150.242V79c0-18.778-15.222-34-34-34H79c-18.778 0-34 15.222-34 34v42.264l67.179-44.192 80.398 71.614 56.686-29.14L291 150.242zm-.345 51.622l-42.3-30.246-56.3 29.884-80.773-66.925L45 174.187V197c0 18.778 15.222 34 34 34h178c17.126 0 31.295-12.663 33.655-29.136zM79 0h178c43.63 0 79 35.37 79 79v118c0 43.63-35.37 79-79 79H79c-43.63 0-79-35.37-79-79V79C0 35.37 35.37 0 79 0z"></path></svg>'},function(n,i,e){var o=e(22),s=e(23),l=e(5),a=e(24);n.exports=function(u,d){return o(u)||s(u,d)||l(u,d)||a()}},function(n,i,e){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function h(R,I,L,P){var D=I&&I.prototype instanceof y?I:y,U=Object.create(D.prototype),M=new E(P||[]);return U._invoke=function(B,q,z){var j="suspendedStart";return function(F,H){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(F==="throw")throw H;return N()}for(z.method=F,z.arg=H;;){var W=z.delegate;if(W){var V=A(W,z);if(V){if(V===m)continue;return V}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(j==="suspendedStart")throw j="completed",z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);j="executing";var X=v(B,q,z);if(X.type==="normal"){if(j=z.done?"completed":"suspendedYield",X.arg===m)continue;return{value:X.arg,done:z.done}}X.type==="throw"&&(j="completed",z.method="throw",z.arg=X.arg)}}}(R,L,M),U}function v(R,I,L){try{return{type:"normal",arg:R.call(I,L)}}catch(P){return{type:"throw",arg:P}}}s.wrap=h;var m={};function y(){}function p(){}function g(){}var _={};_[d]=function(){return this};var b=Object.getPrototypeOf,k=b&&b(b(C([])));k&&k!==l&&a.call(k,d)&&(_=k);var w=g.prototype=y.prototype=Object.create(_);function S(R){["next","throw","return"].forEach(function(I){R[I]=function(L){return this._invoke(I,L)}})}function O(R,I){var L;this._invoke=function(P,D){function U(){return new I(function(M,B){(function q(z,j,F,H){var W=v(R[z],R,j);if(W.type!=="throw"){var V=W.arg,X=V.value;return X&&typeof X=="object"&&a.call(X,"__await")?I.resolve(X.__await).then(function(Q){q("next",Q,F,H)},function(Q){q("throw",Q,F,H)}):I.resolve(X).then(function(Q){V.value=Q,F(V)},function(Q){return q("throw",Q,F,H)})}H(W.arg)})(P,D,M,B)})}return L=L?L.then(U,U):U()}}function A(R,I){var L=R.iterator[I.method];if(L===void 0){if(I.delegate=null,I.method==="throw"){if(R.iterator.return&&(I.method="return",I.arg=void 0,A(R,I),I.method==="throw"))return m;I.method="throw",I.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var P=v(L,R.iterator,I.arg);if(P.type==="throw")return I.method="throw",I.arg=P.arg,I.delegate=null,m;var D=P.arg;return D?D.done?(I[R.resultName]=D.value,I.next=R.nextLoc,I.method!=="return"&&(I.method="next",I.arg=void 0),I.delegate=null,m):D:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,m)}function T(R){var I={tryLoc:R[0]};1 in R&&(I.catchLoc=R[1]),2 in R&&(I.finallyLoc=R[2],I.afterLoc=R[3]),this.tryEntries.push(I)}function x(R){var I=R.completion||{};I.type="normal",delete I.arg,R.completion=I}function E(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(T,this),this.reset(!0)}function C(R){if(R){var I=R[d];if(I)return I.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var L=-1,P=function D(){for(;++L<R.length;)if(a.call(R,L))return D.value=R[L],D.done=!1,D;return D.value=void 0,D.done=!0,D};return P.next=P}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=w.constructor=g,g.constructor=p,g[c]=p.displayName="GeneratorFunction",s.isGeneratorFunction=function(R){var I=typeof R=="function"&&R.constructor;return!!I&&(I===p||(I.displayName||I.name)==="GeneratorFunction")},s.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,g):(R.__proto__=g,c in R||(R[c]="GeneratorFunction")),R.prototype=Object.create(w),R},s.awrap=function(R){return{__await:R}},S(O.prototype),O.prototype[f]=function(){return this},s.AsyncIterator=O,s.async=function(R,I,L,P,D){D===void 0&&(D=Promise);var U=new O(h(R,I,L,P),D);return s.isGeneratorFunction(I)?U:U.next().then(function(M){return M.done?M.value:U.next()})},S(w),w[c]="Generator",w[d]=function(){return this},w.toString=function(){return"[object Generator]"},s.keys=function(R){var I=[];for(var L in R)I.push(L);return I.reverse(),function P(){for(;I.length;){var D=I.pop();if(D in R)return P.value=D,P.done=!1,P}return P.done=!0,P}},s.values=C,E.prototype={constructor:E,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!R)for(var I in this)I.charAt(0)==="t"&&a.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var I=this;function L(q,z){return U.type="throw",U.arg=R,I.next=q,z&&(I.method="next",I.arg=void 0),!!z}for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P],U=D.completion;if(D.tryLoc==="root")return L("end");if(D.tryLoc<=this.prev){var M=a.call(D,"catchLoc"),B=a.call(D,"finallyLoc");if(M&&B){if(this.prev<D.catchLoc)return L(D.catchLoc,!0);if(this.prev<D.finallyLoc)return L(D.finallyLoc)}else if(M){if(this.prev<D.catchLoc)return L(D.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return L(D.finallyLoc)}}}},abrupt:function(R,I){for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L];if(P.tryLoc<=this.prev&&a.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var D=P;break}}D&&(R==="break"||R==="continue")&&D.tryLoc<=I&&I<=D.finallyLoc&&(D=null);var U=D?D.completion:{};return U.type=R,U.arg=I,D?(this.method="next",this.next=D.finallyLoc,m):this.complete(U)},complete:function(R,I){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&I&&(this.next=I),m},finish:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I];if(L.finallyLoc===R)return this.complete(L.completion,L.afterLoc),x(L),m}},catch:function(R){for(var I=this.tryEntries.length-1;I>=0;--I){var L=this.tryEntries[I];if(L.tryLoc===R){var P=L.completion;if(P.type==="throw"){var D=P.arg;x(L)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(R,I,L){return this.delegate={iterator:C(R),resultName:I,nextLoc:L},this.method==="next"&&(this.arg=void 0),m}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,i,e){var o=e(16),s=e(17);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1},a=(o(s,l),s.locals?s.locals:{});n.exports=a},function(n,i,e){var o,s=function(){return o===void 0&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},l=function(){var _={};return function(b){if(_[b]===void 0){var k=document.querySelector(b);if(window.HTMLIFrameElement&&k instanceof window.HTMLIFrameElement)try{k=k.contentDocument.head}catch{k=null}_[b]=k}return _[b]}}(),a=[];function u(_){for(var b=-1,k=0;k<a.length;k++)if(a[k].identifier===_){b=k;break}return b}function d(_,b){for(var k={},w=[],S=0;S<_.length;S++){var O=_[S],A=b.base?O[0]+b.base:O[0],T=k[A]||0,x="".concat(A," ").concat(T);k[A]=T+1;var E=u(x),C={css:O[1],media:O[2],sourceMap:O[3]};E!==-1?(a[E].references++,a[E].updater(C)):a.push({identifier:x,updater:g(C,b),references:1}),w.push(x)}return w}function f(_){var b=document.createElement("style"),k=_.attributes||{};if(k.nonce===void 0){var w=e.nc;w&&(k.nonce=w)}if(Object.keys(k).forEach(function(O){b.setAttribute(O,k[O])}),typeof _.insert=="function")_.insert(b);else{var S=l(_.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(b)}return b}var c,h=(c=[],function(_,b){return c[_]=b,c.filter(Boolean).join(`
`)});function v(_,b,k,w){var S=k?"":w.media?"@media ".concat(w.media," {").concat(w.css,"}"):w.css;if(_.styleSheet)_.styleSheet.cssText=h(b,S);else{var O=document.createTextNode(S),A=_.childNodes;A[b]&&_.removeChild(A[b]),A.length?_.insertBefore(O,A[b]):_.appendChild(O)}}function m(_,b,k){var w=k.css,S=k.media,O=k.sourceMap;if(S?_.setAttribute("media",S):_.removeAttribute("media"),O&&btoa&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),_.styleSheet)_.styleSheet.cssText=w;else{for(;_.firstChild;)_.removeChild(_.firstChild);_.appendChild(document.createTextNode(w))}}var y=null,p=0;function g(_,b){var k,w,S;if(b.singleton){var O=p++;k=y||(y=f(b)),w=v.bind(null,k,O,!1),S=v.bind(null,k,O,!0)}else k=f(b),w=m.bind(null,k,b),S=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(k)};return w(_),function(A){if(A){if(A.css===_.css&&A.media===_.media&&A.sourceMap===_.sourceMap)return;w(_=A)}else S()}}n.exports=function(_,b){(b=b||{}).singleton||typeof b.singleton=="boolean"||(b.singleton=s());var k=d(_=_||[],b);return function(w){if(w=w||[],Object.prototype.toString.call(w)==="[object Array]"){for(var S=0;S<k.length;S++){var O=u(k[S]);a[O].references--}for(var A=d(w,b),T=0;T<k.length;T++){var x=u(k[T]);a[x].references===0&&(a[x].updater(),a.splice(x,1))}k=A}}}},function(n,i,e){(i=e(18)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;
}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=i},function(n,i,e){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(u,d){var f=u[1]||"",c=u[3];if(!c)return f;if(d&&typeof btoa=="function"){var h=(m=c,y=btoa(unescape(encodeURIComponent(JSON.stringify(m)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(y),"/*# ".concat(p," */")),v=c.sources.map(function(g){return"/*# sourceURL=".concat(c.sourceRoot||"").concat(g," */")});return[f].concat(v).concat([h]).join(`
`)}var m,y,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,u){typeof l=="string"&&(l=[[null,l,""]]);var d={};if(u)for(var f=0;f<this.length;f++){var c=this[f][0];c!=null&&(d[c]=!0)}for(var h=0;h<l.length;h++){var v=[].concat(l[h]);u&&d[v[0]]||(a&&(v[2]?v[2]="".concat(a," and ").concat(v[2]):v[2]=a),s.push(v))}},s}},function(n,i,e){var o=e(4);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,i){n.exports=function(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}},function(n,i){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,i){n.exports=function(e){if(Array.isArray(e))return e}},function(n,i){n.exports=function(e,o){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e)){var s=[],l=!0,a=!1,u=void 0;try{for(var d,f=e[Symbol.iterator]();!(l=(d=f.next()).done)&&(s.push(d.value),!o||s.length!==o);l=!0);}catch(c){a=!0,u=c}finally{try{l||f.return==null||f.return()}finally{if(a)throw u}}return s}}},function(n,i){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,i,e){e.r(i),e.d(i,"default",function(){return P});var o=e(3),s=e.n(o),l=e(6),a=e.n(l),u=e(1),d=e.n(u),f=e(0),c=e.n(f),h=(e(15),e(7)),v=e.n(h),m=e(8),y=e.n(m),p=function(){function D(U){var M=U.api,B=U.config,q=U.onSelectFile,z=U.readOnly;d()(this,D),this.api=M,this.config=B,this.onSelectFile=q,this.readOnly=z,this.nodes={wrapper:g("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:g("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:g("div",this.CSS.imagePreloader),caption:g("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return c()(D,[{key:"render",value:function(U){return U.file&&Object.keys(U.file).length!==0?this.toggleStatus(D.status.UPLOADING):this.toggleStatus(D.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var U=this,M=g("div",[this.CSS.button]);return M.innerHTML=this.config.buttonContent||"".concat(y.a," ").concat(this.api.i18n.t("Select an Image")),M.addEventListener("click",function(){U.onSelectFile()}),M}},{key:"showPreloader",value:function(U){this.nodes.imagePreloader.style.backgroundImage="url(".concat(U,")"),this.toggleStatus(D.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(D.status.EMPTY)}},{key:"fillImage",value:function(U){var M=this,B=/\.mp4$/.test(U)?"VIDEO":"IMG",q={src:U},z="load";B==="VIDEO"&&(q.autoplay=!0,q.loop=!0,q.muted=!0,q.playsinline=!0,z="loadeddata"),this.nodes.imageEl=g(B,this.CSS.imageEl,q),this.nodes.imageEl.addEventListener(z,function(){M.toggleStatus(D.status.FILLED),M.nodes.imagePreloader&&(M.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(U){this.nodes.caption&&(this.nodes.caption.innerHTML=U)}},{key:"toggleStatus",value:function(U){for(var M in D.status)Object.prototype.hasOwnProperty.call(D.status,M)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(D.status[M]),U===D.status[M])}},{key:"applyTune",value:function(U,M){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(U),M)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),D}(),g=function(D){var U,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=document.createElement(D);Array.isArray(M)?(U=q.classList).add.apply(U,v()(M)):M&&q.classList.add(M);for(var z in B)q[z]=B[z];return q},_=e(9),b=e.n(_),k=e(10),w=e.n(k),S=e(11),O=e.n(S),A=function(){function D(U){var M=U.api,B=U.actions,q=U.onChange;d()(this,D),this.api=M,this.actions=B,this.onChange=q,this.buttons=[]}return c()(D,[{key:"render",value:function(U){var M=this,B=g("div",this.CSS.wrapper);return this.buttons=[],D.tunes.concat(this.actions).forEach(function(q){var z=M.api.i18n.t(q.title),j=g("div",[M.CSS.buttonBase,M.CSS.button],{innerHTML:q.icon,title:z});j.addEventListener("click",function(){M.tuneClicked(q.name,q.action)}),j.dataset.tune=q.name,j.classList.toggle(M.CSS.buttonActive,U[q.name]),M.buttons.push(j),M.api.tooltip.onHover(j,z,{placement:"top"}),B.appendChild(j)}),B}},{key:"tuneClicked",value:function(U,M){if(typeof M=="function"&&!M(U))return!1;var B=this.buttons.find(function(q){return q.dataset.tune===U});B.classList.toggle(this.CSS.buttonActive,!B.classList.contains(this.CSS.buttonActive)),this.onChange(U)}},{key:"CSS",get:function(){return{wrapper:"",buttonBase:this.api.styles.settingsButton,button:"image-tool__tune",buttonActive:this.api.styles.settingsButtonActive}}}],[{key:"tunes",get:function(){return[{name:"withBorder",icon:w.a,title:"With border"},{name:"stretched",icon:O.a,title:"Stretch image"},{name:"withBackground",icon:b.a,title:"With background"}]}}]),D}(),T=e(12),x=e.n(T),E=e(13),C=e.n(E),N=e(2),R=e.n(N),I=function(){function D(U){var M=U.config,B=U.onUpload,q=U.onError;d()(this,D),this.config=M,this.onUpload=B,this.onError=q}return c()(D,[{key:"uploadSelectedFile",value:function(U){var M=this,B=U.onPreview,q=function(z){var j=new FileReader;j.readAsDataURL(z),j.onload=function(F){B(F.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?R.a.selectFiles({accept:this.config.types}).then(function(z){q(z[0]);var j=M.config.uploader.uploadByFile(z[0]);return L(j)||console.warn("Custom uploader method uploadByFile should return a Promise"),j}):R.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(z){q(z[0])},fieldName:this.config.field}).then(function(z){return z.body})).then(function(z){M.onUpload(z)}).catch(function(z){M.onError(z)})}},{key:"uploadByUrl",value:function(U){var M,B=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?L(M=this.config.uploader.uploadByUrl(U))||console.warn("Custom uploader method uploadByUrl should return a Promise"):M=R.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:U},this.config.additionalRequestData),type:R.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(q){return q.body}),M.then(function(q){B.onUpload(q)}).catch(function(q){B.onError(q)})}},{key:"uploadByFile",value:function(U,M){var B,q=this,z=M.onPreview,j=new FileReader;if(j.readAsDataURL(U),j.onload=function(H){z(H.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")L(B=this.config.uploader.uploadByFile(U))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var F=new FormData;F.append(this.config.field,U),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(H){var W=C()(H,2),V=W[0],X=W[1];F.append(V,X)}),B=R.a.post({url:this.config.endpoints.byFile,data:F,type:R.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(H){return H.body})}B.then(function(H){q.onUpload(H)}).catch(function(H){q.onError(H)})}}]),D}();function L(D){return D&&typeof D.then=="function"}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */var P=function(){function D(M){var B=this,q=M.data,z=M.config,j=M.api,F=M.readOnly;d()(this,D),this.api=j,this.readOnly=F,this.config={endpoints:z.endpoints||"",additionalRequestData:z.additionalRequestData||{},additionalRequestHeaders:z.additionalRequestHeaders||{},field:z.field||"image",types:z.types||"image/*",captionPlaceholder:this.api.i18n.t(z.captionPlaceholder||"Caption"),buttonContent:z.buttonContent||"",uploader:z.uploader||void 0,actions:z.actions||[]},this.uploader=new I({config:this.config,onUpload:function(H){return B.onUpload(H)},onError:function(H){return B.uploadingFailed(H)}}),this.ui=new p({api:j,config:this.config,onSelectFile:function(){B.uploader.uploadSelectedFile({onPreview:function(H){B.ui.showPreloader(H)}})},readOnly:F}),this.tunes=new A({api:j,actions:this.config.actions,onChange:function(H){return B.tuneToggled(H)}}),this._data={},this.data=q}var U;return c()(D,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:x.a,title:"Image"}}}]),c()(D,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(M){return M.file&&M.file.url}},{key:"save",value:function(){var M=this.ui.nodes.caption;return this._data.caption=M.innerHTML,this.data}},{key:"renderSettings",value:function(){return this.tunes.render(this.data)}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(U=a()(s.a.mark(function M(B){var q,z,j,F,H;return s.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:W.t0=B.type,W.next=W.t0==="tag"?3:W.t0==="pattern"?15:W.t0==="file"?18:21;break;case 3:if(q=B.detail.data,!/^blob:/.test(q.src)){W.next=13;break}return W.next=7,fetch(q.src);case 7:return z=W.sent,W.next=10,z.blob();case 10:return j=W.sent,this.uploadFile(j),W.abrupt("break",21);case 13:return this.uploadUrl(q.src),W.abrupt("break",21);case 15:return F=B.detail.data,this.uploadUrl(F),W.abrupt("break",21);case 18:return H=B.detail.file,this.uploadFile(H),W.abrupt("break",21);case 21:case"end":return W.stop()}},M,this)})),function(M){return U.apply(this,arguments)})},{key:"onUpload",value:function(M){M.success&&M.file?this.image=M.file:this.uploadingFailed("incorrect response: "+JSON.stringify(M))}},{key:"uploadingFailed",value:function(M){console.log("Image Tool: uploading failed because of",M),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(M){this.setTune(M,!this._data[M])}},{key:"setTune",value:function(M,B){var q=this;this._data[M]=B,this.ui.applyTune(M,B),M==="stretched"&&Promise.resolve().then(function(){var z=q.api.blocks.getCurrentBlockIndex();q.api.blocks.stretchBlock(z,B)}).catch(function(z){console.error(z)})}},{key:"uploadFile",value:function(M){var B=this;this.uploader.uploadByFile(M,{onPreview:function(q){B.ui.showPreloader(q)}})}},{key:"uploadUrl",value:function(M){this.ui.showPreloader(M),this.uploader.uploadByUrl(M)}},{key:"data",set:function(M){var B=this;this.image=M.file,this._data.caption=M.caption||"",this.ui.fillCaption(this._data.caption),A.tunes.forEach(function(q){var z=q.name,j=M[z]!==void 0&&(M[z]===!0||M[z]==="true");B.setTune(z,j)})},get:function(){return this._data}},{key:"image",set:function(M){this._data.file=M||{},M&&M.url&&this.ui.fillImage(M.url)}}],[{key:"pasteConfig",get:function(){return{tags:["img"],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png)$/i},files:{mimeTypes:["image/*"]}}}}]),D}()}]).default})})(gp);var Vx=Oi(gp.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $l(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,i=Object.getOwnPropertySymbols(r);e<i.length;e++)t.indexOf(i[e])<0&&Object.prototype.propertyIsEnumerable.call(r,i[e])&&(n[i[e]]=r[i[e]]);return n}function vp(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rw=vp,mp=new si("auth","Firebase",vp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Ia("@firebase/auth");function ss(r,...t){yp.logLevel<=Pe.ERROR&&yp.error(`Auth (${kr}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r,...t){throw Vl(r,...t)}function Mt(r,...t){return Vl(r,...t)}function bp(r,t,n){const i=Object.assign(Object.assign({},Rw()),{[t]:n});return new si("auth","Firebase",i).create(t,{appName:r.name})}function Nw(r,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Pt(r,"argument-error"),bp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vl(r,...t){if(typeof r!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return mp.create(r,...t)}function me(r,t,...n){if(!r)throw Vl(t,...n)}function Yt(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ss(t),new Error(t)}function Xt(r,t){r||Yt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=new Map;function Zt(r){Xt(r instanceof Function,"Expected a class definition");let t=_p.get(r);return t?(Xt(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_p.set(r,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,t){const n=To(r,"auth");if(n.isInitialized()){const e=n.getImmediate(),o=n.getOptions();if(Eo(o,t!=null?t:{}))return e;Pt(e,"already-initialized")}return n.initialize({options:t})}function Mw(r,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Zt);(t==null?void 0:t.errorMap)&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Lw(){return kp()==="http:"||kp()==="https:"}function kp(){var r;return typeof self!="undefined"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lw()||a0()||"connection"in navigator)?navigator.onLine:!0}function Dw(){if(typeof navigator=="undefined")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xt(n>t,"Short delay should be less than long delay!"),this.isMobile=Sa()||Rf()}get(){return Bw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r,t){Xt(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Ai(3e4,6e4);function Uw(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function as(r,t,n,i,e={}){return wp(r,e,()=>{let o={},s={};i&&(t==="GET"?s=i:o={body:JSON.stringify(i)});const l=br(Object.assign({key:r.config.apiKey},s)).slice(1),a=new(Yl.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",r._getSdkClientVersion()),r.languageCode&&a.set("X-Firebase-Locale",r.languageCode),Yl.fetch()(Ep(r,r.config.apiHost,n,l),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},o))})}async function wp(r,t,n){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},Fw),t);try{const e=new Hw(r),o=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Xl(r,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[a,u]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(r,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw Xl(r,"email-already-in-use",s);const d=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bp(r,d,u);Pt(r,d)}}catch(e){if(e instanceof Mn)throw e;Pt(r,"network-request-failed")}}async function qw(r,t,n,i,e={}){const o=await as(r,t,n,i,e);return"mfaPendingCredential"in o&&Pt(r,"multi-factor-auth-required",{_serverResponse:o}),o}function Ep(r,t,n,i){const e=`${t}${n}?${i}`;return r.config.emulator?Gl(r.config,e):`${r.config.apiScheme}://${e}`}class Hw{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mt(this.auth,"timeout")),jw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xl(r,t,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const e=Mt(r,t,i);return e.customData._tokenResponse=n,e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function Ww(r,t){return as(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(r){if(!!r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $w(r,t=!1){const n=et(r),i=await n.getIdToken(t),e=Jl(i);me(e&&e.exp&&e.auth_time&&e.iat,n.auth,"internal-error");const o=typeof e.firebase=="object"?e.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:e,token:i,authTime:Ri(Zl(e.auth_time)),issuedAtTime:Ri(Zl(e.iat)),expirationTime:Ri(Zl(e.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zl(r){return Number(r)*1e3}function Jl(r){const[t,n,i]=r.split(".");if(t===void 0||n===void 0||i===void 0)return ss("JWT malformed, contained fewer than 3 sections"),null;try{const e=xa(n);return e?JSON.parse(e):(ss("Failed to decode base64 JWT payload"),null)}catch(e){return ss("Caught error parsing JWT payload as JSON",e),null}}function Vw(r){const t=Jl(r);return me(t,"internal-error"),me(typeof t.exp!="undefined","internal-error"),me(typeof t.iat!="undefined","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(r,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Mn&&Kw(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function Kw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const e=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(r){var t;const n=r.auth,i=await r.getIdToken(),e=await Ni(r,Ww(n,{idToken:i}));me(e==null?void 0:e.users.length,n,"internal-error");const o=e.users[0];r._notifyReloadListener(o);const s=((t=o.providerUserInfo)===null||t===void 0?void 0:t.length)?Zw(o.providerUserInfo):[],l=Xw(r.providerData,s),a=r.isAnonymous,u=!(r.email&&o.passwordHash)&&!(l==null?void 0:l.length),d=a?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(r,f)}async function Yw(r){const t=et(r);await ls(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Xw(r,t){return[...r.filter(i=>!t.some(e=>e.providerId===i.providerId)),...t]}function Zw(r){return r.map(t=>{var{providerId:n}=t,i=$l(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(r,t){const n=await wp(r,{},()=>{const i=br({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:e,apiKey:o}=r.config,s=Ep(r,e,"/v1/token",`key=${o}`);return Yl.fetch()(s,{method:"POST",headers:{"X-Client-Version":r._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){me(t.idToken,"internal-error"),me(typeof t.idToken!="undefined","internal-error"),me(typeof t.refreshToken!="undefined","internal-error");const n="expiresIn"in t&&typeof t.expiresIn!="undefined"?Number(t.expiresIn):Vw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return me(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:e,expiresIn:o}=await Jw(t,n);this.updateTokensAndExpiration(i,e,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:e,expirationTime:o}=n,s=new Pi;return i&&(me(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),e&&(me(typeof e=="string","internal-error",{appName:t}),s.accessToken=e),o&&(me(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pi,this.toJSON())}_performRefresh(){return Yt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(r,t){me(typeof r=="string"||typeof r=="undefined","internal-error",{appName:t})}class Kn{constructor(t){var{uid:n,auth:i,stsTokenManager:e}=t,o=$l(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=e,this.accessToken=e.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.metadata=new xp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ni(this,this.stsTokenManager.getToken(this.auth,t));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return $w(this,t)}reload(){return Yw(this)}_assign(t){this!==t&&(me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await ls(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ni(this,zw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,e,o,s,l,a,u,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,c=(e=n.email)!==null&&e!==void 0?e:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(l=n.tenantId)!==null&&l!==void 0?l:void 0,y=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:b,isAnonymous:k,providerData:w,stsTokenManager:S}=n;me(_&&S,t,"internal-error");const O=Pi.fromJSON(this.name,S);me(typeof _=="string",t,"internal-error"),gn(f,t.name),gn(c,t.name),me(typeof b=="boolean",t,"internal-error"),me(typeof k=="boolean",t,"internal-error"),gn(h,t.name),gn(v,t.name),gn(m,t.name),gn(y,t.name),gn(p,t.name),gn(g,t.name);const A=new Kn({uid:_,auth:t,email:c,emailVerified:b,displayName:f,isAnonymous:k,photoURL:v,phoneNumber:h,tenantId:m,stsTokenManager:O,createdAt:p,lastLoginAt:g});return w&&Array.isArray(w)&&(A.providerData=w.map(T=>Object.assign({},T))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(t,n,i=!1){const e=new Pi;e.updateFromServerResponse(n);const o=new Kn({uid:n.localId,auth:t,stsTokenManager:e,isAnonymous:i});return await ls(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Sp.type="NONE";const Tp=Sp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r,t,n){return`firebase:${r}:${t}:${n}`}class Fr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:e,name:o}=this.auth;this.fullUserKey=us(this.userKey,e.apiKey,o),this.fullPersistenceKey=us("persistence",e.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Kn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Fr(Zt(Tp),t,i);const e=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=e[0]||Zt(Tp);const s=us(i,t.config.apiKey,t.name);let l=null;for(const u of n)try{const d=await u._get(s);if(d){const f=Kn._fromJSON(t,d);u!==o&&(l=f),o=u;break}}catch{}const a=e.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!a.length?new Fr(o,t,i):(o=a[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Fr(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ap(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Np(t))return"Blackberry";if(Pp(t))return"Webos";if(Ql(t))return"Safari";if((t.includes("chrome/")||Ip(t))&&!t.includes("edge/"))return"Chrome";if(Rp(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Cp(r=Qe()){return/firefox\//i.test(r)}function Ql(r=Qe()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ip(r=Qe()){return/crios\//i.test(r)}function Ap(r=Qe()){return/iemobile/i.test(r)}function Rp(r=Qe()){return/android/i.test(r)}function Np(r=Qe()){return/blackberry/i.test(r)}function Pp(r=Qe()){return/webos/i.test(r)}function cs(r=Qe()){return/iphone|ipad|ipod/i.test(r)}function Qw(r=Qe()){var t;return cs(r)&&!!((t=window.navigator)===null||t===void 0?void 0:t.standalone)}function eE(){return l0()&&document.documentMode===10}function Mp(r=Qe()){return cs(r)||Rp(r)||Pp(r)||Np(r)||/windows phone/i.test(r)||Ap(r)}function tE(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r,t=[]){let n;switch(r){case"Browser":n=Op(Qe());break;case"Worker":n=`${Op(Qe())}-${r}`;break;default:n=r}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${kr}/${i}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(t,n){this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mp,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zt(n)),this._initializationPromise=this.queue(async()=>{var i,e;this._deleted||(this.persistenceManager=await Fr.create(this,t),!this._deleted&&(((i=this._popupRedirectResolver)===null||i===void 0?void 0:i._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(n),this.lastNotifiedUid=((e=this.currentUser)===null||e===void 0?void 0:e.uid)||null,!this._deleted&&(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t)}}async initializeCurrentUser(t){var n;let i=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const e=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(t);(!e||e===o)&&(s==null?void 0:s.user)&&(i=s.user)}return i?i._redirectEventId?(me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)):this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ls(t)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?et(t):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zt(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new si("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zt(t)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Zt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,e){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return me(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?t.addObserver(n,i,e):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function eu(r){return et(r)}class Bp{constructor(t){this.auth=t,this.observer=null,this.addObserver=g0(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yt("not implemented")}_getIdTokenResponse(t){return Yt("not implemented")}_linkToIdToken(t,n){return Yt("not implemented")}_getReauthenticationResolver(t){return Yt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(r,t){return qw(r,"POST","/v1/accounts:signInWithIdp",Uw(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="http://localhost";class Gn extends Dp{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(t){const n=new Gn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:e}=n,o=$l(n,["providerId","signInMethod"]);if(!i||!e)return null;const s=new Gn(i,e);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return jr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,jr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,jr(t,n)}buildRequest(){const t={requestUri:rE,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=br(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends tu{constructor(){super(...arguments);this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends Mi{constructor(){super("facebook.com")}static credential(t){return Gn._fromParams({providerId:vn.PROVIDER_ID,signInMethod:vn.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vn.credentialFromTaggedObject(t)}static credentialFromError(t){return vn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vn.credential(t.oauthAccessToken)}catch{return null}}}vn.FACEBOOK_SIGN_IN_METHOD="facebook.com";vn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Mi{constructor(){super("google.com");this.addScope("profile")}static credential(t,n){return Gn._fromParams({providerId:mn.PROVIDER_ID,signInMethod:mn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return mn.credentialFromTaggedObject(t)}static credentialFromError(t){return mn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return mn.credential(n,i)}catch{return null}}}mn.GOOGLE_SIGN_IN_METHOD="google.com";mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn extends Mi{constructor(){super("github.com")}static credential(t){return Gn._fromParams({providerId:yn.PROVIDER_ID,signInMethod:yn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yn.credentialFromTaggedObject(t)}static credentialFromError(t){return yn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yn.credential(t.oauthAccessToken)}catch{return null}}}yn.GITHUB_SIGN_IN_METHOD="github.com";yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Mi{constructor(){super("twitter.com")}static credential(t,n){return Gn._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return bn.credentialFromTaggedObject(t)}static credentialFromError(t){return bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return bn.credential(n,i)}catch{return null}}}bn.TWITTER_SIGN_IN_METHOD="twitter.com";bn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,e=!1){const o=await Kn._fromIdTokenResponse(t,i,e),s=Fp(i);return new Ur({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const e=Fp(i);return new Ur({user:t,providerId:e,_tokenResponse:i,operationType:n})}}function Fp(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Mn{constructor(t,n,i,e){var o;super(n.code,n.message);this.operationType=i,this.user=e,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,e){return new fs(t,n,i,e)}}function jp(r,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fs._fromErrorAndOperation(r,o,t,i):o})}async function iE(r,t,n=!1){const i=await Ni(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ur._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(r,t,n=!1){const{auth:i}=r,e="reauthenticate";try{const o=await Ni(r,jp(i,e,t,r),n);me(o.idToken,i,"internal-error");const s=Jl(o.idToken);me(s,i,"internal-error");const{sub:l}=s;return me(r.uid===l,i,"user-mismatch"),Ur._forOperation(r,e,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Pt(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(r,t,n=!1){const i="signIn",e=await jp(r,i,t),o=await Ur._fromIdTokenResponse(r,i,e);return n||await r._updateCurrentUser(o.user),o}function Kx(r,t,n,i){return et(r).onAuthStateChanged(t,n,i)}const ds="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ds,"1"),this.storage.removeItem(ds),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){const r=Qe();return Ql(r)||cs(r)}const lE=1e3,uE=10;class qp extends Up{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=aE()&&tE(),this.fallbackToPolling=Mp(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),e=this.localCache[n];i!==e&&t(n,e,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,l,a)=>{this.notifyListeners(s,a)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(i);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const e=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);eE()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(e,uE):e()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const e of Array.from(i))e(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},lE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qp.type="LOCAL";const cE=qp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Hp.type="SESSION";const zp=Hp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){return Promise.all(r.map(async t=>{try{const n=await t;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const i=new hs(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:e,data:o}=n.data,s=this.handlersMap[e];if(!(s==null?void 0:s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:e});const l=Array.from(s).map(async u=>u(n.origin,o)),a=await fE(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:e,response:a})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hs.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const e=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!e)throw new Error("connection_unavailable");let o,s;return new Promise((l,a)=>{const u=nu("",20);e.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},i);s={messageChannel:e,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(c.data.response);break;default:clearTimeout(d),clearTimeout(o),a(new Error("invalid_response"));break}}},this.handlers.add(s),e.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[e.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return window}function hE(r){Lt().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){return typeof Lt().WorkerGlobalScope!="undefined"&&typeof Lt().importScripts=="function"}async function pE(){if(!(navigator==null?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gE(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function vE(){return Wp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="firebaseLocalStorageDb",mE=1,ps="firebaseLocalStorage",Vp="fbase_key";class Li{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gs(r,t){return r.transaction([ps],t?"readwrite":"readonly").objectStore(ps)}function yE(){const r=indexedDB.deleteDatabase($p);return new Li(r).toPromise()}function ru(){const r=indexedDB.open($p,mE);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ps,{keyPath:Vp})}catch(e){n(e)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(ps)?t(i):(i.close(),await yE(),t(await ru()))})})}async function Kp(r,t,n){const i=gs(r,!0).put({[Vp]:t,value:n});return new Li(i).toPromise()}async function bE(r,t){const n=gs(r,!1).get(t),i=await new Li(n).toPromise();return i===void 0?null:i.value}function Gp(r,t){const n=gs(r,!0).delete(t);return new Li(n).toPromise()}const _E=800,kE=3;class Yp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ru(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>kE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(vE()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await pE(),!this.activeServiceWorker)return;this.sender=new dE(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);!i||((t=i[0])===null||t===void 0?void 0:t.fulfilled)&&((n=i[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ru();return await Kp(t,ds,"1"),await Gp(t,ds),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kp(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>bE(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gp(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(e=>{const o=gs(e,!1).getAll();return new Li(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:e,value:o}of t)i.add(e),JSON.stringify(this.localCache[e])!==JSON.stringify(o)&&(this.notifyListeners(e,o),n.push(e));for(const e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),n.push(e));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const e of Array.from(i))e(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_E)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yp.type="LOCAL";const wE=Yp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}function xE(r){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=t,i.onerror=e=>{const o=Mt("internal-error");o.customData=e,n(o)},i.type="text/javascript",i.charset="UTF-8",EE().appendChild(i)})}function SE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}new Ai(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,t){return t?Zt(t):(me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Dp{constructor(t){super("custom","custom");this.params=t}_getIdTokenResponse(t){return jr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return jr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return jr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function TE(r){return sE(r.auth,new iu(r),r.bypassAuthState)}function OE(r){const{auth:t,user:n}=r;return me(n,t,"internal-error"),oE(n,new iu(r),r.bypassAuthState)}async function CE(r){const{auth:t,user:n}=r;return me(n,t,"internal-error"),iE(n,new iu(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(t,n,i,e,o=!1){this.auth=t,this.resolver=i,this.user=e,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:e,tenantId:o,error:s,type:l}=t;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:e||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TE;case"linkViaPopup":case"linkViaRedirect":return CE;case"reauthViaPopup":case"reauthViaRedirect":return OE;default:Pt(this.auth,"internal-error")}}resolve(t){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Ai(2e3,1e4);async function Gx(r,t,n){const i=eu(r);Nw(r,t,tu);const e=Xp(i,n);return new Yn(i,"signInViaPopup",t,e).executeNotNull()}class Yn extends Zp{constructor(t,n,i,e,o){super(t,n,e,o);this.provider=i,this.authWindow=null,this.pollId=null,Yn.currentPopupAction&&Yn.currentPopupAction.cancel(),Yn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return me(t,this.auth,"internal-error"),t}async onExecution(){Xt(this.filter.length===1,"Popup operations only handle one event");const t=nu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(t,IE.get())};t()}}Yn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="pendingRedirect",ou=new Map;class RE extends Zp{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i);this.eventId=null}async execute(){let t=ou.get(this.auth._key());if(!t){try{const i=await NE(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ou.set(this.auth._key(),t)}return this.bypassAuthState||ou.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NE(r,t){const n=ME(t),i=PE(r);if(!await i._isAvailable())return!1;const e=await i._get(n)==="true";return await i._remove(n),e}function PE(r){return Zt(r._redirectPersistence)}function ME(r){return us(AE,r.config.apiKey,r.name)}async function LE(r,t,n=!1){const i=eu(r),e=Xp(i,t),s=await new RE(i,e,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=10*60*1e3;class DE{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FE(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Qp(t)){const e=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Mt(this.auth,e))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BE&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jp(t))}saveEventToCache(t){this.cachedEventUids.add(Jp(t)),this.lastProcessedEventTime=Date.now()}}function Jp(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Qp({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function FE(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qp(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jE(r,t={}){return as(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qE=/^https?/;async function HE(r){if(r.config.emulator)return;const{authorizedDomains:t}=await jE(r);for(const n of t)try{if(zE(n))return}catch{}Pt(r,"unauthorized-domain")}function zE(r){const t=Kl(),{protocol:n,hostname:i}=new URL(t);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!qE.test(n))return!1;if(UE.test(r))return i===r;const e=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+e+"|"+e+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Ai(3e4,6e4);function eg(){const r=Lt().___jsl;if(r==null?void 0:r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function $E(r){return new Promise((t,n)=>{var i,e,o;function s(){eg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eg(),n(Mt(r,"network-request-failed"))},timeout:WE.get()})}if((e=(i=Lt().gapi)===null||i===void 0?void 0:i.iframes)===null||e===void 0?void 0:e.Iframe)t(gapi.iframes.getContext());else if((o=Lt().gapi)===null||o===void 0?void 0:o.load)s();else{const l=SE("iframefcb");return Lt()[l]=()=>{gapi.load?s():n(Mt(r,"network-request-failed"))},xE(`https://apis.google.com/js/api.js?onload=${l}`)}}).catch(t=>{throw vs=null,t})}let vs=null;function VE(r){return vs=vs||$E(r),vs}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Ai(5e3,15e3),GE="__/auth/iframe",YE="emulator/auth/iframe",XE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JE(r){const t=r.config;me(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Gl(t,YE):`https://${r.config.authDomain}/${GE}`,i={apiKey:t.apiKey,appName:r.name,v:kr},e=ZE.get(r.config.apiHost);e&&(i.eid=e);const o=r._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${br(i).slice(1)}`}async function QE(r){const t=await VE(r),n=Lt().gapi;return me(n,r,"internal-error"),t.open({where:document.body,url:JE(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XE,dontclear:!0},i=>new Promise(async(e,o)=>{await i.restyle({setHideOnLeave:!1});const s=Mt(r,"network-request-failed"),l=Lt().setTimeout(()=>{o(s)},KE.get());function a(){Lt().clearTimeout(l),e(i)}i.ping(a).then(a,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,r2="_blank",i2="http://localhost";class tg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(r,t,n,i=t2,e=n2){const o=Math.max((window.screen.availHeight-e)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const a=Object.assign(Object.assign({},e2),{width:i.toString(),height:e.toString(),top:o,left:s}),u=Qe().toLowerCase();n&&(l=Ip(u)?r2:n),Cp(u)&&(t=t||i2,a.scrollbars="yes");const d=Object.entries(a).reduce((c,[h,v])=>`${c}${h}=${v},`,"");if(Qw(u)&&l!=="_self")return s2(t||"",l),new tg(null);const f=window.open(t||"",l,d);me(f,r,"popup-blocked");try{f.focus()}catch{}return new tg(f)}function s2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="__/auth/handler",l2="emulator/auth/handler";function ng(r,t,n,i,e,o){me(r.config.authDomain,r,"auth-domain-config-required"),me(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:kr,eventId:e};if(t instanceof tu){t.setDefaultLanguage(r.languageCode),s.providerId=t.providerId||"",Ta(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[a,u]of Object.entries(o||{}))s[a]=u}if(t instanceof Mi){const a=t.getScopes().filter(u=>u!=="");a.length>0&&(s.scopes=a.join(","))}r.tenantId&&(s.tid=r.tenantId);const l=s;for(const a of Object.keys(l))l[a]===void 0&&delete l[a];return`${u2(r)}?${br(l).slice(1)}`}function u2({config:r}){return r.emulator?Gl(r,l2):`https://${r.authDomain}/${a2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zp,this._completeRedirectFn=LE}async _openPopup(t,n,i,e){var o;Xt((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=ng(t,n,i,Kl(),e);return o2(t,s,nu())}async _openRedirect(t,n,i,e){return await this._originValidation(t),hE(ng(t,n,i,Kl(),e)),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:e,promise:o}=this.eventManagers[n];return e?Promise.resolve(e):(Xt(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i}async initAndGetManager(t){const n=await QE(t),i=new DE(t);return n.register("authEvent",e=>(me(e==null?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(su,{type:su},e=>{var o;const s=(o=e==null?void 0:e[0])===null||o===void 0?void 0:o[su];s!==void 0&&n(!!s),Pt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HE(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mp()||Ql()||cs()}}const f2=c2;var rg="@firebase/auth",ig="0.19.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{var e;t(((e=i)===null||e===void 0?void 0:e.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);!n||(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function p2(r){_r(new Ln("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),{apiKey:e,authDomain:o}=i.options;return(s=>{me(e&&!e.includes(":"),"invalid-api-key",{appName:s.name}),me(!(o==null?void 0:o.includes(":")),"argument-error",{appName:s.name});const l={apiKey:e,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lp(r)},a=new nE(s,l);return Mw(a,n),a})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),_r(new Ln("auth-internal",t=>{const n=eu(t.getProvider("auth").getImmediate());return(i=>new d2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(rg,ig,h2(r)),Rt(rg,ig,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r=Pa()){const t=To(r,"auth");return t.isInitialized()?t.getImmediate():Pw(r,{popupRedirectResolver:f2,persistence:[wE,cE,zp]})}p2("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="firebasestorage.googleapis.com",sg="storageBucket",g2=2*60*1e3,v2=10*60*1e3;class qe extends Mn{constructor(t,n){super(au(t),`Firebase Storage: ${n} (${au(t)})`);this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}_codeEquals(t){return au(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function au(r){return"storage/"+r}function lu(){const r="An unknown error occurred, please check the error payload for server response.";return new qe("unknown",r)}function m2(r){return new qe("object-not-found","Object '"+r+"' does not exist.")}function y2(r){return new qe("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b2(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe("unauthenticated",r)}function _2(){return new qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function k2(r){return new qe("unauthorized","User does not have permission to access '"+r+"'.")}function w2(){return new qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function E2(){return new qe("canceled","User canceled the upload/download.")}function x2(r){return new qe("invalid-url","Invalid URL '"+r+"'.")}function S2(r){return new qe("invalid-default-bucket","Invalid default bucket '"+r+"'.")}function T2(){return new qe("no-default-bucket","No default bucket found. Did you set the '"+sg+"' property when initializing the app?")}function O2(){return new qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function C2(){return new qe("no-download-url","The given file does not have any download URLs.")}function uu(r){return new qe("invalid-argument",r)}function ag(){return new qe("app-deleted","The Firebase app was deleted.")}function I2(r){return new qe("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bi(r,t){return new qe("invalid-format","String does not match format '"+r+"': "+t)}function Di(r){throw new qe("internal-error","Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=vt.makeFromUrl(t,n)}catch{return new vt(t,"")}if(i.path==="")return i;throw S2(t)}static makeFromUrl(t,n){let i=null;const e="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+e+s,"i"),a={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${d}/b/${e}/o${c}`,"i"),v={bucket:1,path:3},m=n===og?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",p=new RegExp(`^https?://${m}/${e}/${y}`,"i"),_=[{regex:l,indices:a,postModify:o},{regex:h,indices:v,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const k=_[b],w=k.regex.exec(t);if(w){const S=w[k.indices.bucket];let O=w[k.indices.path];O||(O=""),i=new vt(S,O),k.postModify(i);break}}if(i==null)throw x2(t);return i}}class A2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r,t,n){let i=1,e=null,o=null,s=!1,l=0;function a(){return l===2}let u=!1;function d(...y){u||(u=!0,t.apply(null,y))}function f(y){e=setTimeout(()=>{e=null,r(h,a())},y)}function c(){o&&clearTimeout(o)}function h(y,...p){if(u){c();return}if(y){c(),d.call(null,y,...p);return}if(a()||s){c(),d.call(null,y,...p);return}i<64&&(i*=2);let _;l===1?(l=2,_=0):_=(i+Math.random())*1e3,f(_)}let v=!1;function m(y){v||(v=!0,c(),!u&&(e!==null?(y||(l=2),clearTimeout(e),f(0)):y||(l=1)))}return f(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function N2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){return r!==void 0}function M2(r){return typeof r=="object"&&!Array.isArray(r)}function cu(r){return typeof r=="string"||r instanceof String}function lg(r){return fu()&&r instanceof Blob}function fu(){return typeof Blob!="undefined"}function ug(r,t,n,i){if(i<t)throw uu(`Invalid value for '${r}'. Expected ${t} or greater.`);if(i>n)throw uu(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${r}`}function cg(r){const t=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const e=t(i)+"="+t(r[i]);n=n+e+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Xn||(Xn={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,i,e,o,s,l,a,u,d,f){this.url_=t,this.method_=n,this.headers_=i,this.body_=e,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((c,h)=>{this.resolve_=c,this.reject_=h,this.start_()})}start_(){const t=(i,e)=>{if(e){i(!1,new ms(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===Xn.NO_ERROR,a=o.getStatus();if(!l||this.isRetryStatusCode_(a)){const d=o.getErrorCode()===Xn.ABORT;i(!1,new ms(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;i(!0,new ms(u,o))})},n=(i,e)=>{const o=this.resolve_,s=this.reject_,l=e.connection;if(e.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());P2(a)?o(a):o()}catch(a){s(a)}else if(l!==null){const a=lu();a.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,a)):s(a)}else if(e.canceled){const a=this.appDelete_?ag():E2();s(a)}else{const a=w2();s(a)}};this.canceled_?n(!1,new ms(!1,null,!0)):this.backoffId_=R2(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&N2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const n=t>=500&&t<600,e=[408,429].indexOf(t)!==-1,o=this.additionalRetryCodes_.indexOf(t)!==-1;return n||e||o}}class ms{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function B2(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function D2(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function F2(r,t){t&&(r["X-Firebase-GMPID"]=t)}function j2(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function U2(r,t,n,i,e,o){const s=cg(r.urlParams),l=r.url+s,a=Object.assign({},r.headers);return F2(a,t),B2(a,n),D2(a,o),j2(a,i),new L2(l,r.method,a,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function H2(...r){const t=q2();if(t!==void 0){const n=new t;for(let i=0;i<r.length;i++)n.append(r[i]);return n.getBlob()}else{if(fu())return new Blob(r);throw new qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function z2(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r){return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hu{constructor(t,n){this.data=t,this.contentType=n||null}}function $2(r,t){switch(r){case Bt.RAW:return new hu(fg(t));case Bt.BASE64:case Bt.BASE64URL:return new hu(dg(r,t));case Bt.DATA_URL:return new hu(K2(t),G2(t))}throw lu()}function fg(r){const t=[];for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)==55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)==56320))t.push(239,191,189);else{const o=i,s=r.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)==56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function V2(r){let t;try{t=decodeURIComponent(r)}catch{throw Bi(Bt.DATA_URL,"Malformed data URL.")}return fg(t)}function dg(r,t){switch(r){case Bt.BASE64:{const e=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(e||o)throw Bi(r,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break}case Bt.BASE64URL:{const e=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(e||o)throw Bi(r,"Invalid character '"+(e?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=W2(t)}catch{throw Bi(r,"Invalid character found")}const i=new Uint8Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return i}class hg{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Bi(Bt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Y2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}function K2(r){const t=new hg(r);return t.base64?dg(Bt.BASE64,t.rest):V2(t.rest)}function G2(r){return new hg(r).contentType}function Y2(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,n){let i=0,e="";lg(t)?(this.data_=t,i=t.size,e=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=e}size(){return this.size_}type(){return this.type_}slice(t,n){if(lg(this.data_)){const i=this.data_,e=z2(i,t,n);return e===null?null:new _n(e)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new _n(i,!0)}}static getBlob(...t){if(fu()){const n=t.map(i=>i instanceof _n?i.data_:i);return new _n(H2.apply(null,n))}else{const n=t.map(s=>cu(s)?$2(Bt.RAW,s).data:s.data_);let i=0;n.forEach(s=>{i+=s.byteLength});const e=new Uint8Array(i);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)e[o++]=s[l]}),new _n(e,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r){let t;try{t=JSON.parse(r)}catch{return null}return M2(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function Z2(r,t){const n=t.split("/").filter(i=>i.length>0).join("/");return r.length===0?n:r+"/"+n}function gg(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r,t){return t}class at{constructor(t,n,i,e){this.server=t,this.local=n||t,this.writable=!!i,this.xform=e||J2}}let ys=null;function Q2(r){return!cu(r)||r.length<2?r:gg(r)}function vg(){if(ys)return ys;const r=[];r.push(new at("bucket")),r.push(new at("generation")),r.push(new at("metageneration")),r.push(new at("name","fullPath",!0));function t(o,s){return Q2(s)}const n=new at("name");n.xform=t,r.push(n);function i(o,s){return s!==void 0?Number(s):s}const e=new at("size");return e.xform=i,r.push(e),r.push(new at("timeCreated")),r.push(new at("updated")),r.push(new at("md5Hash",null,!0)),r.push(new at("cacheControl",null,!0)),r.push(new at("contentDisposition",null,!0)),r.push(new at("contentEncoding",null,!0)),r.push(new at("contentLanguage",null,!0)),r.push(new at("contentType",null,!0)),r.push(new at("metadata","customMetadata",!0)),ys=r,ys}function ex(r,t){function n(){const i=r.bucket,e=r.fullPath,o=new vt(i,e);return t._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:n})}function tx(r,t,n){const i={};i.type="file";const e=n.length;for(let o=0;o<e;o++){const s=n[o];i[s.local]=s.xform(i,t[s.server])}return ex(i,r),i}function mg(r,t,n){const i=pg(t);return i===null?null:tx(r,i,n)}function nx(r,t,n,i){const e=pg(t);if(e===null||!cu(e.downloadTokens))return null;const o=e.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const d=r.bucket,f=r.fullPath,c="/b/"+s(d)+"/o/"+s(f),h=du(c,n,i),v=cg({alt:"media",token:u});return h+v})[0]}function rx(r,t){const n={},i=t.length;for(let e=0;e<i;e++){const o=t[e];o.writable&&(n[o.server]=r[o.local])}return JSON.stringify(n)}class yg{constructor(t,n,i,e){this.url=t,this.method=n,this.handler=i,this.timeout=e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r){if(!r)throw lu()}function ix(r,t){function n(i,e){const o=mg(r,e,t);return bg(o!==null),o}return n}function ox(r,t){function n(i,e){const o=mg(r,e,t);return bg(o!==null),nx(o,e,r.host,r._protocol)}return n}function _g(r){function t(n,i){let e;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?e=_2():e=b2():n.getStatus()===402?e=y2(r.bucket):n.getStatus()===403?e=k2(r.path):e=i,e.serverResponse=i.serverResponse,e}return t}function sx(r){const t=_g(r);function n(i,e){let o=t(i,e);return i.getStatus()===404&&(o=m2(r.path)),o.serverResponse=e.serverResponse,o}return n}function ax(r,t,n){const i=t.fullServerUrl(),e=du(i,r.host,r._protocol),o="GET",s=r.maxOperationRetryTime,l=new yg(e,o,ox(r,n),s);return l.errorHandler=sx(t),l}function lx(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function ux(r,t,n){const i=Object.assign({},n);return i.fullPath=r.path,i.size=t.size(),i.contentType||(i.contentType=lx(null,t)),i}function cx(r,t,n,i,e){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const a=l();s["Content-Type"]="multipart/related; boundary="+a;const u=ux(t,i,e),d=rx(u,n),f="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,c=`\r
--`+a+"--",h=_n.getBlob(f,i,c);if(h===null)throw O2();const v={name:u.fullPath},m=du(o,r.host,r._protocol),y="POST",p=r.maxUploadRetryTime,g=new yg(m,y,ix(r,n),p);return g.urlParams=v,g.headers=s,g.body=h.uploadData(),g.errorHandler=_g(t),g}class fx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xn.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xn.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xn.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,e){if(this.sent_)throw Di("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),e!==void 0)for(const o in e)e.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,e[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Di("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Di("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Di("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Di("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class dx extends fx{initXhr(){this.xhr_.responseType="text"}}function kg(){return new dx}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n){this._service=t,n instanceof vt?this._location=n:this._location=vt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Zn(t,n)}get root(){const t=new vt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gg(this._location.path)}get storage(){return this._service}get parent(){const t=X2(this._location.path);if(t===null)return null;const n=new vt(this._location.bucket,t);return new Zn(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw I2(t)}}function hx(r,t,n){r._throwIfRoot("uploadBytes");const i=cx(r.storage,r._location,vg(),new _n(t,!0),n);return r.storage.makeRequestWithTokens(i,kg).then(e=>({metadata:e,ref:r}))}function px(r){r._throwIfRoot("getDownloadURL");const t=ax(r.storage,r._location,vg());return r.storage.makeRequestWithTokens(t,kg).then(n=>{if(n===null)throw C2();return n})}function gx(r,t){const n=Z2(r._location.path,t),i=new vt(r._location.bucket,n);return new Zn(r.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){return/^[A-Za-z]+:\/\//.test(r)}function mx(r,t){return new Zn(r,t)}function wg(r,t){if(r instanceof pu){const n=r;if(n._bucket==null)throw T2();const i=new Zn(n,n._bucket);return t!=null?wg(i,t):i}else return t!==void 0?gx(r,t):r}function yx(r,t){if(t&&vx(t)){if(r instanceof pu)return mx(r,t);throw uu("To use ref(service, url), the first argument must be a Storage instance.")}else return wg(r,t)}function Eg(r,t){const n=t==null?void 0:t[sg];return n==null?null:vt.makeFromBucketSpec(n,r)}class pu{constructor(t,n,i,e,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=e,this._firebaseVersion=o,this._bucket=null,this._host=og,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g2,this._maxUploadRetryTime=v2,this._requests=new Set,e!=null?this._bucket=vt.makeFromBucketSpec(e,this._host):this._bucket=Eg(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vt.makeFromBucketSpec(this._url,t):this._bucket=Eg(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){ug("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){ug("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zn(this,t)}_makeRequest(t,n,i,e){if(this._deleted)return new A2(ag());{const o=U2(t,this._appId,i,e,n,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,e]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,e).getPromise()}}const xg="@firebase/storage",Sg="0.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="storage";function Xx(r,t,n){return r=et(r),hx(r,t,n)}function Zx(r){return r=et(r),px(r)}function Jx(r,t){return r=et(r),yx(r,t)}function Qx(r=Pa(),t){return r=et(r),To(r,Tg).getImmediate({identifier:t})}function bx(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),e=r.getProvider("app-check-internal");return new pu(n,i,e,t,kr)}function _x(){_r(new Ln(Tg,bx,"PUBLIC").setMultipleInstances(!0)),Rt(xg,Sg,""),Rt(xg,Sg,"esm2017")}_x();export{Jx as A,Xx as B,Zx as C,Bx as D,zx as E,zt as F,yn as G,ok as H,Vx as I,Fx as J,Px as K,$x as L,Nx as M,Rx as N,Hx as Q,Ox as a,Mc as b,dm as c,Ks as d,Lx as e,Dx as f,qx as g,Ix as h,Mx as i,xx as j,Cx as k,jx as l,pt as m,Ss as n,cm as o,Ex as p,Ux as q,Tx as r,Yx as s,wx as t,Kx as u,Ax as v,Sx as w,Gx as x,Wx as y,Qx as z};
